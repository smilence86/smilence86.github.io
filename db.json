{"meta":{"version":1,"warehouse":"4.0.0"},"models":{"Asset":[{"_id":"themes/livemylife/source/css/archive.styl","path":"css/archive.styl","modified":0,"renderable":1},{"_id":"themes/livemylife/source/css/beantech.css","path":"css/beantech.css","modified":0,"renderable":1},{"_id":"themes/livemylife/source/css/beantech.min.css","path":"css/beantech.min.css","modified":0,"renderable":1},{"_id":"themes/livemylife/source/css/bootstrap.css","path":"css/bootstrap.css","modified":0,"renderable":1},{"_id":"themes/livemylife/source/css/bootstrap.min.css","path":"css/bootstrap.min.css","modified":0,"renderable":1},{"_id":"themes/livemylife/source/css/catalog.styl","path":"css/catalog.styl","modified":0,"renderable":1},{"_id":"themes/livemylife/source/css/gitalk.css","path":"css/gitalk.css","modified":0,"renderable":1},{"_id":"themes/livemylife/source/css/highlight.styl","path":"css/highlight.styl","modified":0,"renderable":1},{"_id":"themes/livemylife/source/css/hux-blog.min.css","path":"css/hux-blog.min.css","modified":0,"renderable":1},{"_id":"themes/livemylife/source/css/livemylife.css","path":"css/livemylife.css","modified":0,"renderable":1},{"_id":"themes/livemylife/source/css/rocket.styl","path":"css/rocket.styl","modified":0,"renderable":1},{"_id":"themes/livemylife/source/css/scroll.css","path":"css/scroll.css","modified":0,"renderable":1},{"_id":"themes/livemylife/source/css/search.css","path":"css/search.css","modified":0,"renderable":1},{"_id":"themes/livemylife/source/css/signature.styl","path":"css/signature.styl","modified":0,"renderable":1},{"_id":"themes/livemylife/source/css/themecolor.css","path":"css/themecolor.css","modified":0,"renderable":1},{"_id":"themes/livemylife/source/css/top.css","path":"css/top.css","modified":0,"renderable":1},{"_id":"themes/livemylife/source/css/viewer.min.css","path":"css/viewer.min.css","modified":0,"renderable":1},{"_id":"themes/livemylife/source/css/wave.css","path":"css/wave.css","modified":0,"renderable":1},{"_id":"themes/livemylife/source/css/widget.styl","path":"css/widget.styl","modified":0,"renderable":1},{"_id":"themes/livemylife/source/fonts/glyphicons-halflings-regular.eot","path":"fonts/glyphicons-halflings-regular.eot","modified":0,"renderable":1},{"_id":"themes/livemylife/source/fonts/glyphicons-halflings-regular.svg","path":"fonts/glyphicons-halflings-regular.svg","modified":0,"renderable":1},{"_id":"themes/livemylife/source/fonts/glyphicons-halflings-regular.ttf","path":"fonts/glyphicons-halflings-regular.ttf","modified":0,"renderable":1},{"_id":"themes/livemylife/source/fonts/glyphicons-halflings-regular.woff","path":"fonts/glyphicons-halflings-regular.woff","modified":0,"renderable":1},{"_id":"themes/livemylife/source/fonts/glyphicons-halflings-regular.woff2","path":"fonts/glyphicons-halflings-regular.woff2","modified":0,"renderable":1},{"_id":"themes/livemylife/source/js/bootstrap.js","path":"js/bootstrap.js","modified":0,"renderable":1},{"_id":"themes/livemylife/source/js/bootstrap.min.js","path":"js/bootstrap.min.js","modified":0,"renderable":1},{"_id":"themes/livemylife/source/js/catalog.js","path":"js/catalog.js","modified":0,"renderable":1},{"_id":"themes/livemylife/source/js/hux-blog.js","path":"js/hux-blog.js","modified":0,"renderable":1},{"_id":"themes/livemylife/source/js/hux-blog.min.js","path":"js/hux-blog.min.js","modified":0,"renderable":1},{"_id":"themes/livemylife/source/js/jquery.js","path":"js/jquery.js","modified":0,"renderable":1},{"_id":"themes/livemylife/source/js/jquery.min.js","path":"js/jquery.min.js","modified":0,"renderable":1},{"_id":"themes/livemylife/source/js/jquery.nav.js","path":"js/jquery.nav.js","modified":0,"renderable":1},{"_id":"themes/livemylife/source/js/jquery.tagcloud.js","path":"js/jquery.tagcloud.js","modified":0,"renderable":1},{"_id":"themes/livemylife/source/js/langselect.js","path":"js/langselect.js","modified":0,"renderable":1},{"_id":"themes/livemylife/source/js/line.js","path":"js/line.js","modified":0,"renderable":1},{"_id":"themes/livemylife/source/js/mouseclick.js","path":"js/mouseclick.js","modified":0,"renderable":1},{"_id":"themes/livemylife/source/js/ribbonDynamic.js","path":"js/ribbonDynamic.js","modified":0,"renderable":1},{"_id":"themes/livemylife/source/js/scroll.js","path":"js/scroll.js","modified":0,"renderable":1},{"_id":"themes/livemylife/source/js/totop.js","path":"js/totop.js","modified":0,"renderable":1},{"_id":"themes/livemylife/source/js/ziploader.js","path":"js/ziploader.js","modified":0,"renderable":1},{"_id":"themes/livemylife/source/css/images/beside_up.png","path":"css/images/beside_up.png","modified":0,"renderable":1},{"_id":"themes/livemylife/source/css/images/beside_up2.png","path":"css/images/beside_up2.png","modified":0,"renderable":1},{"_id":"themes/livemylife/source/css/images/beside_up_white.png","path":"css/images/beside_up_white.png","modified":0,"renderable":1},{"_id":"themes/livemylife/source/css/images/beside_up_white2.png","path":"css/images/beside_up_white2.png","modified":0,"renderable":1},{"_id":"themes/livemylife/source/js/comment/gitalk.js","path":"js/comment/gitalk.js","modified":0,"renderable":1},{"_id":"themes/livemylife/source/js/comment/gitalk_.js","path":"js/comment/gitalk_.js","modified":0,"renderable":1},{"_id":"themes/livemylife/source/js/viewer/pic-viewer.js","path":"js/viewer/pic-viewer.js","modified":0,"renderable":1},{"_id":"themes/livemylife/source/js/viewer/viewer.min.js","path":"js/viewer/viewer.min.js","modified":0,"renderable":1},{"_id":"source/CNAME","path":"CNAME","modified":0,"renderable":0},{"_id":"source/LICENSE","path":"LICENSE","modified":0,"renderable":0},{"_id":"source/img/header_img/404_bg.jpg","path":"img/header_img/404_bg.jpg","modified":0,"renderable":0},{"_id":"source/img/header_img/archive_bg.jpg","path":"img/header_img/archive_bg.jpg","modified":0,"renderable":0},{"_id":"source/img/header_img/archive_bg2.jpg","path":"img/header_img/archive_bg2.jpg","modified":0,"renderable":0},{"_id":"source/img/header_img/archive_bg3.jpg","path":"img/header_img/archive_bg3.jpg","modified":0,"renderable":0},{"_id":"source/img/header_img/categories_bg.jpg","path":"img/header_img/categories_bg.jpg","modified":0,"renderable":0},{"_id":"source/img/header_img/lml_bg.jpg","path":"img/header_img/lml_bg.jpg","modified":0,"renderable":0},{"_id":"source/img/header_img/lml_bg8.jpg","path":"img/header_img/lml_bg8.jpg","modified":0,"renderable":0},{"_id":"source/img/header_img/newhome_bg.jpg","path":"img/header_img/newhome_bg.jpg","modified":0,"renderable":0},{"_id":"source/img/header_img/tag_bg.jpg","path":"img/header_img/tag_bg.jpg","modified":0,"renderable":0},{"_id":"source/img/avatar/fatpeople.jpg","path":"img/avatar/fatpeople.jpg","modified":0,"renderable":0},{"_id":"source/img/avatar/roguerabbit.jpg","path":"img/avatar/roguerabbit.jpg","modified":0,"renderable":0},{"_id":"source/img/scenery/about_bg.jpg","path":"img/scenery/about_bg.jpg","modified":0,"renderable":0},{"_id":"source/img/scenery/about_bg2.jpg","path":"img/scenery/about_bg2.jpg","modified":0,"renderable":0},{"_id":"source/img/scenery/about_bg4.jpg","path":"img/scenery/about_bg4.jpg","modified":0,"renderable":0},{"_id":"source/img/scenery/treat_me_to_coffee.png","path":"img/scenery/treat_me_to_coffee.png","modified":0,"renderable":0},{"_id":"source/img/signature/vincent-white.png","path":"img/signature/vincent-white.png","modified":0,"renderable":0}],"Cache":[{"_id":"source/404.md","hash":"3bdf0ec6214c65c8e924c8f716fe73f13471ae3c","modified":1648808841668},{"_id":"source/CNAME","hash":"b0ba125d832bfe96886f77a35d20b31a1c21658e","modified":1645172295383},{"_id":"source/LICENSE","hash":"7df059597099bb7dcf25d2a9aedfaf4465f72d8d","modified":1648808841668},{"_id":"source/about/index.md","hash":"80ca2bb400a2cf1bc8735dff15e891063620aceb","modified":1648864938406},{"_id":"source/archive/index.md","hash":"de0eb3c05b79cd8fd09d38b5d856207577bc3b3d","modified":1648808841708},{"_id":"source/tags/index.md","hash":"519cf0ef95bbc13cdb8766e42255db97a7fc7e96","modified":1648808841894},{"_id":"source/categories/index.md","hash":"8c1cf6714a73da07c139a9f116725ef58d768da0","modified":1648808841708},{"_id":"source/_posts/en/non-censor.md","hash":"5a2b2e239b7cc290328ef16d9d935f27b6a61973","modified":1712755734048},{"_id":"source/_posts/en/Hexo-Theme-LiveMyLife.md","hash":"b729e7746809d016d81286a7a1db469269627449","modified":1648808841688},{"_id":"source/_posts/cn/Hexo-Theme-LiveMyLife.md","hash":"21fdcd5592ff43e796e0aed0c45d2a208ed91ab7","modified":1648808841668},{"_id":"source/_posts/en/hello-world.md","hash":"7d98d6592de80fdcd2949bd7401cec12afd98cdf","modified":1645172014610},{"_id":"source/_posts/en/openwrt.md","hash":"5ee034e74546aa06f6bf500d7999868b1d985c2f","modified":1712843240057},{"_id":"source/_posts/en/redmi_ac2100.md","hash":"60fe8f4380284c8930a7accd38675e62a84c24af","modified":1712755816265},{"_id":"source/_posts/en/all_in_one.md","hash":"375bee34b5a5429170d2d0c9a34b4821fb4b700a","modified":1712757095922},{"_id":"source/_posts/en/wireguard.md","hash":"25389c29b321b5fc82d75e0d48c5f511fb03e7f1","modified":1712841998675},{"_id":"source/img/avatar/fatpeople.jpg","hash":"04cc046c50473ab78aee784df62f05448be8b884","modified":1648808841708},{"_id":"source/_posts/images/ac2100/startup.png","hash":"8e298cdfd1b40ebcaec01272d409af68878248b3","modified":1646410575479},{"_id":"source/_posts/images/aio/CrystalDiskMark.png","hash":"c6e56ced5a6b653368b76bd742e48defbaf13868","modified":1648709318741},{"_id":"source/_posts/images/aio/pve_win10_mine_eth.png","hash":"d56f4c65f7c59de9a1d67d502fca2e6d8a5cc29d","modified":1648715256423},{"_id":"source/_posts/images/aio/pve_win10_transfer_speed.jpg","hash":"339179d1a0cd0e8c9f44f6d0a4adfb3e3aedb395","modified":1648716656001},{"_id":"source/_posts/images/non-censor/dns.png","hash":"7082817f2150401f7c3479ae23909aa2f173638b","modified":1646413390746},{"_id":"source/_posts/images/openwrt/pve_openwrt_ddns_cf.png","hash":"d3b562488ccf31e1d08ccc3af96f5e661d956a43","modified":1648797554919},{"_id":"source/_posts/images/openwrt/pve_openwrt_ddns.png","hash":"ee336777280a07eee696fe3e84ba1c5575dcadd2","modified":1648796786495},{"_id":"source/_posts/images/openwrt/pve_openwrt_eths_full_duplex.png","hash":"beee5bee8ebd25ae868f9c087edab6abc3141128","modified":1648786172388},{"_id":"source/_posts/images/wireguard/ddns.png","hash":"69b487dec739b0a858009b8de3360c265e4049a7","modified":1647851022055},{"_id":"source/_posts/images/wireguard/frp.png","hash":"86005fd61efb46c63c5a82a189ef43fe2278ac03","modified":1647845509734},{"_id":"source/_posts/images/wireguard/wg.png","hash":"e2090af2feaaa6ca6fae7e53aab423a838d71386","modified":1647847867781},{"_id":"themes/livemylife/LICENSE","hash":"2b209f06bebeb2a8c2b7e187e436f3e1e1fbc8a7","modified":1648808841894},{"_id":"themes/livemylife/_config.yml","hash":"7638a858e59f075c4066eb9ca880f3bce75ccd04","modified":1648808841894},{"_id":"themes/livemylife/languages/cn.yml","hash":"0a629acf131afb24fd571e09b8b79423404ade10","modified":1648808841894},{"_id":"themes/livemylife/languages/default.yml","hash":"736a02687bb045869622e41397acde60dfde0170","modified":1648808841894},{"_id":"themes/livemylife/languages/en.yml","hash":"736a02687bb045869622e41397acde60dfde0170","modified":1648808841894},{"_id":"themes/livemylife/languages/tw.yml","hash":"5461ef5509b9214d8e1128a1fd70c85cb5e2ab27","modified":1648808841894},{"_id":"themes/livemylife/layout/404.ejs","hash":"007f4b206b68a000b891115100a0a2992b0732f4","modified":1648808841894},{"_id":"themes/livemylife/layout/about.ejs","hash":"145d53bf1ed755cdcff669eed2c1a1862eb9fb98","modified":1648808841894},{"_id":"themes/livemylife/layout/archive.ejs","hash":"c09dd7bb49a28ec5ac65ef2b4d9f4e0e2c4e31a4","modified":1648808841894},{"_id":"themes/livemylife/layout/categories.ejs","hash":"3b074215b4880c6c5fcc428f586587f8c92d78a2","modified":1648808841894},{"_id":"themes/livemylife/layout/index.ejs","hash":"fe817f1952b0b4d88c4da9e45a213034f467925d","modified":1648879562734},{"_id":"themes/livemylife/layout/keynote.ejs","hash":"200bacc9da69024bda94c593b1571adbfc6be28d","modified":1648808841894},{"_id":"themes/livemylife/layout/layout.ejs","hash":"10880698337ee90d600a9d0e586ae15ce7947521","modified":1648808841894},{"_id":"themes/livemylife/layout/page.ejs","hash":"73a76818a48584d3859b97624f1b5cf42c99df61","modified":1648808841894},{"_id":"themes/livemylife/layout/post.ejs","hash":"677be9bc9c111cc6f8c5ee085a6971c6e792ae85","modified":1648808841894},{"_id":"themes/livemylife/layout/tags.ejs","hash":"90d1e6e2d719f56b12e01331857b0206025008c4","modified":1648808841894},{"_id":"themes/livemylife/source/css/archive.styl","hash":"715bcbd085eb95ec26c9805c11c374919cde971c","modified":1648808841894},{"_id":"themes/livemylife/source/css/beantech.min.css","hash":"ccbe0b94f3a36863a0f27e54fcfe4e1d8cdf00fd","modified":1648881673096},{"_id":"themes/livemylife/source/css/beantech.css","hash":"e9b282ed04c7da8be96450365dd42fbe879b2813","modified":1648882227662},{"_id":"themes/livemylife/source/css/catalog.styl","hash":"b4b4b71b20d8b6bce185b962c2feb79314b7813c","modified":1648808841898},{"_id":"themes/livemylife/source/css/highlight.styl","hash":"e842080e6d580f0f70a7df71fbde3c4e49463c19","modified":1648808841898},{"_id":"themes/livemylife/source/css/gitalk.css","hash":"51783fd60dff05e8e339ff83b41504538662f6ca","modified":1648808841898},{"_id":"themes/livemylife/source/css/hux-blog.min.css","hash":"1baef04de262aeb7023d835429b49a805ac4ab40","modified":1648808841898},{"_id":"themes/livemylife/source/css/livemylife.css","hash":"07f90cf42f19b7b86361d202b24918ee0c626211","modified":1648808841898},{"_id":"themes/livemylife/source/css/rocket.styl","hash":"d81a811f3b7149b519f8cebf9a9b5719dd4870c0","modified":1648808841898},{"_id":"themes/livemylife/source/css/search.css","hash":"c633ff24b9126676013197280b18bb79ea4abb6c","modified":1648808841898},{"_id":"themes/livemylife/source/css/scroll.css","hash":"ba16b97532dd6aaec66a82f3c33cc989d361fa7a","modified":1648808841898},{"_id":"themes/livemylife/source/css/signature.styl","hash":"88159b31c59d59c01a0b534af57242662a2a3969","modified":1648808841898},{"_id":"themes/livemylife/source/css/top.css","hash":"0303375fbe2ca942cd3d86f31d12fef9bf5785af","modified":1648808841898},{"_id":"themes/livemylife/source/css/themecolor.css","hash":"ece4c6624c8889c7c19f869976c7ec3b99ea6637","modified":1648879354127},{"_id":"themes/livemylife/source/css/wave.css","hash":"041f3b4a78e2840ba17679cea05fb14bb646722f","modified":1648808841898},{"_id":"themes/livemylife/source/css/viewer.min.css","hash":"0e045aa3df1be7d138caa701ec3aa623ccc7a52d","modified":1648808841898},{"_id":"themes/livemylife/source/css/widget.styl","hash":"7a9f735f5ef323dc2950fbd9d76daa16c9a0f1a9","modified":1648808841898},{"_id":"themes/livemylife/source/fonts/glyphicons-halflings-regular.eot","hash":"86b6f62b7853e67d3e635f6512a5a5efc58ea3c3","modified":1648808841898},{"_id":"themes/livemylife/source/fonts/glyphicons-halflings-regular.ttf","hash":"44bc1850f570972267b169ae18f1cb06b611ffa2","modified":1648808841898},{"_id":"themes/livemylife/source/fonts/glyphicons-halflings-regular.woff","hash":"278e49a86e634da6f2a02f3b47dd9d2a8f26210f","modified":1648808841898},{"_id":"themes/livemylife/source/fonts/glyphicons-halflings-regular.woff2","hash":"ca35b697d99cae4d1b60f2d60fcd37771987eb07","modified":1648808841898},{"_id":"themes/livemylife/source/js/catalog.js","hash":"059f3f31492e5b1a9dddf422a48c32969d247415","modified":1648808841898},{"_id":"themes/livemylife/source/js/hux-blog.js","hash":"4b4d3c557405d04c3087d36c13e2834fe05c0f73","modified":1648808841902},{"_id":"themes/livemylife/source/js/hux-blog.min.js","hash":"1563e7f70550ac6b30803d6f449719b853200e35","modified":1648808841906},{"_id":"themes/livemylife/source/js/bootstrap.min.js","hash":"b3f2ef9f985e7906c9360756b73cd64bf7733647","modified":1648808841898},{"_id":"themes/livemylife/source/js/jquery.nav.js","hash":"ef2160a456176a4d09cc0b95d52b27dfbbadf2d8","modified":1648808841906},{"_id":"themes/livemylife/source/js/jquery.tagcloud.js","hash":"4e5fd0b07f3bd935f2e603710447e039e3677211","modified":1648808841906},{"_id":"themes/livemylife/source/js/langselect.js","hash":"52ca6e30814272bc329868944f528f89630404e4","modified":1648808841906},{"_id":"themes/livemylife/source/js/line.js","hash":"d69576bfe75048345a137c148ffca1d9985811dc","modified":1648808841906},{"_id":"themes/livemylife/source/js/mouseclick.js","hash":"b27fb5ae779a855a93b85c923f1ac927ba52dc86","modified":1648808841906},{"_id":"themes/livemylife/source/js/scroll.js","hash":"265a4c4fc33b5b44b620db64ff31d2bc05d233e9","modified":1648808841906},{"_id":"themes/livemylife/source/js/ribbonDynamic.js","hash":"576f0ce237c87738277868489af30b6538681201","modified":1648808841906},{"_id":"themes/livemylife/source/js/totop.js","hash":"c05360f6fc699ac12e794b1764b4a952713a3017","modified":1648808841906},{"_id":"themes/livemylife/layout/_partial/anchorjs.ejs","hash":"9a9ff58f3767c7d23c029fcb2030ea353824f79a","modified":1648808841894},{"_id":"themes/livemylife/layout/_partial/catalog.ejs","hash":"11db668dce21b88b0648478ad82e053f50f06919","modified":1648808841894},{"_id":"themes/livemylife/layout/_partial/comment.ejs","hash":"c73c3e5d741688d14750af1897dd2388cbfc5368","modified":1648808841894},{"_id":"themes/livemylife/source/js/ziploader.js","hash":"9c25324caf53b56cb68839dcfb34e61e5a6a63f3","modified":1648808841906},{"_id":"themes/livemylife/layout/_partial/footer.ejs","hash":"d1dd2d70427c5f7c024422e35d7f6c4be43e9711","modified":1648808841894},{"_id":"themes/livemylife/layout/_partial/gitter.ejs","hash":"348193932983df5196a3bc49e8b59276d978b09f","modified":1648808841894},{"_id":"themes/livemylife/layout/_partial/head.ejs","hash":"76889b25d50a38617ccd7474b987f5e38218911d","modified":1648808841894},{"_id":"themes/livemylife/layout/_partial/langselect.ejs","hash":"6ead51e4f41fd08eb086edcf7964431dcb8ded8e","modified":1648808841894},{"_id":"themes/livemylife/layout/_partial/header.ejs","hash":"1f925baa3b78a8d907a327307cf11edebf7709e6","modified":1648808841894},{"_id":"themes/livemylife/layout/_partial/nav.ejs","hash":"0f143be3eccfa56ea1a1be1a01cadf92b78d1cc4","modified":1648882110489},{"_id":"themes/livemylife/layout/_partial/pagination.ejs","hash":"1c3f390b60dba1da3d57fb7fa95c0dd96efa99b8","modified":1648808841894},{"_id":"themes/livemylife/layout/_partial/sidebar.ejs","hash":"693e7199e6cbdd3d1fea8d6726786a43c548bd78","modified":1648808841894},{"_id":"themes/livemylife/layout/_partial/socialshare.ejs","hash":"1df693cf21a2f4af133fb0da0d2352ee2aa556e0","modified":1648808841894},{"_id":"themes/livemylife/layout/_partial/themecolor.ejs","hash":"c0da1e6af0e15dd1eb4a07fa8be93fa637fca8e8","modified":1648808841894},{"_id":"themes/livemylife/layout/_partial/tip.ejs","hash":"d535578b4629e830a2518695e9002f4aca115fc3","modified":1648808841894},{"_id":"themes/livemylife/layout/_partial/search.ejs","hash":"351b0ae458d04a379ac91014d7caa1b9c19ac7f1","modified":1648808841894},{"_id":"themes/livemylife/layout/_widget/archive.ejs","hash":"075b78b11c4dc4360bd4651f19128b19bd5e321e","modified":1648808841894},{"_id":"themes/livemylife/layout/_widget/category.ejs","hash":"002621598f14fc57d17bc3516f07981d5719af1c","modified":1648808841894},{"_id":"themes/livemylife/layout/_widget/featured-tags.ejs","hash":"dd023418a4399ddcc4118235585eb15e77f7762f","modified":1648808841894},{"_id":"themes/livemylife/layout/_widget/friends-blog.ejs","hash":"3bda9bab322b28e670a660dc9444ab9985676838","modified":1648808841894},{"_id":"themes/livemylife/layout/_widget/recent-posts.ejs","hash":"ad0f544631bdd168dece8cbbcf19fe42e195e085","modified":1648808841894},{"_id":"themes/livemylife/layout/_widget/visitor.ejs","hash":"f5a895fe5144588a1f80995d7e0a693aa1ca86ef","modified":1648808841894},{"_id":"themes/livemylife/layout/_widget/short-about.ejs","hash":"b682f5e9e30fd6800c4f6b50b41467d66d134c24","modified":1648808841894},{"_id":"themes/livemylife/source/css/images/beside_up2.png","hash":"ef066ba2e93a4738df45ae05020726e066c4dd1f","modified":1648808841898},{"_id":"themes/livemylife/source/css/images/beside_up.png","hash":"183d87f1a99e93fc663ec798fa8c94cb87c83bcb","modified":1648808841898},{"_id":"themes/livemylife/source/css/images/beside_up_white.png","hash":"49c5922a8de63dcf9468fbcffc70d2ec36b1b527","modified":1648808841898},{"_id":"themes/livemylife/source/css/images/beside_up_white2.png","hash":"52e9d5715def1d3d09ab076d5eb3d22916d8f7d7","modified":1648808841898},{"_id":"themes/livemylife/source/js/viewer/pic-viewer.js","hash":"9bf7c37cce781628346803ed7ce8f02623c2d013","modified":1648808841906},{"_id":"themes/livemylife/source/js/viewer/viewer.min.js","hash":"ae5380974b6fb8b0e15356c8418186c6c0821222","modified":1648808841906},{"_id":"source/_posts/images/wireguard/wg_windows.jpg","hash":"94b245d29c39ed4164e107ee7518ad8b228f8d1f","modified":1647849131526},{"_id":"source/img/scenery/about_bg.jpg","hash":"462c14b9b00ab2153e579f14cb1e44aa56704ce8","modified":1648808841894},{"_id":"source/img/scenery/about_bg4.jpg","hash":"272f0d4233aea38f32311439f8528d2b3bebd546","modified":1648808841894},{"_id":"source/_posts/cn/Hexo-Theme-LiveMyLife/home_posts_tag-true.png","hash":"3c6f335347d04e093fccc77e916c4a9d0c6c4a75","modified":1648808841672},{"_id":"source/_posts/en/Hexo-Theme-LiveMyLife/home_posts_tag-true.png","hash":"3c6f335347d04e093fccc77e916c4a9d0c6c4a75","modified":1648808841692},{"_id":"source/_posts/images/ac2100/k2p.png","hash":"42e0e9a120a8589d34cf6ba8ee03c867c0736059","modified":1646410728103},{"_id":"source/_posts/images/ac2100/origin_system.png","hash":"901bfa6cde34810099b07efba89de832305003da","modified":1646411169469},{"_id":"source/_posts/images/aio/CrystalDiskInfo.png","hash":"eca9e95331f6c33dbb8651a8d34d5badd78599e2","modified":1648709201266},{"_id":"source/_posts/images/aio/after_group.png","hash":"244e25002ad67394817b8cc50c8e5cc150b9667f","modified":1648714299200},{"_id":"source/_posts/images/aio/before_group.png","hash":"6cbc08ed0ec606c50efaf87121c64d19d9335c3e","modified":1648714228269},{"_id":"source/_posts/images/aio/pve_IDE.png","hash":"b218e918c58a0b544bfc1017fc585ebf8a9cdeab","modified":1648710819677},{"_id":"source/_posts/images/aio/pve_scsi.png","hash":"dec27e3d4922c81c89cf8706233de3e104dac0d7","modified":1648710868702},{"_id":"source/_posts/images/aio/pve_win10_cpuz_bench.png","hash":"12ef2e62310a9790772258788a9de4420452707b","modified":1648713813534},{"_id":"source/_posts/images/aio/pve_win10_no_disk.png","hash":"73d5dbae43288ef59e0f2d26cc3af5ee78026bc4","modified":1648711321490},{"_id":"source/_posts/images/aio/pve_win10_scsi_disk.png","hash":"d311fb543d00500d0e23b40e2e65fe4365e77b14","modified":1648711372125},{"_id":"source/_posts/images/aio/pve_win10_scsi_driver.png","hash":"d18c35bd305aca8d5eb0523ee6e3841e858af394","modified":1648711243718},{"_id":"source/_posts/images/aio/ups.png","hash":"2a9ccb5199ad0a3c8da78db066d3aa7c04eede48","modified":1648719893214},{"_id":"source/_posts/images/aio/win10_cpu.png","hash":"9eaaaef830bdc6bd087a1ea2830e03f8bde585e9","modified":1648707751013},{"_id":"source/_posts/images/aio/win10_cpuz_bench.png","hash":"2ab83b031646ff73889bdfad5b73582eb28844bf","modified":1648707896922},{"_id":"source/_posts/images/aio/win10_cpuz_vega_radeon.png","hash":"acf4709b47cd890499276dd1b0cc881ba630940d","modified":1648707892997},{"_id":"source/_posts/images/aio/win10_memory.png","hash":"ac56f28f8929420b4eb3fb7957a7d0e469d5d5c6","modified":1648707871490},{"_id":"source/_posts/images/aio/win10_radeon.png","hash":"c6714f3465eda934cdc745a817bbaf0cc8819d92","modified":1648707878874},{"_id":"source/_posts/images/non-censor/route.png","hash":"766e12af78017edf10ef04a6b6d8afc2f50516cb","modified":1646413617110},{"_id":"source/_posts/images/openwrt/pve_openwrt_forward.png","hash":"6cb30288185b0109538c633c9e7954435ed4902b","modified":1648800406571},{"_id":"source/_posts/images/openwrt/pve_openwrt_ip.png","hash":"aab0ae80f5e8db63ee59b4f9684d40296b5299a6","modified":1648785857094},{"_id":"source/_posts/images/openwrt/pve_openwrt_qemu_guest_agent.png","hash":"fa08123d5aed93a93676c7d125bfdbd00b94c322","modified":1648785765269},{"_id":"source/_posts/images/wireguard/openwrt.jpeg","hash":"0d838163f393e723e60baaf2d0320f7977169d7b","modified":1647850273137},{"_id":"source/_posts/images/wireguard/port.png","hash":"e84ac2a242d65ffbd1147aaef339df473e7ab717","modified":1647847347616},{"_id":"themes/livemylife/source/css/bootstrap.min.css","hash":"fec7b176a4b9a67c0eb5d184f57b84297efc23aa","modified":1648808841898},{"_id":"themes/livemylife/source/fonts/glyphicons-halflings-regular.svg","hash":"de51a8494180a6db074af2dee2383f0a363c5b08","modified":1648808841898},{"_id":"source/_posts/images/wireguard/wg_android.jpeg","hash":"748ecd1956faba1cc7d6401b952d5824ef8d305b","modified":1647849957980},{"_id":"themes/livemylife/source/js/bootstrap.js","hash":"f8752e9ae24daec0a0baffd7819122f8c6fd9103","modified":1648808841898},{"_id":"themes/livemylife/source/js/jquery.min.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1648808841906},{"_id":"source/img/scenery/treat_me_to_coffee.png","hash":"f5691b4f654701eaa19830a76062d86c0b58f999","modified":1648808841894},{"_id":"source/_posts/images/ac2100/breed.png","hash":"1afcf6ff0a813f0fcf099e8ba998602283a37e74","modified":1646409806999},{"_id":"source/_posts/images/ac2100/op_overview.png","hash":"16e33d8df250e3704328426461f3ffd4b5dd3900","modified":1646409908146},{"_id":"source/_posts/images/aio/pve_openwrt.png","hash":"a403351cc49afe388c20ac9121835a99ef3e71c7","modified":1648715561062},{"_id":"source/_posts/images/aio/pve_subscription.png","hash":"7c7eabeb1159c6e11d7d4a911ad482f56f51d681","modified":1648724618764},{"_id":"source/_posts/images/openwrt/cloudflare_dns.png","hash":"f22db24f7a6e1c23bc7520c203b3e53c1be99b51","modified":1648797202393},{"_id":"source/_posts/images/openwrt/pve_img.png","hash":"538234481ff6d2b0c92406de0a0281ed3009b94b","modified":1648779830291},{"_id":"source/_posts/images/openwrt/pve_openwrt_disk.png","hash":"145423bf1570a89bfa2f384d87d85f420410bf22","modified":1648780634674},{"_id":"source/_posts/images/openwrt/upload_img.png","hash":"4b77b6384a2273c8adf646dd330d6343e5e83d76","modified":1648779378481},{"_id":"themes/livemylife/source/css/bootstrap.css","hash":"41c54bf695145ae0b4d9020a1da308ceb05dcaf3","modified":1648808841898},{"_id":"source/img/scenery/about_bg2.jpg","hash":"bdffbe6a94f9c5be1b9353fc2b4f28a74677939f","modified":1648808841894},{"_id":"source/_posts/images/aio/pve_standby_power.jpg","hash":"b25decb433c24eecf91abab3f1a5c57bd66c911a","modified":1648710039625},{"_id":"source/_posts/images/aio/win10_cpuz.png","hash":"0149d724924159e62a3e2e47334b3d2a861bae8a","modified":1648707887009},{"_id":"source/_posts/images/openwrt/pve_bridge_eth.png","hash":"f4db4f5acbc2b414f92d7687a7fcccd46fc519dd","modified":1648781881263},{"_id":"source/_posts/images/openwrt/pve_openwrt_overview.png","hash":"21429aaf6ad89f7f619a9d41e4e3df20570fdc07","modified":1648785231064},{"_id":"themes/livemylife/source/js/jquery.js","hash":"1852661bd11a09ca9b9cb63d1aa6ff390fffaf4e","modified":1648808841906},{"_id":"source/img/avatar/roguerabbit.jpg","hash":"3c71801016fc2b587c128d42f45438f523bb1a1a","modified":1648808841708},{"_id":"source/_posts/images/aio/pve_win10_standby_power.jpg","hash":"449fc14ae46aee3307d026ce1db53d3eeed406b8","modified":1648710180937},{"_id":"source/_posts/images/openwrt/pve_openwrt_bootOrder.png","hash":"57d847f84c5e627da3d2befcde572bbaca475e57","modified":1648780974765},{"_id":"source/_posts/images/openwrt/pve_openwrt_ddns_cf_detail.png","hash":"8d34d9e0362829ec47a831d5769daadb007555a5","modified":1648798487541},{"_id":"source/_posts/images/openwrt/pve_openwrt_ddns_list.png","hash":"0a1f87c65015ad162d1a932bda195b5e02d8d2e1","modified":1648800928961},{"_id":"source/_posts/images/aio/pve_win10_ide_bench.png","hash":"f7fa9a856108b5973bbeeb41d6f9b6d05f5d2d7a","modified":1648710318741},{"_id":"source/_posts/images/aio/pve_win10_scsi_bench.png","hash":"9b207efb8e0b879ef0a4e64516141ac14d5376b1","modified":1648725191247},{"_id":"source/img/signature/vincent-white.png","hash":"77edaf6be1d71052f6ce0f927a8a80e8606516f9","modified":1648808841894},{"_id":"source/_posts/images/aio/pve_dashboard.png","hash":"b9f65b90fda04519698e0610cb25a6fe466f5b30","modified":1648718238547},{"_id":"source/_posts/en/Hexo-Theme-LiveMyLife/bglinecanvas.png","hash":"af3a93bd15e31ccf42600ad07309eb40ef22c455","modified":1648808841692},{"_id":"source/_posts/images/aio/ludashi_bench.png","hash":"2fa9b34db1a702b50245b57b470292d5bfc46b26","modified":1648709740045},{"_id":"source/_posts/images/openwrt/pve_openwrt_bridge_eth.png","hash":"2f2dcc30eab5ae596359ced5e2b839c581b71a22","modified":1648782444776},{"_id":"source/_posts/images/openwrt/pve_openwrt_disk_increment.png","hash":"8c30dd41865d3ff451cdaf942d501a2cdaf6d908","modified":1648783363829},{"_id":"source/_posts/images/openwrt/pve_openwrt_pci.png","hash":"138c403dd47730a6a9a16d5656fc25ab3305f735","modified":1648781661920},{"_id":"source/_posts/images/ac2100/ac2100.png","hash":"ba5d940f5a2a0553b7f59c0168a0e3794e2668b1","modified":1647756156188},{"_id":"source/_posts/images/aio/pve_win10_ups_usb.png","hash":"84022c03e8fe3d456cd3e0934cdcbc73ad28d06e","modified":1648719765522},{"_id":"source/_posts/cn/Hexo-Theme-LiveMyLife/bglinecanvas.png","hash":"af3a93bd15e31ccf42600ad07309eb40ef22c455","modified":1648808841672},{"_id":"source/_posts/cn/Hexo-Theme-LiveMyLife/dark.png","hash":"0eefd914a47c1958e23f5fd9cb854e785763f03c","modified":1648808841672},{"_id":"source/_posts/cn/Hexo-Theme-LiveMyLife/ribbon.png","hash":"4616c287d0ed2d1fa70f6ddc300f048b53885b19","modified":1648808841688},{"_id":"source/_posts/cn/Hexo-Theme-LiveMyLife/wave.png","hash":"c933776e89f9f821ee6dfc1622401ec9ce5c9e35","modified":1648808841688},{"_id":"source/_posts/en/Hexo-Theme-LiveMyLife/wave.png","hash":"c933776e89f9f821ee6dfc1622401ec9ce5c9e35","modified":1648808841708},{"_id":"source/_posts/en/Hexo-Theme-LiveMyLife/top.png","hash":"1736202a7b463e778c0032bb0a07866eff4a996d","modified":1648808841708},{"_id":"source/_posts/cn/Hexo-Theme-LiveMyLife/light.png","hash":"8a03996cff1eb0cbda41655e64d5c8fa5e0e9592","modified":1648808841680},{"_id":"source/_posts/cn/Hexo-Theme-LiveMyLife/livemylife-desktop.png","hash":"45fc4bfd838997c93db72ab389c1c52b18a2d506","modified":1648808841684},{"_id":"source/_posts/cn/Hexo-Theme-LiveMyLife/top.png","hash":"1736202a7b463e778c0032bb0a07866eff4a996d","modified":1648808841688},{"_id":"source/_posts/en/Hexo-Theme-LiveMyLife/dark.png","hash":"0eefd914a47c1958e23f5fd9cb854e785763f03c","modified":1648808841692},{"_id":"source/_posts/en/Hexo-Theme-LiveMyLife/light.png","hash":"8a03996cff1eb0cbda41655e64d5c8fa5e0e9592","modified":1648808841700},{"_id":"source/_posts/en/Hexo-Theme-LiveMyLife/ribbon.png","hash":"4616c287d0ed2d1fa70f6ddc300f048b53885b19","modified":1648808841704},{"_id":"source/_posts/cn/Hexo-Theme-LiveMyLife/mouseclick.png","hash":"b61ec23b376c825f9cc5846424cea16fc4b686c0","modified":1648808841684},{"_id":"source/_posts/en/Hexo-Theme-LiveMyLife/livemylife-desktop.png","hash":"45fc4bfd838997c93db72ab389c1c52b18a2d506","modified":1648808841700},{"_id":"source/_posts/en/Hexo-Theme-LiveMyLife/mouseclick.png","hash":"b61ec23b376c825f9cc5846424cea16fc4b686c0","modified":1648808841704},{"_id":"source/_posts/images/openwrt/pve_openwrt_disk_info.png","hash":"de1c4828a28f54c3c8716ac3153bec524a99e9ec","modified":1648783889270},{"_id":"source/_posts/images/openwrt/pve_openwrt_eth_full_duplex.png","hash":"60a28ba9a6a7fa63c9ce583a65556b6b93fbc962","modified":1648786025004},{"_id":"themes/livemylife/source/js/comment/gitalk_.js","hash":"9256bc4b8f7341f60083da291d5c7c9f0fe5f1bd","modified":1648808841902},{"_id":"source/_posts/images/ac2100/logs.png","hash":"fb722aa89d074a13633140768c2da7d81df57895","modified":1646410067547},{"_id":"themes/livemylife/source/js/comment/gitalk.js","hash":"e5c1b7f8a2803765cff831793af377a9f81fb385","modified":1648808841902},{"_id":"source/_posts/images/openwrt/pve_openwrt_qemu_ga.png","hash":"bc7d1d18d2035dc7ec14787b52ad353313ad292d","modified":1648785548778},{"_id":"source/_posts/images/aio/pve_debian_ubuntu_iperf3.png","hash":"d6a634e319eecd96c40bdf55634df336cfa00dff","modified":1648717944968},{"_id":"source/_posts/images/aio/pve_ubuntu_iperf3.png","hash":"071715f12ca69858b4e7bf151e9ca254cc4f24e5","modified":1648717453550},{"_id":"source/_posts/cn/Hexo-Theme-LiveMyLife/langcn.png","hash":"f7816d868d1d5a5711718bb04fe7e6fe68c6cced","modified":1648808841676},{"_id":"source/_posts/cn/Hexo-Theme-LiveMyLife/langen.png","hash":"1cb3817cd4886acf49c476871f004b17f13d5126","modified":1648808841680},{"_id":"source/_posts/en/Hexo-Theme-LiveMyLife/langcn.png","hash":"f7816d868d1d5a5711718bb04fe7e6fe68c6cced","modified":1648808841696},{"_id":"source/_posts/en/Hexo-Theme-LiveMyLife/langen.png","hash":"1cb3817cd4886acf49c476871f004b17f13d5126","modified":1648808841700},{"_id":"source/_posts/images/ac2100/bad_blocks.png","hash":"7ce8abfa7b0fcd9d21d0b5a65ddd5339c7a0c8bf","modified":1646409440792},{"_id":"source/_posts/images/aio/win10_standby_power.png","hash":"1c65bdee6e45f26301f0173665ec8fc8f4398d20","modified":1648708854954},{"_id":"source/_posts/images/ac2100/shell.png","hash":"e3863ed14a417db47d9091525fd92216cf573317","modified":1646410414029},{"_id":"source/_posts/images/openwrt/pve_openwrt_iperf3.png","hash":"fcf999ab56d0089769694cb4663ccbb811853ec8","modified":1648784917776},{"_id":"source/img/header_img/newhome_bg.jpg","hash":"de7ceed640acd67fe5a5800c9ae4342953752414","modified":1654791200596},{"_id":"source/img/header_img/categories_bg.jpg","hash":"c6564865eaee051e40726dc3bcd69e4b09a25783","modified":1654791420846},{"_id":"source/img/header_img/404_bg.jpg","hash":"869e37b3511ea4bb9daddd07839ce17179406bca","modified":1644373278218},{"_id":"source/img/header_img/archive_bg3.jpg","hash":"ca64a72c603f0d11d186c14ad09915510e2cee72","modified":1648868832953},{"_id":"source/img/header_img/lml_bg.jpg","hash":"814efbec46d16d56e361ad28f12bb6bbced51f5e","modified":1654791334273},{"_id":"source/img/header_img/tag_bg.jpg","hash":"29938505867c086a1ccb0fb21d712c9cf137e921","modified":1648868964387},{"_id":"source/img/header_img/archive_bg.jpg","hash":"77bb58af618af91e086d9f8bbf71c34ca85184f3","modified":1648868854489},{"_id":"source/img/header_img/lml_bg8.jpg","hash":"6e817f7e7493a40778dfdbc1b593f5b78aa34513","modified":1654791375730},{"_id":"source/img/header_img/archive_bg2.jpg","hash":"13ac316f00a22f2806791eeb09ba8dd3ece1d219","modified":1648868876780},{"_id":"public/baidusitemap.xml","hash":"5d512e3c0ed3f94d3c10d26c1439e1295f70cf81","modified":1712736242646},{"_id":"public/sitemap.xml","hash":"15e10cfe9a6e082798092d6f884ea13afbe98e8b","modified":1712841015129},{"_id":"public/searchVersion.json","hash":"6487922b3571f03776f2f741a29c19ead01708bd","modified":1712843419695},{"_id":"public/404.html","hash":"b8e3c7cc5a24ea3b536e7605b1d9ff8c2f56fd8f","modified":1712742657296},{"_id":"public/categories/index.html","hash":"1a5e8eca527ad44f79caa608fa559f137c77b86d","modified":1712742657296},{"_id":"public/en/openwrt/index.html","hash":"617910572e537cfbcbe42779a65ac7e50badd9e2","modified":1712843419695},{"_id":"public/en/all_in_one/index.html","hash":"d36a33ea36376c0928ccd633306792f7e37f58e8","modified":1712841015129},{"_id":"public/en/wireguard/index.html","hash":"5678e1d82ae8110aeeb31f0f7bc4c537fe817857","modified":1712843419695},{"_id":"public/en/redmi_ac2100/index.html","hash":"b615b681e589afb7df785e2640984a3b1b0c4531","modified":1712755819038},{"_id":"public/en/non-censor/index.html","hash":"4f27f0b8c3c35a496ac70b9bc8c75de33d75e5af","modified":1712755742956},{"_id":"public/en/hello-world/index.html","hash":"649dc30682bab0f61b3d8bc18c4ff97fdd4ab8e4","modified":1648863644421},{"_id":"public/en/Hexo-Theme-LiveMyLife/index.html","hash":"ec42de582dc09ad5aac841581b2b0dab237dfae0","modified":1648863644421},{"_id":"public/cn/Hexo-Theme-LiveMyLife/index.html","hash":"751fc00ddca0cf2a0eb9bb2e1203c0e89ff3e75b","modified":1648864407733},{"_id":"public/tags/index.html","hash":"8e300a48cdc6e038ec27d8872e0813449b9c8e7b","modified":1712742657296},{"_id":"public/about/index.html","hash":"658003d7929991617acbca7cfe5bf35678b12acd","modified":1712742657296},{"_id":"public/archive/index.html","hash":"3f49129a9961562903b3628964372e9d11d3050d","modified":1712742657296},{"_id":"public/archives/2020/index.html","hash":"35b4a5edfb6a5e856ec59b0b52a53b6902295ecb","modified":1648864407733},{"_id":"public/archives/2020/04/index.html","hash":"e10e9a7a41b51c33d9fc38cf45c4ec34cc0034a7","modified":1648864407733},{"_id":"public/archives/index.html","hash":"c8e29c28160f63591868de4584eb92d30a04f219","modified":1712742657296},{"_id":"public/archives/2022/index.html","hash":"20fe0b60d209c51680a668c2262076c20d170fea","modified":1712742657296},{"_id":"public/categories/Hexo-Theme-LiveMyLife/index.html","hash":"b65fb3415eb76382d5f073b582aa118053dd1383","modified":1648864407733},{"_id":"public/index.html","hash":"a8e3dcbe3c31a3f5d591c56666f778cb1e12ece6","modified":1712843419695},{"_id":"public/en/index.html","hash":"2723de462a6b651cd7f5fa2ae6e68aa7b45261a8","modified":1712843419695},{"_id":"public/cn/index.html","hash":"9500fa8cd041f8df620d2af8bff9aaa8fe18153b","modified":1648864407733},{"_id":"public/tags/Hexo-Theme-LiveMyLife/index.html","hash":"0085099408165bc4385a8d62ec24ec47d2b6e5fd","modified":1648864407733},{"_id":"public/archives/2022/04/index.html","hash":"d2d5e78fb851e4e09ff180bab9dc4b5034d286bc","modified":1712742657296},{"_id":"public/archives/2022/03/index.html","hash":"4a7efd059850374f0c009d80f13c33d074b14a93","modified":1712742657296},{"_id":"public/tags/amd4700ge-AIO-all-in-one-pve-proxmox/index.html","hash":"284d7d31177aaa12d889bdb37982b1abcc10b715","modified":1648863644421},{"_id":"public/archives/2022/02/index.html","hash":"8de32e071b02a24ecb8c8b0b6ac925a48bd1d759","modified":1712742657296},{"_id":"public/tags/non-censor/index.html","hash":"c6c8b0217b303c6f15617dcbfb34928c942f27c0","modified":1712742657296},{"_id":"public/tags/redmi-ac2100-openwrt/index.html","hash":"ea17964a050fa4362a40617990c4715bfc679989","modified":1648863644421},{"_id":"public/tags/wireguard-openwrt/index.html","hash":"97d18ede298a6c5c6b2172aa586d9380a102abeb","modified":1648863644421},{"_id":"public/tags/pve-proxmox-openwrt-ddns-acme-ssl/index.html","hash":"f0553e75fe97816237088dc33cae54b7bcd47df7","modified":1648863644421},{"_id":"public/fonts/glyphicons-halflings-regular.eot","hash":"86b6f62b7853e67d3e635f6512a5a5efc58ea3c3","modified":1712736242646},{"_id":"public/fonts/glyphicons-halflings-regular.woff2","hash":"ca35b697d99cae4d1b60f2d60fcd37771987eb07","modified":1712736242646},{"_id":"public/fonts/glyphicons-halflings-regular.woff","hash":"278e49a86e634da6f2a02f3b47dd9d2a8f26210f","modified":1712736242646},{"_id":"public/fonts/glyphicons-halflings-regular.ttf","hash":"44bc1850f570972267b169ae18f1cb06b611ffa2","modified":1712736242646},{"_id":"public/css/images/beside_up2.png","hash":"ef066ba2e93a4738df45ae05020726e066c4dd1f","modified":1712736242646},{"_id":"public/css/images/beside_up.png","hash":"183d87f1a99e93fc663ec798fa8c94cb87c83bcb","modified":1712736242646},{"_id":"public/CNAME","hash":"b0ba125d832bfe96886f77a35d20b31a1c21658e","modified":1712736242646},{"_id":"public/LICENSE","hash":"7df059597099bb7dcf25d2a9aedfaf4465f72d8d","modified":1712736242646},{"_id":"public/css/images/beside_up_white2.png","hash":"52e9d5715def1d3d09ab076d5eb3d22916d8f7d7","modified":1712736242646},{"_id":"public/css/images/beside_up_white.png","hash":"49c5922a8de63dcf9468fbcffc70d2ec36b1b527","modified":1712736242646},{"_id":"public/img/avatar/fatpeople.jpg","hash":"04cc046c50473ab78aee784df62f05448be8b884","modified":1712736242646},{"_id":"public/fonts/glyphicons-halflings-regular.svg","hash":"de51a8494180a6db074af2dee2383f0a363c5b08","modified":1712736242646},{"_id":"public/img/scenery/about_bg.jpg","hash":"462c14b9b00ab2153e579f14cb1e44aa56704ce8","modified":1712736242646},{"_id":"public/img/scenery/about_bg4.jpg","hash":"272f0d4233aea38f32311439f8528d2b3bebd546","modified":1712736242646},{"_id":"public/en/Hexo-Theme-LiveMyLife/home_posts_tag-true.png","hash":"3c6f335347d04e093fccc77e916c4a9d0c6c4a75","modified":1648862610797},{"_id":"public/cn/Hexo-Theme-LiveMyLife/home_posts_tag-true.png","hash":"3c6f335347d04e093fccc77e916c4a9d0c6c4a75","modified":1648862610797},{"_id":"public/img/scenery/treat_me_to_coffee.png","hash":"f5691b4f654701eaa19830a76062d86c0b58f999","modified":1712736242646},{"_id":"public/css/archive.css","hash":"8db895ebaeff19ac145c961abcfd5d4a8d67a8ea","modified":1712736242646},{"_id":"public/css/catalog.css","hash":"6e63e8902ec9ba5ef6256a0c2ef93934c56d612c","modified":1712736242646},{"_id":"public/css/highlight.css","hash":"03d1f0a648e9bdf7b1f57d217313cbac5d0c7eb1","modified":1712736242646},{"_id":"public/css/rocket.css","hash":"1aa31deaf2c434e883a7b4d096d187244eb964d0","modified":1712736242646},{"_id":"public/css/livemylife.css","hash":"07f90cf42f19b7b86361d202b24918ee0c626211","modified":1712736242646},{"_id":"public/css/scroll.css","hash":"ba16b97532dd6aaec66a82f3c33cc989d361fa7a","modified":1712736242646},{"_id":"public/css/search.css","hash":"c633ff24b9126676013197280b18bb79ea4abb6c","modified":1712736242646},{"_id":"public/css/signature.css","hash":"820fa4743cea34a61808cd8f7de528605c32d7e3","modified":1712736242646},{"_id":"public/css/top.css","hash":"0303375fbe2ca942cd3d86f31d12fef9bf5785af","modified":1712736242646},{"_id":"public/css/viewer.min.css","hash":"0e045aa3df1be7d138caa701ec3aa623ccc7a52d","modified":1712736242646},{"_id":"public/css/wave.css","hash":"041f3b4a78e2840ba17679cea05fb14bb646722f","modified":1712736242646},{"_id":"public/css/widget.css","hash":"da95ad3f1938f24d20f1fa77d7a38f0c392b5ec8","modified":1712736242646},{"_id":"public/js/catalog.js","hash":"059f3f31492e5b1a9dddf422a48c32969d247415","modified":1712736242646},{"_id":"public/js/hux-blog.min.js","hash":"1563e7f70550ac6b30803d6f449719b853200e35","modified":1712736242646},{"_id":"public/js/jquery.nav.js","hash":"ef2160a456176a4d09cc0b95d52b27dfbbadf2d8","modified":1712736242646},{"_id":"public/js/jquery.tagcloud.js","hash":"4e5fd0b07f3bd935f2e603710447e039e3677211","modified":1712736242646},{"_id":"public/js/langselect.js","hash":"52ca6e30814272bc329868944f528f89630404e4","modified":1712736242646},{"_id":"public/js/line.js","hash":"d69576bfe75048345a137c148ffca1d9985811dc","modified":1712736242646},{"_id":"public/js/hux-blog.js","hash":"4b4d3c557405d04c3087d36c13e2834fe05c0f73","modified":1712736242646},{"_id":"public/js/mouseclick.js","hash":"b27fb5ae779a855a93b85c923f1ac927ba52dc86","modified":1712736242646},{"_id":"public/js/scroll.js","hash":"265a4c4fc33b5b44b620db64ff31d2bc05d233e9","modified":1712736242646},{"_id":"public/js/totop.js","hash":"c05360f6fc699ac12e794b1764b4a952713a3017","modified":1712736242646},{"_id":"public/js/ribbonDynamic.js","hash":"576f0ce237c87738277868489af30b6538681201","modified":1712736242646},{"_id":"public/js/viewer/pic-viewer.js","hash":"9bf7c37cce781628346803ed7ce8f02623c2d013","modified":1712736242646},{"_id":"public/img/scenery/about_bg2.jpg","hash":"bdffbe6a94f9c5be1b9353fc2b4f28a74677939f","modified":1712736242646},{"_id":"public/css/beantech.min.css","hash":"ccbe0b94f3a36863a0f27e54fcfe4e1d8cdf00fd","modified":1712736242646},{"_id":"public/css/beantech.css","hash":"e9b282ed04c7da8be96450365dd42fbe879b2813","modified":1712736242646},{"_id":"public/css/hux-blog.min.css","hash":"1baef04de262aeb7023d835429b49a805ac4ab40","modified":1712736242646},{"_id":"public/css/gitalk.css","hash":"51783fd60dff05e8e339ff83b41504538662f6ca","modified":1712736242646},{"_id":"public/css/themecolor.css","hash":"ece4c6624c8889c7c19f869976c7ec3b99ea6637","modified":1712736242646},{"_id":"public/js/ziploader.js","hash":"9c25324caf53b56cb68839dcfb34e61e5a6a63f3","modified":1712736242646},{"_id":"public/js/viewer/viewer.min.js","hash":"ae5380974b6fb8b0e15356c8418186c6c0821222","modified":1712736242646},{"_id":"public/img/avatar/roguerabbit.jpg","hash":"3c71801016fc2b587c128d42f45438f523bb1a1a","modified":1712736242646},{"_id":"public/js/bootstrap.min.js","hash":"b3f2ef9f985e7906c9360756b73cd64bf7733647","modified":1712736242646},{"_id":"public/img/signature/vincent-white.png","hash":"77edaf6be1d71052f6ce0f927a8a80e8606516f9","modified":1712736242646},{"_id":"public/js/bootstrap.js","hash":"f8752e9ae24daec0a0baffd7819122f8c6fd9103","modified":1712736242646},{"_id":"public/en/Hexo-Theme-LiveMyLife/bglinecanvas.png","hash":"af3a93bd15e31ccf42600ad07309eb40ef22c455","modified":1648862610797},{"_id":"public/cn/Hexo-Theme-LiveMyLife/bglinecanvas.png","hash":"af3a93bd15e31ccf42600ad07309eb40ef22c455","modified":1648862610797},{"_id":"public/js/jquery.min.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1712736242646},{"_id":"public/en/Hexo-Theme-LiveMyLife/light.png","hash":"8a03996cff1eb0cbda41655e64d5c8fa5e0e9592","modified":1648862610797},{"_id":"public/en/Hexo-Theme-LiveMyLife/ribbon.png","hash":"4616c287d0ed2d1fa70f6ddc300f048b53885b19","modified":1648862610797},{"_id":"public/en/Hexo-Theme-LiveMyLife/top.png","hash":"1736202a7b463e778c0032bb0a07866eff4a996d","modified":1648862610797},{"_id":"public/en/Hexo-Theme-LiveMyLife/wave.png","hash":"c933776e89f9f821ee6dfc1622401ec9ce5c9e35","modified":1648862610797},{"_id":"public/cn/Hexo-Theme-LiveMyLife/dark.png","hash":"0eefd914a47c1958e23f5fd9cb854e785763f03c","modified":1648862610797},{"_id":"public/cn/Hexo-Theme-LiveMyLife/light.png","hash":"8a03996cff1eb0cbda41655e64d5c8fa5e0e9592","modified":1648862610797},{"_id":"public/cn/Hexo-Theme-LiveMyLife/ribbon.png","hash":"4616c287d0ed2d1fa70f6ddc300f048b53885b19","modified":1648862610797},{"_id":"public/cn/Hexo-Theme-LiveMyLife/top.png","hash":"1736202a7b463e778c0032bb0a07866eff4a996d","modified":1648862610797},{"_id":"public/cn/Hexo-Theme-LiveMyLife/wave.png","hash":"c933776e89f9f821ee6dfc1622401ec9ce5c9e35","modified":1648862610797},{"_id":"public/css/bootstrap.min.css","hash":"fec7b176a4b9a67c0eb5d184f57b84297efc23aa","modified":1712736242646},{"_id":"public/en/Hexo-Theme-LiveMyLife/dark.png","hash":"0eefd914a47c1958e23f5fd9cb854e785763f03c","modified":1648862610797},{"_id":"public/en/Hexo-Theme-LiveMyLife/livemylife-desktop.png","hash":"45fc4bfd838997c93db72ab389c1c52b18a2d506","modified":1648862610797},{"_id":"public/en/Hexo-Theme-LiveMyLife/mouseclick.png","hash":"b61ec23b376c825f9cc5846424cea16fc4b686c0","modified":1648862610797},{"_id":"public/cn/Hexo-Theme-LiveMyLife/livemylife-desktop.png","hash":"45fc4bfd838997c93db72ab389c1c52b18a2d506","modified":1648862610797},{"_id":"public/cn/Hexo-Theme-LiveMyLife/mouseclick.png","hash":"b61ec23b376c825f9cc5846424cea16fc4b686c0","modified":1648862610797},{"_id":"public/css/bootstrap.css","hash":"41c54bf695145ae0b4d9020a1da308ceb05dcaf3","modified":1712736242646},{"_id":"public/js/jquery.js","hash":"1852661bd11a09ca9b9cb63d1aa6ff390fffaf4e","modified":1712736242646},{"_id":"public/en/Hexo-Theme-LiveMyLife/langcn.png","hash":"f7816d868d1d5a5711718bb04fe7e6fe68c6cced","modified":1648862610797},{"_id":"public/en/Hexo-Theme-LiveMyLife/langen.png","hash":"1cb3817cd4886acf49c476871f004b17f13d5126","modified":1648862610797},{"_id":"public/cn/Hexo-Theme-LiveMyLife/langcn.png","hash":"f7816d868d1d5a5711718bb04fe7e6fe68c6cced","modified":1648862610797},{"_id":"public/cn/Hexo-Theme-LiveMyLife/langen.png","hash":"1cb3817cd4886acf49c476871f004b17f13d5126","modified":1648862610797},{"_id":"public/js/comment/gitalk_.js","hash":"9256bc4b8f7341f60083da291d5c7c9f0fe5f1bd","modified":1712736242646},{"_id":"public/js/comment/gitalk.js","hash":"e5c1b7f8a2803765cff831793af377a9f81fb385","modified":1712736242646},{"_id":"public/img/header_img/newhome_bg.jpg","hash":"de7ceed640acd67fe5a5800c9ae4342953752414","modified":1712736242646},{"_id":"public/img/header_img/categories_bg.jpg","hash":"c6564865eaee051e40726dc3bcd69e4b09a25783","modified":1712736242646},{"_id":"public/img/header_img/404_bg.jpg","hash":"869e37b3511ea4bb9daddd07839ce17179406bca","modified":1712736242646},{"_id":"public/img/header_img/archive_bg3.jpg","hash":"ca64a72c603f0d11d186c14ad09915510e2cee72","modified":1712736242646},{"_id":"public/img/header_img/lml_bg.jpg","hash":"814efbec46d16d56e361ad28f12bb6bbced51f5e","modified":1712736242646},{"_id":"public/img/header_img/tag_bg.jpg","hash":"29938505867c086a1ccb0fb21d712c9cf137e921","modified":1712736242646},{"_id":"public/img/header_img/lml_bg8.jpg","hash":"6e817f7e7493a40778dfdbc1b593f5b78aa34513","modified":1712736242646},{"_id":"public/img/header_img/archive_bg.jpg","hash":"77bb58af618af91e086d9f8bbf71c34ca85184f3","modified":1712736242646},{"_id":"public/img/header_img/archive_bg2.jpg","hash":"13ac316f00a22f2806791eeb09ba8dd3ece1d219","modified":1712736242646},{"_id":"public/categories/network/index.html","hash":"a35e63697b04c95585a39f6aa1177af2b3e425ae","modified":1712742657296},{"_id":"public/tags/pve/index.html","hash":"618045c161f61f008b93103eec2cdc8ccf3a4a0a","modified":1712742657296},{"_id":"public/tags/proxmox/index.html","hash":"21c49193e7dfd5f5977d0dcb2b867843904befb1","modified":1712742657296},{"_id":"public/tags/openwrt/index.html","hash":"8b3c51ddc2615aa86b1214f4faafb8811d3386d5","modified":1712742657296},{"_id":"public/tags/ddns/index.html","hash":"d0f46ec00fbc463ca2e62c5cd14447e58b897ec7","modified":1712742657296},{"_id":"public/tags/acme/index.html","hash":"ca117898219f7162e1453f04497cebdb17529693","modified":1712742657296},{"_id":"public/tags/ssl/index.html","hash":"f2127ce073c228d4a1c80f097faf95396ba47adf","modified":1712742657296},{"_id":"public/tags/amd4700ge/index.html","hash":"ab4106ced40ad5dbf1e5102f2cade111bfef46e3","modified":1712742657296},{"_id":"public/tags/AIO/index.html","hash":"3350bcb8d2d28751cd800644410a5928a84e118c","modified":1712742657296},{"_id":"public/tags/all-in-one/index.html","hash":"efe58248d1b16e6c09906977f3f781fcc987cafb","modified":1712742657296},{"_id":"public/tags/redmi/index.html","hash":"c314b0ce4e67d27e48bd47d26aa311a4b28c5045","modified":1712742657296},{"_id":"public/tags/ac2100/index.html","hash":"431b3d542139d2f19cf1e946d0047c994c40a131","modified":1712742657296},{"_id":"public/tags/wireguard/index.html","hash":"a9b00c5e4936c9076356362ffbceb46a89c6012d","modified":1712742657296},{"_id":"source/_posts/cn/Hexo-Theme-LiveMyLife.md.bak","hash":"21fdcd5592ff43e796e0aed0c45d2a208ed91ab7","modified":1648808841668},{"_id":"source/_posts/en/images/ac2100/startup.png","hash":"8e298cdfd1b40ebcaec01272d409af68878248b3","modified":1646410575479},{"_id":"source/_posts/en/images/non-censor/dns.png","hash":"7082817f2150401f7c3479ae23909aa2f173638b","modified":1646413390746},{"_id":"source/_posts/en/images/aio/CrystalDiskMark.png","hash":"c6e56ced5a6b653368b76bd742e48defbaf13868","modified":1648709318741},{"_id":"source/_posts/en/images/aio/pve_win10_mine_eth.png","hash":"d56f4c65f7c59de9a1d67d502fca2e6d8a5cc29d","modified":1648715256423},{"_id":"source/_posts/en/images/aio/pve_win10_transfer_speed.jpg","hash":"339179d1a0cd0e8c9f44f6d0a4adfb3e3aedb395","modified":1648716656001},{"_id":"source/_posts/en/images/openwrt/pve_openwrt_ddns.png","hash":"ee336777280a07eee696fe3e84ba1c5575dcadd2","modified":1648796786495},{"_id":"source/_posts/en/images/openwrt/pve_openwrt_ddns_cf.png","hash":"d3b562488ccf31e1d08ccc3af96f5e661d956a43","modified":1648797554919},{"_id":"source/_posts/en/images/openwrt/pve_openwrt_eths_full_duplex.png","hash":"beee5bee8ebd25ae868f9c087edab6abc3141128","modified":1648786172388},{"_id":"source/_posts/en/images/wireguard/frp.png","hash":"86005fd61efb46c63c5a82a189ef43fe2278ac03","modified":1647845509734},{"_id":"source/_posts/en/images/wireguard/ddns.png","hash":"69b487dec739b0a858009b8de3360c265e4049a7","modified":1647851022055},{"_id":"source/_posts/en/images/wireguard/wg.png","hash":"e2090af2feaaa6ca6fae7e53aab423a838d71386","modified":1647847867781},{"_id":"source/_posts/en/images/wireguard/wg_windows.jpg","hash":"94b245d29c39ed4164e107ee7518ad8b228f8d1f","modified":1647849131526},{"_id":"source/_posts/en/images/ac2100/k2p.png","hash":"42e0e9a120a8589d34cf6ba8ee03c867c0736059","modified":1646410728103},{"_id":"source/_posts/en/images/ac2100/origin_system.png","hash":"901bfa6cde34810099b07efba89de832305003da","modified":1646411169469},{"_id":"source/_posts/en/images/non-censor/route.png","hash":"766e12af78017edf10ef04a6b6d8afc2f50516cb","modified":1646413617110},{"_id":"source/_posts/en/images/aio/CrystalDiskInfo.png","hash":"eca9e95331f6c33dbb8651a8d34d5badd78599e2","modified":1648709201266},{"_id":"source/_posts/en/images/aio/after_group.png","hash":"244e25002ad67394817b8cc50c8e5cc150b9667f","modified":1648714299200},{"_id":"source/_posts/en/images/aio/before_group.png","hash":"6cbc08ed0ec606c50efaf87121c64d19d9335c3e","modified":1648714228269},{"_id":"source/_posts/en/images/aio/pve_IDE.png","hash":"b218e918c58a0b544bfc1017fc585ebf8a9cdeab","modified":1648710819677},{"_id":"source/_posts/en/images/aio/pve_scsi.png","hash":"dec27e3d4922c81c89cf8706233de3e104dac0d7","modified":1648710868702},{"_id":"source/_posts/en/images/aio/pve_win10_cpuz_bench.png","hash":"12ef2e62310a9790772258788a9de4420452707b","modified":1648713813534},{"_id":"source/_posts/en/images/aio/pve_win10_no_disk.png","hash":"73d5dbae43288ef59e0f2d26cc3af5ee78026bc4","modified":1648711321490},{"_id":"source/_posts/en/images/aio/pve_win10_scsi_disk.png","hash":"d311fb543d00500d0e23b40e2e65fe4365e77b14","modified":1648711372125},{"_id":"source/_posts/en/images/aio/pve_win10_scsi_driver.png","hash":"d18c35bd305aca8d5eb0523ee6e3841e858af394","modified":1648711243718},{"_id":"source/_posts/en/images/aio/ups.png","hash":"2a9ccb5199ad0a3c8da78db066d3aa7c04eede48","modified":1648719893214},{"_id":"source/_posts/en/images/aio/win10_cpu.png","hash":"9eaaaef830bdc6bd087a1ea2830e03f8bde585e9","modified":1648707751013},{"_id":"source/_posts/en/images/aio/win10_cpuz_bench.png","hash":"2ab83b031646ff73889bdfad5b73582eb28844bf","modified":1648707896922},{"_id":"source/_posts/en/images/aio/win10_cpuz_vega_radeon.png","hash":"acf4709b47cd890499276dd1b0cc881ba630940d","modified":1648707892997},{"_id":"source/_posts/en/images/aio/win10_memory.png","hash":"ac56f28f8929420b4eb3fb7957a7d0e469d5d5c6","modified":1648707871490},{"_id":"source/_posts/en/images/aio/win10_radeon.png","hash":"c6714f3465eda934cdc745a817bbaf0cc8819d92","modified":1648707878874},{"_id":"source/_posts/en/images/openwrt/pve_openwrt_forward.png","hash":"6cb30288185b0109538c633c9e7954435ed4902b","modified":1648800406571},{"_id":"source/_posts/en/images/openwrt/pve_openwrt_ip.png","hash":"aab0ae80f5e8db63ee59b4f9684d40296b5299a6","modified":1648785857094},{"_id":"source/_posts/en/images/openwrt/pve_openwrt_qemu_guest_agent.png","hash":"fa08123d5aed93a93676c7d125bfdbd00b94c322","modified":1648785765269},{"_id":"source/_posts/en/images/wireguard/openwrt.jpeg","hash":"0d838163f393e723e60baaf2d0320f7977169d7b","modified":1647850273137},{"_id":"source/_posts/en/images/wireguard/port.png","hash":"e84ac2a242d65ffbd1147aaef339df473e7ab717","modified":1647847347616},{"_id":"source/_posts/en/images/wireguard/wg_android.jpeg","hash":"748ecd1956faba1cc7d6401b952d5824ef8d305b","modified":1647849957980},{"_id":"source/_posts/en/images/ac2100/breed.png","hash":"1afcf6ff0a813f0fcf099e8ba998602283a37e74","modified":1646409806999},{"_id":"source/_posts/en/images/ac2100/op_overview.png","hash":"16e33d8df250e3704328426461f3ffd4b5dd3900","modified":1646409908146},{"_id":"source/_posts/en/images/aio/pve_openwrt.png","hash":"a403351cc49afe388c20ac9121835a99ef3e71c7","modified":1648715561062},{"_id":"source/_posts/en/images/aio/pve_subscription.png","hash":"7c7eabeb1159c6e11d7d4a911ad482f56f51d681","modified":1648724618764},{"_id":"source/_posts/en/images/openwrt/cloudflare_dns.png","hash":"f22db24f7a6e1c23bc7520c203b3e53c1be99b51","modified":1648797202393},{"_id":"source/_posts/en/images/openwrt/pve_img.png","hash":"538234481ff6d2b0c92406de0a0281ed3009b94b","modified":1648779830291},{"_id":"source/_posts/en/images/openwrt/pve_openwrt_bootOrder.png","hash":"57d847f84c5e627da3d2befcde572bbaca475e57","modified":1648780974765},{"_id":"source/_posts/en/images/openwrt/pve_openwrt_disk.png","hash":"145423bf1570a89bfa2f384d87d85f420410bf22","modified":1648780634674},{"_id":"source/_posts/en/images/openwrt/upload_img.png","hash":"4b77b6384a2273c8adf646dd330d6343e5e83d76","modified":1648779378481},{"_id":"source/_posts/en/images/aio/pve_standby_power.jpg","hash":"b25decb433c24eecf91abab3f1a5c57bd66c911a","modified":1648710039625},{"_id":"source/_posts/en/images/aio/win10_cpuz.png","hash":"0149d724924159e62a3e2e47334b3d2a861bae8a","modified":1648707887009},{"_id":"source/_posts/en/images/openwrt/pve_bridge_eth.png","hash":"f4db4f5acbc2b414f92d7687a7fcccd46fc519dd","modified":1648781881263},{"_id":"source/_posts/en/images/openwrt/pve_openwrt_overview.png","hash":"21429aaf6ad89f7f619a9d41e4e3df20570fdc07","modified":1648785231064},{"_id":"source/_posts/en/images/aio/pve_win10_standby_power.jpg","hash":"449fc14ae46aee3307d026ce1db53d3eeed406b8","modified":1648710180937},{"_id":"source/_posts/en/images/aio/pve_win10_ide_bench.png","hash":"f7fa9a856108b5973bbeeb41d6f9b6d05f5d2d7a","modified":1648710318741},{"_id":"source/_posts/en/images/openwrt/pve_openwrt_ddns_cf_detail.png","hash":"8d34d9e0362829ec47a831d5769daadb007555a5","modified":1648798487541},{"_id":"source/_posts/en/images/openwrt/pve_openwrt_ddns_list.png","hash":"0a1f87c65015ad162d1a932bda195b5e02d8d2e1","modified":1648800928961},{"_id":"source/_posts/en/images/openwrt/pve_openwrt_disk_increment.png","hash":"8c30dd41865d3ff451cdaf942d501a2cdaf6d908","modified":1648783363829},{"_id":"source/_posts/en/images/aio/pve_win10_scsi_bench.png","hash":"9b207efb8e0b879ef0a4e64516141ac14d5376b1","modified":1648725191247},{"_id":"source/_posts/en/images/aio/pve_win10_ups_usb.png","hash":"84022c03e8fe3d456cd3e0934cdcbc73ad28d06e","modified":1648719765522},{"_id":"source/_posts/en/images/aio/ludashi_bench.png","hash":"2fa9b34db1a702b50245b57b470292d5bfc46b26","modified":1648709740045},{"_id":"source/_posts/en/images/aio/pve_dashboard.png","hash":"b9f65b90fda04519698e0610cb25a6fe466f5b30","modified":1648718238547},{"_id":"source/_posts/en/images/openwrt/pve_openwrt_bridge_eth.png","hash":"2f2dcc30eab5ae596359ced5e2b839c581b71a22","modified":1648782444776},{"_id":"source/_posts/en/images/ac2100/ac2100.png","hash":"ba5d940f5a2a0553b7f59c0168a0e3794e2668b1","modified":1647756156188},{"_id":"source/_posts/en/images/openwrt/pve_openwrt_pci.png","hash":"138c403dd47730a6a9a16d5656fc25ab3305f735","modified":1648781661920},{"_id":"source/_posts/en/images/ac2100/logs.png","hash":"fb722aa89d074a13633140768c2da7d81df57895","modified":1646410067547},{"_id":"source/_posts/en/images/openwrt/pve_openwrt_eth_full_duplex.png","hash":"60a28ba9a6a7fa63c9ce583a65556b6b93fbc962","modified":1648786025004},{"_id":"source/_posts/en/images/openwrt/pve_openwrt_disk_info.png","hash":"de1c4828a28f54c3c8716ac3153bec524a99e9ec","modified":1648783889270},{"_id":"source/_posts/en/images/openwrt/pve_openwrt_qemu_ga.png","hash":"bc7d1d18d2035dc7ec14787b52ad353313ad292d","modified":1648785548778},{"_id":"source/_posts/en/images/aio/pve_ubuntu_iperf3.png","hash":"071715f12ca69858b4e7bf151e9ca254cc4f24e5","modified":1648717453550},{"_id":"source/_posts/en/images/aio/pve_debian_ubuntu_iperf3.png","hash":"d6a634e319eecd96c40bdf55634df336cfa00dff","modified":1648717944968},{"_id":"source/_posts/en/images/ac2100/bad_blocks.png","hash":"7ce8abfa7b0fcd9d21d0b5a65ddd5339c7a0c8bf","modified":1646409440792},{"_id":"source/_posts/en/images/ac2100/shell.png","hash":"e3863ed14a417db47d9091525fd92216cf573317","modified":1646410414029},{"_id":"source/_posts/en/images/openwrt/pve_openwrt_iperf3.png","hash":"fcf999ab56d0089769694cb4663ccbb811853ec8","modified":1648784917776},{"_id":"source/_posts/en/images/aio/win10_standby_power.png","hash":"1c65bdee6e45f26301f0173665ec8fc8f4398d20","modified":1648708854954},{"_id":"source/_posts/en/openwrt/pve_openwrt_ddns.png","hash":"ee336777280a07eee696fe3e84ba1c5575dcadd2","modified":1648796786495},{"_id":"source/_posts/en/openwrt/pve_openwrt_ddns_cf.png","hash":"d3b562488ccf31e1d08ccc3af96f5e661d956a43","modified":1648797554919},{"_id":"source/_posts/en/openwrt/pve_openwrt_eths_full_duplex.png","hash":"beee5bee8ebd25ae868f9c087edab6abc3141128","modified":1648786172388},{"_id":"source/_posts/en/openwrt/pve_openwrt_forward.png","hash":"6cb30288185b0109538c633c9e7954435ed4902b","modified":1648800406571},{"_id":"source/_posts/en/openwrt/pve_openwrt_ip.png","hash":"aab0ae80f5e8db63ee59b4f9684d40296b5299a6","modified":1648785857094},{"_id":"source/_posts/en/openwrt/pve_openwrt_qemu_guest_agent.png","hash":"fa08123d5aed93a93676c7d125bfdbd00b94c322","modified":1648785765269},{"_id":"source/_posts/en/openwrt/cloudflare_dns.png","hash":"f22db24f7a6e1c23bc7520c203b3e53c1be99b51","modified":1648797202393},{"_id":"source/_posts/en/openwrt/pve_img.png","hash":"538234481ff6d2b0c92406de0a0281ed3009b94b","modified":1648779830291},{"_id":"source/_posts/en/openwrt/pve_openwrt_bootOrder.png","hash":"57d847f84c5e627da3d2befcde572bbaca475e57","modified":1648780974765},{"_id":"source/_posts/en/openwrt/pve_openwrt_disk.png","hash":"145423bf1570a89bfa2f384d87d85f420410bf22","modified":1648780634674},{"_id":"source/_posts/en/openwrt/upload_img.png","hash":"4b77b6384a2273c8adf646dd330d6343e5e83d76","modified":1648779378481},{"_id":"source/_posts/en/openwrt/pve_bridge_eth.png","hash":"f4db4f5acbc2b414f92d7687a7fcccd46fc519dd","modified":1648781881263},{"_id":"source/_posts/en/openwrt/pve_openwrt_ddns_cf_detail.png","hash":"8d34d9e0362829ec47a831d5769daadb007555a5","modified":1648798487541},{"_id":"source/_posts/en/openwrt/pve_openwrt_overview.png","hash":"21429aaf6ad89f7f619a9d41e4e3df20570fdc07","modified":1648785231064},{"_id":"source/_posts/en/openwrt/pve_openwrt_bridge_eth.png","hash":"2f2dcc30eab5ae596359ced5e2b839c581b71a22","modified":1648782444776},{"_id":"source/_posts/en/openwrt/pve_openwrt_ddns_list.png","hash":"0a1f87c65015ad162d1a932bda195b5e02d8d2e1","modified":1648800928961},{"_id":"source/_posts/en/openwrt/pve_openwrt_disk_increment.png","hash":"8c30dd41865d3ff451cdaf942d501a2cdaf6d908","modified":1648783363829},{"_id":"source/_posts/en/openwrt/pve_openwrt_pci.png","hash":"138c403dd47730a6a9a16d5656fc25ab3305f735","modified":1648781661920},{"_id":"source/_posts/en/openwrt/pve_openwrt_disk_info.png","hash":"de1c4828a28f54c3c8716ac3153bec524a99e9ec","modified":1648783889270},{"_id":"source/_posts/en/openwrt/pve_openwrt_eth_full_duplex.png","hash":"60a28ba9a6a7fa63c9ce583a65556b6b93fbc962","modified":1648786025004},{"_id":"source/_posts/en/openwrt/pve_openwrt_qemu_ga.png","hash":"bc7d1d18d2035dc7ec14787b52ad353313ad292d","modified":1648785548778},{"_id":"source/_posts/en/openwrt/pve_openwrt_iperf3.png","hash":"fcf999ab56d0089769694cb4663ccbb811853ec8","modified":1648784917776},{"_id":"public/en/openwrt/pve_openwrt_ddns.png","hash":"ee336777280a07eee696fe3e84ba1c5575dcadd2","modified":1712736242646},{"_id":"public/en/openwrt/pve_openwrt_ddns_cf.png","hash":"d3b562488ccf31e1d08ccc3af96f5e661d956a43","modified":1712736242646},{"_id":"public/en/openwrt/pve_openwrt_eths_full_duplex.png","hash":"beee5bee8ebd25ae868f9c087edab6abc3141128","modified":1712736242646},{"_id":"public/en/openwrt/pve_openwrt_forward.png","hash":"6cb30288185b0109538c633c9e7954435ed4902b","modified":1712736242646},{"_id":"public/en/openwrt/pve_openwrt_ip.png","hash":"aab0ae80f5e8db63ee59b4f9684d40296b5299a6","modified":1712736242646},{"_id":"public/en/openwrt/pve_openwrt_qemu_guest_agent.png","hash":"fa08123d5aed93a93676c7d125bfdbd00b94c322","modified":1712736242646},{"_id":"public/en/openwrt/cloudflare_dns.png","hash":"f22db24f7a6e1c23bc7520c203b3e53c1be99b51","modified":1712736242646},{"_id":"public/en/openwrt/pve_openwrt_bootOrder.png","hash":"57d847f84c5e627da3d2befcde572bbaca475e57","modified":1712736242646},{"_id":"public/en/openwrt/pve_openwrt_disk.png","hash":"145423bf1570a89bfa2f384d87d85f420410bf22","modified":1712736242646},{"_id":"public/en/openwrt/upload_img.png","hash":"4b77b6384a2273c8adf646dd330d6343e5e83d76","modified":1712736242646},{"_id":"public/en/openwrt/pve_bridge_eth.png","hash":"f4db4f5acbc2b414f92d7687a7fcccd46fc519dd","modified":1712736242646},{"_id":"public/en/openwrt/pve_img.png","hash":"538234481ff6d2b0c92406de0a0281ed3009b94b","modified":1712736242646},{"_id":"public/en/openwrt/pve_openwrt_ddns_cf_detail.png","hash":"8d34d9e0362829ec47a831d5769daadb007555a5","modified":1712736242646},{"_id":"public/en/openwrt/pve_openwrt_ddns_list.png","hash":"0a1f87c65015ad162d1a932bda195b5e02d8d2e1","modified":1712736242646},{"_id":"public/en/openwrt/pve_openwrt_overview.png","hash":"21429aaf6ad89f7f619a9d41e4e3df20570fdc07","modified":1712736242646},{"_id":"public/en/openwrt/pve_openwrt_bridge_eth.png","hash":"2f2dcc30eab5ae596359ced5e2b839c581b71a22","modified":1712736242646},{"_id":"public/en/openwrt/pve_openwrt_disk_increment.png","hash":"8c30dd41865d3ff451cdaf942d501a2cdaf6d908","modified":1712736242646},{"_id":"public/en/openwrt/pve_openwrt_pci.png","hash":"138c403dd47730a6a9a16d5656fc25ab3305f735","modified":1712736242646},{"_id":"public/en/openwrt/pve_openwrt_disk_info.png","hash":"de1c4828a28f54c3c8716ac3153bec524a99e9ec","modified":1712736242646},{"_id":"public/en/openwrt/pve_openwrt_eth_full_duplex.png","hash":"60a28ba9a6a7fa63c9ce583a65556b6b93fbc962","modified":1712736242646},{"_id":"public/en/openwrt/pve_openwrt_qemu_ga.png","hash":"bc7d1d18d2035dc7ec14787b52ad353313ad292d","modified":1712736242646},{"_id":"public/en/openwrt/pve_openwrt_iperf3.png","hash":"fcf999ab56d0089769694cb4663ccbb811853ec8","modified":1712736242646},{"_id":"source/_posts/en/ac2100/startup.png","hash":"8e298cdfd1b40ebcaec01272d409af68878248b3","modified":1646410575479},{"_id":"source/_posts/en/aio/CrystalDiskMark.png","hash":"c6e56ced5a6b653368b76bd742e48defbaf13868","modified":1648709318741},{"_id":"source/_posts/en/aio/pve_win10_mine_eth.png","hash":"d56f4c65f7c59de9a1d67d502fca2e6d8a5cc29d","modified":1648715256423},{"_id":"source/_posts/en/aio/pve_win10_transfer_speed.jpg","hash":"339179d1a0cd0e8c9f44f6d0a4adfb3e3aedb395","modified":1648716656001},{"_id":"source/_posts/en/non-censor/dns.png","hash":"7082817f2150401f7c3479ae23909aa2f173638b","modified":1646413390746},{"_id":"source/_posts/en/wireguard/ddns.png","hash":"69b487dec739b0a858009b8de3360c265e4049a7","modified":1647851022055},{"_id":"source/_posts/en/wireguard/frp.png","hash":"96bc56c5f09de5317c477d250d7253f434ada051","modified":1668936707184},{"_id":"source/_posts/en/wireguard/wg.png","hash":"e2090af2feaaa6ca6fae7e53aab423a838d71386","modified":1647847867781},{"_id":"source/_posts/en/wireguard/wg_windows.jpg","hash":"ca21017b7cc82dd1140fb61b4c0c6ce30de460a8","modified":1669005960575},{"_id":"source/_posts/en/ac2100/k2p.png","hash":"42e0e9a120a8589d34cf6ba8ee03c867c0736059","modified":1646410728103},{"_id":"source/_posts/en/ac2100/origin_system.png","hash":"901bfa6cde34810099b07efba89de832305003da","modified":1646411169469},{"_id":"source/_posts/en/aio/CrystalDiskInfo.png","hash":"eca9e95331f6c33dbb8651a8d34d5badd78599e2","modified":1648709201266},{"_id":"source/_posts/en/aio/after_group.png","hash":"244e25002ad67394817b8cc50c8e5cc150b9667f","modified":1648714299200},{"_id":"source/_posts/en/aio/before_group.png","hash":"6cbc08ed0ec606c50efaf87121c64d19d9335c3e","modified":1648714228269},{"_id":"source/_posts/en/aio/pve_IDE.png","hash":"b218e918c58a0b544bfc1017fc585ebf8a9cdeab","modified":1648710819677},{"_id":"source/_posts/en/aio/pve_scsi.png","hash":"dec27e3d4922c81c89cf8706233de3e104dac0d7","modified":1648710868702},{"_id":"source/_posts/en/aio/pve_win10_cpuz_bench.png","hash":"12ef2e62310a9790772258788a9de4420452707b","modified":1648713813534},{"_id":"source/_posts/en/aio/pve_win10_no_disk.png","hash":"73d5dbae43288ef59e0f2d26cc3af5ee78026bc4","modified":1648711321490},{"_id":"source/_posts/en/aio/pve_win10_scsi_disk.png","hash":"d311fb543d00500d0e23b40e2e65fe4365e77b14","modified":1648711372125},{"_id":"source/_posts/en/aio/pve_win10_scsi_driver.png","hash":"d18c35bd305aca8d5eb0523ee6e3841e858af394","modified":1648711243718},{"_id":"source/_posts/en/aio/ups.png","hash":"2a9ccb5199ad0a3c8da78db066d3aa7c04eede48","modified":1648719893214},{"_id":"source/_posts/en/aio/win10_cpu.png","hash":"9eaaaef830bdc6bd087a1ea2830e03f8bde585e9","modified":1648707751013},{"_id":"source/_posts/en/aio/win10_cpuz_bench.png","hash":"2ab83b031646ff73889bdfad5b73582eb28844bf","modified":1648707896922},{"_id":"source/_posts/en/aio/win10_cpuz_vega_radeon.png","hash":"acf4709b47cd890499276dd1b0cc881ba630940d","modified":1648707892997},{"_id":"source/_posts/en/aio/win10_memory.png","hash":"ac56f28f8929420b4eb3fb7957a7d0e469d5d5c6","modified":1648707871490},{"_id":"source/_posts/en/aio/win10_radeon.png","hash":"c6714f3465eda934cdc745a817bbaf0cc8819d92","modified":1648707878874},{"_id":"source/_posts/en/non-censor/route.png","hash":"766e12af78017edf10ef04a6b6d8afc2f50516cb","modified":1646413617110},{"_id":"source/_posts/en/wireguard/openwrt.jpeg","hash":"0d838163f393e723e60baaf2d0320f7977169d7b","modified":1647850273137},{"_id":"source/_posts/en/wireguard/port.png","hash":"e84ac2a242d65ffbd1147aaef339df473e7ab717","modified":1647847347616},{"_id":"source/_posts/en/wireguard/wg_android.jpeg","hash":"748ecd1956faba1cc7d6401b952d5824ef8d305b","modified":1647849957980},{"_id":"source/_posts/en/ac2100/breed.png","hash":"1afcf6ff0a813f0fcf099e8ba998602283a37e74","modified":1646409806999},{"_id":"source/_posts/en/ac2100/op_overview.png","hash":"16e33d8df250e3704328426461f3ffd4b5dd3900","modified":1646409908146},{"_id":"source/_posts/en/aio/pve_openwrt.png","hash":"a403351cc49afe388c20ac9121835a99ef3e71c7","modified":1648715561062},{"_id":"source/_posts/en/aio/pve_subscription.png","hash":"7c7eabeb1159c6e11d7d4a911ad482f56f51d681","modified":1648724618764},{"_id":"source/_posts/en/aio/pve_standby_power.jpg","hash":"b25decb433c24eecf91abab3f1a5c57bd66c911a","modified":1648710039625},{"_id":"source/_posts/en/aio/pve_win10_standby_power.jpg","hash":"449fc14ae46aee3307d026ce1db53d3eeed406b8","modified":1648710180937},{"_id":"source/_posts/en/aio/win10_cpuz.png","hash":"0149d724924159e62a3e2e47334b3d2a861bae8a","modified":1648707887009},{"_id":"source/_posts/en/aio/pve_win10_ide_bench.png","hash":"f7fa9a856108b5973bbeeb41d6f9b6d05f5d2d7a","modified":1648710318741},{"_id":"source/_posts/en/aio/pve_win10_scsi_bench.png","hash":"9b207efb8e0b879ef0a4e64516141ac14d5376b1","modified":1648725191247},{"_id":"source/_posts/en/ac2100/ac2100.png","hash":"ba5d940f5a2a0553b7f59c0168a0e3794e2668b1","modified":1647756156188},{"_id":"source/_posts/en/aio/ludashi_bench.png","hash":"2fa9b34db1a702b50245b57b470292d5bfc46b26","modified":1648709740045},{"_id":"source/_posts/en/aio/pve_dashboard.png","hash":"b9f65b90fda04519698e0610cb25a6fe466f5b30","modified":1648718238547},{"_id":"source/_posts/en/aio/pve_win10_ups_usb.png","hash":"84022c03e8fe3d456cd3e0934cdcbc73ad28d06e","modified":1648719765522},{"_id":"source/_posts/en/ac2100/logs.png","hash":"fb722aa89d074a13633140768c2da7d81df57895","modified":1646410067547},{"_id":"source/_posts/en/aio/pve_debian_ubuntu_iperf3.png","hash":"d6a634e319eecd96c40bdf55634df336cfa00dff","modified":1648717944968},{"_id":"source/_posts/en/aio/pve_ubuntu_iperf3.png","hash":"071715f12ca69858b4e7bf151e9ca254cc4f24e5","modified":1648717453550},{"_id":"source/_posts/en/ac2100/bad_blocks.png","hash":"7ce8abfa7b0fcd9d21d0b5a65ddd5339c7a0c8bf","modified":1646409440792},{"_id":"source/_posts/en/aio/win10_standby_power.png","hash":"1c65bdee6e45f26301f0173665ec8fc8f4398d20","modified":1648708854954},{"_id":"source/_posts/en/ac2100/shell.png","hash":"e3863ed14a417db47d9091525fd92216cf573317","modified":1646410414029},{"_id":"source/_posts/en/redmi_ac2100/startup.png","hash":"8e298cdfd1b40ebcaec01272d409af68878248b3","modified":1646410575479},{"_id":"source/_posts/en/redmi_ac2100/k2p.png","hash":"42e0e9a120a8589d34cf6ba8ee03c867c0736059","modified":1646410728103},{"_id":"source/_posts/en/redmi_ac2100/origin_system.png","hash":"901bfa6cde34810099b07efba89de832305003da","modified":1646411169469},{"_id":"source/_posts/en/redmi_ac2100/breed.png","hash":"1afcf6ff0a813f0fcf099e8ba998602283a37e74","modified":1646409806999},{"_id":"source/_posts/en/redmi_ac2100/op_overview.png","hash":"16e33d8df250e3704328426461f3ffd4b5dd3900","modified":1646409908146},{"_id":"source/_posts/en/redmi_ac2100/ac2100.png","hash":"ba5d940f5a2a0553b7f59c0168a0e3794e2668b1","modified":1647756156188},{"_id":"source/_posts/en/redmi_ac2100/logs.png","hash":"fb722aa89d074a13633140768c2da7d81df57895","modified":1646410067547},{"_id":"source/_posts/en/redmi_ac2100/bad_blocks.png","hash":"7ce8abfa7b0fcd9d21d0b5a65ddd5339c7a0c8bf","modified":1646409440792},{"_id":"source/_posts/en/redmi_ac2100/shell.png","hash":"e3863ed14a417db47d9091525fd92216cf573317","modified":1646410414029},{"_id":"source/_posts/en/all_in_one/CrystalDiskMark.png","hash":"c6e56ced5a6b653368b76bd742e48defbaf13868","modified":1648709318741},{"_id":"source/_posts/en/all_in_one/pve_win10_mine_eth.png","hash":"d56f4c65f7c59de9a1d67d502fca2e6d8a5cc29d","modified":1648715256423},{"_id":"source/_posts/en/all_in_one/pve_win10_transfer_speed.jpg","hash":"339179d1a0cd0e8c9f44f6d0a4adfb3e3aedb395","modified":1648716656001},{"_id":"source/_posts/en/all_in_one/CrystalDiskInfo.png","hash":"eca9e95331f6c33dbb8651a8d34d5badd78599e2","modified":1648709201266},{"_id":"source/_posts/en/all_in_one/after_group.png","hash":"244e25002ad67394817b8cc50c8e5cc150b9667f","modified":1648714299200},{"_id":"source/_posts/en/all_in_one/before_group.png","hash":"6cbc08ed0ec606c50efaf87121c64d19d9335c3e","modified":1648714228269},{"_id":"source/_posts/en/all_in_one/pve_IDE.png","hash":"b218e918c58a0b544bfc1017fc585ebf8a9cdeab","modified":1648710819677},{"_id":"source/_posts/en/all_in_one/pve_scsi.png","hash":"dec27e3d4922c81c89cf8706233de3e104dac0d7","modified":1648710868702},{"_id":"source/_posts/en/all_in_one/pve_win10_cpuz_bench.png","hash":"12ef2e62310a9790772258788a9de4420452707b","modified":1648713813534},{"_id":"source/_posts/en/all_in_one/pve_win10_no_disk.png","hash":"73d5dbae43288ef59e0f2d26cc3af5ee78026bc4","modified":1648711321490},{"_id":"source/_posts/en/all_in_one/pve_win10_scsi_disk.png","hash":"d311fb543d00500d0e23b40e2e65fe4365e77b14","modified":1648711372125},{"_id":"source/_posts/en/all_in_one/pve_win10_scsi_driver.png","hash":"d18c35bd305aca8d5eb0523ee6e3841e858af394","modified":1648711243718},{"_id":"source/_posts/en/all_in_one/ups.png","hash":"2a9ccb5199ad0a3c8da78db066d3aa7c04eede48","modified":1648719893214},{"_id":"source/_posts/en/all_in_one/win10_cpu.png","hash":"9eaaaef830bdc6bd087a1ea2830e03f8bde585e9","modified":1648707751013},{"_id":"source/_posts/en/all_in_one/win10_cpuz_bench.png","hash":"2ab83b031646ff73889bdfad5b73582eb28844bf","modified":1648707896922},{"_id":"source/_posts/en/all_in_one/win10_cpuz_vega_radeon.png","hash":"acf4709b47cd890499276dd1b0cc881ba630940d","modified":1648707892997},{"_id":"source/_posts/en/all_in_one/win10_memory.png","hash":"ac56f28f8929420b4eb3fb7957a7d0e469d5d5c6","modified":1648707871490},{"_id":"source/_posts/en/all_in_one/win10_radeon.png","hash":"c6714f3465eda934cdc745a817bbaf0cc8819d92","modified":1648707878874},{"_id":"source/_posts/en/all_in_one/pve_openwrt.png","hash":"a403351cc49afe388c20ac9121835a99ef3e71c7","modified":1648715561062},{"_id":"source/_posts/en/all_in_one/pve_subscription.png","hash":"7c7eabeb1159c6e11d7d4a911ad482f56f51d681","modified":1648724618764},{"_id":"source/_posts/en/all_in_one/pve_standby_power.jpg","hash":"b25decb433c24eecf91abab3f1a5c57bd66c911a","modified":1648710039625},{"_id":"source/_posts/en/all_in_one/pve_win10_standby_power.jpg","hash":"449fc14ae46aee3307d026ce1db53d3eeed406b8","modified":1648710180937},{"_id":"source/_posts/en/all_in_one/win10_cpuz.png","hash":"0149d724924159e62a3e2e47334b3d2a861bae8a","modified":1648707887009},{"_id":"source/_posts/en/all_in_one/pve_win10_ide_bench.png","hash":"f7fa9a856108b5973bbeeb41d6f9b6d05f5d2d7a","modified":1648710318741},{"_id":"source/_posts/en/all_in_one/ludashi_bench.png","hash":"2fa9b34db1a702b50245b57b470292d5bfc46b26","modified":1648709740045},{"_id":"source/_posts/en/all_in_one/pve_dashboard.png","hash":"b9f65b90fda04519698e0610cb25a6fe466f5b30","modified":1648718238547},{"_id":"source/_posts/en/all_in_one/pve_win10_scsi_bench.png","hash":"9b207efb8e0b879ef0a4e64516141ac14d5376b1","modified":1648725191247},{"_id":"source/_posts/en/all_in_one/pve_win10_ups_usb.png","hash":"84022c03e8fe3d456cd3e0934cdcbc73ad28d06e","modified":1648719765522},{"_id":"source/_posts/en/all_in_one/pve_ubuntu_iperf3.png","hash":"071715f12ca69858b4e7bf151e9ca254cc4f24e5","modified":1648717453550},{"_id":"source/_posts/en/all_in_one/pve_debian_ubuntu_iperf3.png","hash":"d6a634e319eecd96c40bdf55634df336cfa00dff","modified":1648717944968},{"_id":"source/_posts/en/all_in_one/win10_standby_power.png","hash":"1c65bdee6e45f26301f0173665ec8fc8f4398d20","modified":1648708854954},{"_id":"public/en/non-censor/dns.png","hash":"7082817f2150401f7c3479ae23909aa2f173638b","modified":1712736242646},{"_id":"public/en/wireguard/frp.png","hash":"96bc56c5f09de5317c477d250d7253f434ada051","modified":1712736242646},{"_id":"public/en/wireguard/ddns.png","hash":"69b487dec739b0a858009b8de3360c265e4049a7","modified":1712736242646},{"_id":"public/en/wireguard/wg.png","hash":"e2090af2feaaa6ca6fae7e53aab423a838d71386","modified":1712736242646},{"_id":"public/en/wireguard/wg_windows.jpg","hash":"ca21017b7cc82dd1140fb61b4c0c6ce30de460a8","modified":1712736242646},{"_id":"public/en/redmi_ac2100/startup.png","hash":"8e298cdfd1b40ebcaec01272d409af68878248b3","modified":1712736242646},{"_id":"public/en/all_in_one/CrystalDiskMark.png","hash":"c6e56ced5a6b653368b76bd742e48defbaf13868","modified":1712736242646},{"_id":"public/en/all_in_one/pve_win10_mine_eth.png","hash":"d56f4c65f7c59de9a1d67d502fca2e6d8a5cc29d","modified":1712736242646},{"_id":"public/en/all_in_one/pve_win10_transfer_speed.jpg","hash":"339179d1a0cd0e8c9f44f6d0a4adfb3e3aedb395","modified":1712736242646},{"_id":"public/en/non-censor/route.png","hash":"766e12af78017edf10ef04a6b6d8afc2f50516cb","modified":1712736242646},{"_id":"public/en/wireguard/openwrt.jpeg","hash":"0d838163f393e723e60baaf2d0320f7977169d7b","modified":1712736242646},{"_id":"public/en/wireguard/port.png","hash":"e84ac2a242d65ffbd1147aaef339df473e7ab717","modified":1712736242646},{"_id":"public/en/wireguard/wg_android.jpeg","hash":"748ecd1956faba1cc7d6401b952d5824ef8d305b","modified":1712736242646},{"_id":"public/en/redmi_ac2100/k2p.png","hash":"42e0e9a120a8589d34cf6ba8ee03c867c0736059","modified":1712736242646},{"_id":"public/en/redmi_ac2100/origin_system.png","hash":"901bfa6cde34810099b07efba89de832305003da","modified":1712736242646},{"_id":"public/en/all_in_one/CrystalDiskInfo.png","hash":"eca9e95331f6c33dbb8651a8d34d5badd78599e2","modified":1712736242646},{"_id":"public/en/all_in_one/after_group.png","hash":"244e25002ad67394817b8cc50c8e5cc150b9667f","modified":1712736242646},{"_id":"public/en/all_in_one/before_group.png","hash":"6cbc08ed0ec606c50efaf87121c64d19d9335c3e","modified":1712736242646},{"_id":"public/en/all_in_one/pve_IDE.png","hash":"b218e918c58a0b544bfc1017fc585ebf8a9cdeab","modified":1712736242646},{"_id":"public/en/all_in_one/pve_scsi.png","hash":"dec27e3d4922c81c89cf8706233de3e104dac0d7","modified":1712736242646},{"_id":"public/en/all_in_one/pve_win10_cpuz_bench.png","hash":"12ef2e62310a9790772258788a9de4420452707b","modified":1712736242646},{"_id":"public/en/all_in_one/pve_win10_no_disk.png","hash":"73d5dbae43288ef59e0f2d26cc3af5ee78026bc4","modified":1712736242646},{"_id":"public/en/all_in_one/pve_win10_scsi_disk.png","hash":"d311fb543d00500d0e23b40e2e65fe4365e77b14","modified":1712736242646},{"_id":"public/en/all_in_one/pve_win10_scsi_driver.png","hash":"d18c35bd305aca8d5eb0523ee6e3841e858af394","modified":1712736242646},{"_id":"public/en/all_in_one/win10_cpu.png","hash":"9eaaaef830bdc6bd087a1ea2830e03f8bde585e9","modified":1712736242646},{"_id":"public/en/all_in_one/ups.png","hash":"2a9ccb5199ad0a3c8da78db066d3aa7c04eede48","modified":1712736242646},{"_id":"public/en/all_in_one/win10_cpuz_vega_radeon.png","hash":"acf4709b47cd890499276dd1b0cc881ba630940d","modified":1712736242646},{"_id":"public/en/all_in_one/win10_cpuz_bench.png","hash":"2ab83b031646ff73889bdfad5b73582eb28844bf","modified":1712736242646},{"_id":"public/en/all_in_one/win10_memory.png","hash":"ac56f28f8929420b4eb3fb7957a7d0e469d5d5c6","modified":1712736242646},{"_id":"public/en/all_in_one/win10_radeon.png","hash":"c6714f3465eda934cdc745a817bbaf0cc8819d92","modified":1712736242646},{"_id":"public/en/redmi_ac2100/op_overview.png","hash":"16e33d8df250e3704328426461f3ffd4b5dd3900","modified":1712736242646},{"_id":"public/en/all_in_one/pve_openwrt.png","hash":"a403351cc49afe388c20ac9121835a99ef3e71c7","modified":1712736242646},{"_id":"public/en/all_in_one/pve_subscription.png","hash":"7c7eabeb1159c6e11d7d4a911ad482f56f51d681","modified":1712736242646},{"_id":"public/en/all_in_one/pve_standby_power.jpg","hash":"b25decb433c24eecf91abab3f1a5c57bd66c911a","modified":1712736242646},{"_id":"public/en/all_in_one/pve_win10_standby_power.jpg","hash":"449fc14ae46aee3307d026ce1db53d3eeed406b8","modified":1712736242646},{"_id":"public/en/all_in_one/win10_cpuz.png","hash":"0149d724924159e62a3e2e47334b3d2a861bae8a","modified":1712736242646},{"_id":"public/en/redmi_ac2100/breed.png","hash":"1afcf6ff0a813f0fcf099e8ba998602283a37e74","modified":1712736242646},{"_id":"public/en/all_in_one/pve_win10_scsi_bench.png","hash":"9b207efb8e0b879ef0a4e64516141ac14d5376b1","modified":1712736242646},{"_id":"public/en/all_in_one/ludashi_bench.png","hash":"2fa9b34db1a702b50245b57b470292d5bfc46b26","modified":1712736242646},{"_id":"public/en/all_in_one/pve_win10_ide_bench.png","hash":"f7fa9a856108b5973bbeeb41d6f9b6d05f5d2d7a","modified":1712736242646},{"_id":"public/en/all_in_one/pve_dashboard.png","hash":"b9f65b90fda04519698e0610cb25a6fe466f5b30","modified":1712736242646},{"_id":"public/en/redmi_ac2100/ac2100.png","hash":"ba5d940f5a2a0553b7f59c0168a0e3794e2668b1","modified":1712736242646},{"_id":"public/en/all_in_one/pve_win10_ups_usb.png","hash":"84022c03e8fe3d456cd3e0934cdcbc73ad28d06e","modified":1712736242646},{"_id":"public/en/redmi_ac2100/logs.png","hash":"fb722aa89d074a13633140768c2da7d81df57895","modified":1712736242646},{"_id":"public/en/all_in_one/pve_debian_ubuntu_iperf3.png","hash":"d6a634e319eecd96c40bdf55634df336cfa00dff","modified":1712736242646},{"_id":"public/en/all_in_one/pve_ubuntu_iperf3.png","hash":"071715f12ca69858b4e7bf151e9ca254cc4f24e5","modified":1712736242646},{"_id":"public/en/redmi_ac2100/bad_blocks.png","hash":"7ce8abfa7b0fcd9d21d0b5a65ddd5339c7a0c8bf","modified":1712736242646},{"_id":"public/en/all_in_one/win10_standby_power.png","hash":"1c65bdee6e45f26301f0173665ec8fc8f4398d20","modified":1712736242646},{"_id":"public/en/redmi_ac2100/shell.png","hash":"e3863ed14a417db47d9091525fd92216cf573317","modified":1712736242646},{"_id":"source/_posts/en/4gwifi.md","hash":"32d2fdcc3cee7c9c768e06a044c79d649a908344","modified":1654592982279},{"_id":"source/_posts/en/4gwifi/order.png","hash":"57d14bb3aae0dcd78a521564181c0acfbaa3b9f9","modified":1654584696201},{"_id":"source/_posts/en/4gwifi/good3.jpg","hash":"ffc090e72c992103dd52ad77d6e9f047e954370d","modified":1654589145456},{"_id":"source/_posts/en/4gwifi/good4.jpg","hash":"417527749e1ddc43ce70ad18f5ec9be099fee1ea","modified":1654589177637},{"_id":"source/_posts/en/4gwifi/version.png","hash":"e53739819fd264f1653e145ce544f98091137366","modified":1654589861394},{"_id":"source/_posts/en/4gwifi/esim.png","hash":"3c0c7a2fbbe2fdfd7d3f232f66bd412811edbaff","modified":1654589219319},{"_id":"source/_posts/en/4gwifi/fastboot.png","hash":"f3862d43dbabbf585192bf67bfc893f64ae5fe73","modified":1654590740039},{"_id":"source/_posts/en/4gwifi/gaoji.png","hash":"0730a9ceafe8c840d19393f824845a99ab263d6c","modified":1654590670418},{"_id":"source/_posts/en/4gwifi/sim.png","hash":"d18843128e09635566c2e86581588c0560c4c6fc","modified":1654589245363},{"_id":"source/_posts/en/4gwifi/android_speed.png","hash":"fa6b6a75200567492b9d78dee4c57d3651c8c1a8","modified":1654589432893},{"_id":"source/_posts/en/4gwifi/flash_openwrt.png","hash":"1c0084cabb8e5c413294494e5151fd9320837a18","modified":1654591038477},{"_id":"source/_posts/en/4gwifi/good.jpg","hash":"cc05e950fffc56f40cd3eb8bce9ff271647e4be9","modified":1654585456288},{"_id":"source/_posts/en/4gwifi/openwrt.png","hash":"f8bbe76291c6d4c8d211b908533e3b46c14d0605","modified":1654591164891},{"_id":"source/_posts/en/4gwifi/openwrt_speed.png","hash":"2677d06cbe8c1ae2b0be24a69f31b2825e2a714c","modified":1654592973066},{"_id":"source/_posts/en/4gwifi/COM.png","hash":"6b2cd00b3da323fa3aca448287cc11feaaca5d18","modified":1654590473278},{"_id":"source/_posts/en/4gwifi/modem.png","hash":"84a6ae4941ea0638fba6ca651c1a1e025b865ed5","modified":1654591678018},{"_id":"source/_posts/en/4gwifi/good1.jpg","hash":"91bcdfe869dbaa024e566b873d4411cdc0ee0d86","modified":1654589065762},{"_id":"source/_posts/en/4gwifi/good2.jpg","hash":"29924269dafc0249418eef3f9fc27681a96bdd6d","modified":1654589531508},{"_id":"source/_posts/en/4gwifi/miko.png","hash":"d73560cc2a828e693411090d2ac42d3ffa05afc5","modified":1654590578584},{"_id":"source/_posts/en/4gwifi/miko1.png","hash":"e6adc9e676545836dfe545b96a024edcba987f76","modified":1654590611682},{"_id":"source/_posts/en/4gwifi/good2_zoomIn.jpg","hash":"29924269dafc0249418eef3f9fc27681a96bdd6d","modified":1654589531508},{"_id":"source/_posts/en/4gwifi/shellclash.png","hash":"9cc071b6b5d87e19809c86efb494418a7a705b0a","modified":1654591980575},{"_id":"source/_posts/en/4gwifi/cpu.png","hash":"869a166ceeb24fa0d0f2774353a79bfa9dbb5e7e","modified":1654591304930},{"_id":"source/_posts/en/4gwifi/hardware.png","hash":"1fb1cb88a45f1c7ab8b543b3b9355103396c14d8","modified":1654592134773},{"_id":"source/_posts/en/4g_wifi_dongle.md","hash":"9fe611ce902256fb8432f51693e4472ac3e4acf0","modified":1712842453511},{"_id":"source/_posts/en/4g_wifi_dongle/read-only.jpg","hash":"63a629902969e62da3870f5e976c433cf1023548","modified":1654593485258},{"_id":"source/_posts/en/4g_wifi_dongle/good3.jpg","hash":"ffc090e72c992103dd52ad77d6e9f047e954370d","modified":1654589145456},{"_id":"source/_posts/en/4g_wifi_dongle/good4.jpg","hash":"417527749e1ddc43ce70ad18f5ec9be099fee1ea","modified":1654589177637},{"_id":"source/_posts/en/4g_wifi_dongle/version.png","hash":"e53739819fd264f1653e145ce544f98091137366","modified":1654589861394},{"_id":"source/_posts/en/4g_wifi_dongle/esim.png","hash":"3c0c7a2fbbe2fdfd7d3f232f66bd412811edbaff","modified":1654589219319},{"_id":"source/_posts/en/4g_wifi_dongle/fastboot.png","hash":"f3862d43dbabbf585192bf67bfc893f64ae5fe73","modified":1654590740039},{"_id":"source/_posts/en/4g_wifi_dongle/gaoji.png","hash":"0730a9ceafe8c840d19393f824845a99ab263d6c","modified":1654590670418},{"_id":"source/_posts/en/4g_wifi_dongle/sim.png","hash":"d18843128e09635566c2e86581588c0560c4c6fc","modified":1654589245363},{"_id":"source/_posts/en/4g_wifi_dongle/android_speed.png","hash":"fa6b6a75200567492b9d78dee4c57d3651c8c1a8","modified":1654589432893},{"_id":"source/_posts/en/4g_wifi_dongle/flash_openwrt.png","hash":"1c0084cabb8e5c413294494e5151fd9320837a18","modified":1654591038477},{"_id":"source/_posts/en/4g_wifi_dongle/good.jpg","hash":"cc05e950fffc56f40cd3eb8bce9ff271647e4be9","modified":1654585456288},{"_id":"source/_posts/en/4g_wifi_dongle/openwrt.png","hash":"f8bbe76291c6d4c8d211b908533e3b46c14d0605","modified":1654591164891},{"_id":"source/_posts/en/4g_wifi_dongle/openwrt_speed.png","hash":"2677d06cbe8c1ae2b0be24a69f31b2825e2a714c","modified":1654592973066},{"_id":"source/_posts/en/4g_wifi_dongle/order.png","hash":"57d14bb3aae0dcd78a521564181c0acfbaa3b9f9","modified":1654584696201},{"_id":"source/_posts/en/4g_wifi_dongle/COM.png","hash":"6b2cd00b3da323fa3aca448287cc11feaaca5d18","modified":1654590473278},{"_id":"source/_posts/en/4g_wifi_dongle/good1.jpg","hash":"91bcdfe869dbaa024e566b873d4411cdc0ee0d86","modified":1654589065762},{"_id":"source/_posts/en/4g_wifi_dongle/modem.png","hash":"84a6ae4941ea0638fba6ca651c1a1e025b865ed5","modified":1654591678018},{"_id":"source/_posts/en/4g_wifi_dongle/good2.jpg","hash":"29924269dafc0249418eef3f9fc27681a96bdd6d","modified":1654589531508},{"_id":"source/_posts/en/4g_wifi_dongle/miko.png","hash":"d73560cc2a828e693411090d2ac42d3ffa05afc5","modified":1654590578584},{"_id":"source/_posts/en/4g_wifi_dongle/miko1.png","hash":"e6adc9e676545836dfe545b96a024edcba987f76","modified":1654590611682},{"_id":"source/_posts/en/4g_wifi_dongle/good2_zoomIn.jpg","hash":"29924269dafc0249418eef3f9fc27681a96bdd6d","modified":1654589531508},{"_id":"source/_posts/en/4g_wifi_dongle/shellclash.png","hash":"9cc071b6b5d87e19809c86efb494418a7a705b0a","modified":1654591980575},{"_id":"source/_posts/en/4g_wifi_dongle/cpu.png","hash":"869a166ceeb24fa0d0f2774353a79bfa9dbb5e7e","modified":1654591304930},{"_id":"source/_posts/en/4g_wifi_dongle/hardware.png","hash":"1fb1cb88a45f1c7ab8b543b3b9355103396c14d8","modified":1654592134773},{"_id":"source/_posts/en/4g_wifi_dongle/disk.png","hash":"762e7e67ce6a9780810743791013799b90338338","modified":1654593748467},{"_id":"source/_posts/en/4g_wifi_dongle/e2fsck.png","hash":"8d28361f70a05e49c3034e150e374e4598db2d6b","modified":1654593865614},{"_id":"source/_posts/en/omv-crash.md","hash":"a38b8a86fa2a0081ae33e1ec851b000ac0ea065b","modified":1712842543329},{"_id":"source/_posts/en/omv-crash/omv-not-working.png","hash":"9e0bba5f26bd5ae97959cadeae237cb7926c4b2e","modified":1709821405618},{"_id":"source/_posts/en/omv-crash/lost-raid.png","hash":"72620f9b265cc2e6815806f977b4fd862e3aabd8","modified":1709819429250},{"_id":"source/_posts/en/openwrt/n3160_vs_n6000.png","hash":"a2dea6b777909c40c29a9bca8fc3db7ef1f6abe8","modified":1692589421663},{"_id":"source/_posts/en/omv-crash/clean.png","hash":"b366c27744430cbb9326530a0bb00621cf2ce305","modified":1709821704100},{"_id":"source/_posts/en/omv-crash/mount-filesystem.png","hash":"1adcc106f75524eddf603bf8cc0d5a9e3952bb25","modified":1709821026188},{"_id":"source/_posts/en/omv-crash/mount-success.png","hash":"02e145db7a45993c27f9cded03f941164a01c885","modified":1709821092994},{"_id":"source/_posts/en/omv-crash/missing-filesystem.png","hash":"ce939ef2746959bc8a7508d4300db868f7f21475","modified":1709819477282},{"_id":"source/_posts/en/omv-crash/rebuild-completed.png","hash":"93e9a5f014cb2dba03df6e8270393b49b5b5a146","modified":1709820859582},{"_id":"source/_posts/en/omv-crash/recover.png","hash":"c08efa343d059c4b6248cf30bd5390bda387b772","modified":1709821295319},{"_id":"source/_posts/en/omv-crash/percent99.8.png","hash":"c61cdcbc8ae8c6517179a32da650f2b3ba1eda89","modified":1709821651287},{"_id":"source/_posts/en/omv-crash/raid-degraded.png","hash":"bc36da30d759fe409f7543db88a02e8ac06148dd","modified":1709821187809},{"_id":"source/_posts/en/omv-crash/system-not-mounted.png","hash":"d77e2eaae52612eecba881d5918dd7362ba77d0c","modified":1709820929272},{"_id":"source/_posts/en/omv-crash/web-rebuild-raid.png","hash":"485c53b5297de4ffa329cffd4c2d2285e7d68519","modified":1709820520787},{"_id":"source/_posts/en/omv-crash/add-disk.png","hash":"864a7c5a2296330e6910a8c16709a862949dae96","modified":1709821238830},{"_id":"source/_posts/en/omv-crash/web-disks.png","hash":"1f5bfcada6cee89c11fdd69a3d36b68d43b33cbe","modified":1709819216742},{"_id":"source/_posts/en/openwrt/pve_host_ethernet.png","hash":"65666d74e6fec66e94a389472988c455e4db32c7","modified":1692583222107},{"_id":"source/_posts/en/wireguard/turboACC.png","hash":"eddc24efdd039ee32e53c8c917830f0eb5b58863","modified":1668932718628},{"_id":"source/_posts/en/omv-crash/email-warning.png","hash":"53b915c1c7871ad52d3700d348dee7a82f11859d","modified":1709818802234},{"_id":"source/_posts/en/omv-crash/email-raid-degraded-event.png","hash":"16ede97d4f49d591118b76eb43b81232c7c4f8a6","modified":1709820755685},{"_id":"source/_posts/en/openwrt/lan_mac.png","hash":"c2a8ab422a24592d63c2af609ca4644b65e21573","modified":1692587552051},{"_id":"source/_posts/en/openwrt/n6000.jpg","hash":"d6b4d2106b034468a50d01a1c94445f8fbf7e535","modified":1692586007655},{"_id":"source/_posts/en/omv-crash/active.png","hash":"af24731ff1d6e60bd1af3db7d4dd7264bfd9c05c","modified":1709821778233},{"_id":"source/_posts/en/omv-crash/new-disk.png","hash":"1ce59d8040baf7c45bacb4387c31c8f5be8d932e","modified":1709821614602},{"_id":"source/_posts/en/omv-crash/review.png","hash":"27c257d9b076afbee530aa690a28ba28dfa67fdc","modified":1709821908784},{"_id":"source/_posts/en/openwrt/openwrt_lan_mac.png","hash":"23471dce88f06598e512abe0eb101eb9c84bc9c2","modified":1692587714335},{"_id":"source/_posts/en/openwrt/pve_openwrt_pci_ethernets.png","hash":"1b01af607d050d67117f1d4fc5ff2bc9af77e576","modified":1692582635011},{"_id":"source/_posts/en/omv-crash/pve-disks.png","hash":"1aedb202be15aaf300b0cc56321c424861d44db3","modified":1709819353528},{"_id":"source/_posts/en/omv-crash/raid-active.png","hash":"6bc8557081ab81ce65592eb9d98cd171137d5c8b","modified":1709820984426},{"_id":"source/_posts/en/omv-crash/omv-crash-again.png","hash":"ea94cfb5a3a549fcaddc82e0b81a60fec5095630","modified":1709821514652},{"_id":"source/_posts/en/omv-crash/gpt-summary.png","hash":"3f88c498bccaa0b633b5d0bc4923c8983d4c3e72","modified":1709821857275},{"_id":"source/_posts/en/omv-crash/rebuild-raid.png","hash":"6885564a232a1159a9190750377e33c4b914c43c","modified":1709820418846},{"_id":"source/_posts/en/openwrt/pve_ethernet_pci.png","hash":"6565a23a286238e32ce95ce0d50a7d403472f22d","modified":1692583394979},{"_id":"source/_posts/en/omv-crash/filesystem.png","hash":"ba5c74e5f538a58bb910fd392beb5bc74ece0b0c","modified":1709821127067},{"_id":"source/_posts/en/omv-crash/check-raid-status.png","hash":"14232599f0114d3bfe41d70defbd2d0525d56555","modified":1709819705703},{"_id":"source/_posts/en/omv-crash/smart-info.png","hash":"e53fea86a2da84772fbfa9f9b713d35aa6602968","modified":1709821805986},{"_id":"source/_posts/en/omv-crash/check-one-disk.png","hash":"605edc818680479ee40e46b90d4981ecf05b771f","modified":1709819782937},{"_id":"source/_posts/en/omv-crash/list-disks.png","hash":"8546366291efbaedd106a197ac84d667d125573c","modified":1709819063960},{"_id":"public/en/omv-crash/index.html","hash":"386f97151f7fdb9676f1a1ffc716d25eb6abe745","modified":1712843419695},{"_id":"public/en/4g_wifi_dongle/index.html","hash":"809e8a270cbfd78fba0313d17e4350d8b9441623","modified":1712843419695},{"_id":"public/archives/2022/06/index.html","hash":"39651413e954389e8cbe50bf79bd711d65eaf786","modified":1712742657296},{"_id":"public/archives/2024/index.html","hash":"e71064649f7af713351ef8c2003ab7f6ac5f2de5","modified":1712742657296},{"_id":"public/archives/2024/03/index.html","hash":"1145bec4bed357932be9430e77b98f34bce072b4","modified":1712742657296},{"_id":"public/tags/4g/index.html","hash":"457838793dab2806b7ab2d72f33090ac46564a1c","modified":1712742657296},{"_id":"public/tags/wifi/index.html","hash":"0ba419577669ba4177ebbc5813b7e945d1242d0a","modified":1712742657296},{"_id":"public/tags/dongle/index.html","hash":"67f48b1295bca1f1daca0c13683a456d09becd04","modified":1712742657296},{"_id":"public/tags/omv/index.html","hash":"9298d1153b39623dcafd1ab59ea4182d44906092","modified":1712742657296},{"_id":"public/tags/openmediavault/index.html","hash":"e63d13fc73b8c1611ba1cc1da5c91c43066506dd","modified":1712742657296},{"_id":"public/tags/crash/index.html","hash":"38cabb493ab4958a36919519ec05938ac809ae34","modified":1712742657296},{"_id":"public/en/4g_wifi_dongle/read-only.jpg","hash":"63a629902969e62da3870f5e976c433cf1023548","modified":1712736242646},{"_id":"public/en/omv-crash/omv-not-working.png","hash":"9e0bba5f26bd5ae97959cadeae237cb7926c4b2e","modified":1712736242646},{"_id":"public/en/4g_wifi_dongle/good3.jpg","hash":"ffc090e72c992103dd52ad77d6e9f047e954370d","modified":1712736242646},{"_id":"public/en/4g_wifi_dongle/good4.jpg","hash":"417527749e1ddc43ce70ad18f5ec9be099fee1ea","modified":1712736242646},{"_id":"public/en/4g_wifi_dongle/version.png","hash":"e53739819fd264f1653e145ce544f98091137366","modified":1712736242646},{"_id":"public/en/openwrt/n3160_vs_n6000.png","hash":"a2dea6b777909c40c29a9bca8fc3db7ef1f6abe8","modified":1712736242646},{"_id":"public/en/omv-crash/lost-raid.png","hash":"72620f9b265cc2e6815806f977b4fd862e3aabd8","modified":1712736242646},{"_id":"public/en/4g_wifi_dongle/esim.png","hash":"3c0c7a2fbbe2fdfd7d3f232f66bd412811edbaff","modified":1712736242646},{"_id":"public/en/4g_wifi_dongle/fastboot.png","hash":"f3862d43dbabbf585192bf67bfc893f64ae5fe73","modified":1712736242646},{"_id":"public/en/4g_wifi_dongle/gaoji.png","hash":"0730a9ceafe8c840d19393f824845a99ab263d6c","modified":1712736242646},{"_id":"public/en/4g_wifi_dongle/sim.png","hash":"d18843128e09635566c2e86581588c0560c4c6fc","modified":1712736242646},{"_id":"public/en/omv-crash/clean.png","hash":"b366c27744430cbb9326530a0bb00621cf2ce305","modified":1712736242646},{"_id":"public/en/omv-crash/missing-filesystem.png","hash":"ce939ef2746959bc8a7508d4300db868f7f21475","modified":1712736242646},{"_id":"public/en/omv-crash/mount-filesystem.png","hash":"1adcc106f75524eddf603bf8cc0d5a9e3952bb25","modified":1712736242646},{"_id":"public/en/omv-crash/mount-success.png","hash":"02e145db7a45993c27f9cded03f941164a01c885","modified":1712736242646},{"_id":"public/en/omv-crash/percent99.8.png","hash":"c61cdcbc8ae8c6517179a32da650f2b3ba1eda89","modified":1712736242646},{"_id":"public/en/omv-crash/raid-degraded.png","hash":"bc36da30d759fe409f7543db88a02e8ac06148dd","modified":1712736242646},{"_id":"public/en/omv-crash/rebuild-completed.png","hash":"93e9a5f014cb2dba03df6e8270393b49b5b5a146","modified":1712736242646},{"_id":"public/en/omv-crash/recover.png","hash":"c08efa343d059c4b6248cf30bd5390bda387b772","modified":1712736242646},{"_id":"public/en/omv-crash/system-not-mounted.png","hash":"d77e2eaae52612eecba881d5918dd7362ba77d0c","modified":1712736242646},{"_id":"public/en/omv-crash/web-rebuild-raid.png","hash":"485c53b5297de4ffa329cffd4c2d2285e7d68519","modified":1712736242646},{"_id":"public/en/4g_wifi_dongle/android_speed.png","hash":"fa6b6a75200567492b9d78dee4c57d3651c8c1a8","modified":1712736242646},{"_id":"public/en/4g_wifi_dongle/COM.png","hash":"6b2cd00b3da323fa3aca448287cc11feaaca5d18","modified":1712736242646},{"_id":"public/en/4g_wifi_dongle/flash_openwrt.png","hash":"1c0084cabb8e5c413294494e5151fd9320837a18","modified":1712736242646},{"_id":"public/en/4g_wifi_dongle/good.jpg","hash":"cc05e950fffc56f40cd3eb8bce9ff271647e4be9","modified":1712736242646},{"_id":"public/en/4g_wifi_dongle/openwrt.png","hash":"f8bbe76291c6d4c8d211b908533e3b46c14d0605","modified":1712736242646},{"_id":"public/en/4g_wifi_dongle/order.png","hash":"57d14bb3aae0dcd78a521564181c0acfbaa3b9f9","modified":1712736242646},{"_id":"public/en/4g_wifi_dongle/openwrt_speed.png","hash":"2677d06cbe8c1ae2b0be24a69f31b2825e2a714c","modified":1712736242646},{"_id":"public/en/openwrt/pve_host_ethernet.png","hash":"65666d74e6fec66e94a389472988c455e4db32c7","modified":1712736242646},{"_id":"public/en/wireguard/turboACC.png","hash":"eddc24efdd039ee32e53c8c917830f0eb5b58863","modified":1712736242646},{"_id":"public/en/omv-crash/add-disk.png","hash":"864a7c5a2296330e6910a8c16709a862949dae96","modified":1712736242646},{"_id":"public/en/omv-crash/web-disks.png","hash":"1f5bfcada6cee89c11fdd69a3d36b68d43b33cbe","modified":1712736242646},{"_id":"public/en/4g_wifi_dongle/good1.jpg","hash":"91bcdfe869dbaa024e566b873d4411cdc0ee0d86","modified":1712736242646},{"_id":"public/en/openwrt/lan_mac.png","hash":"c2a8ab422a24592d63c2af609ca4644b65e21573","modified":1712736242646},{"_id":"public/en/openwrt/n6000.jpg","hash":"d6b4d2106b034468a50d01a1c94445f8fbf7e535","modified":1712736242646},{"_id":"public/en/omv-crash/email-raid-degraded-event.png","hash":"16ede97d4f49d591118b76eb43b81232c7c4f8a6","modified":1712736242646},{"_id":"public/en/omv-crash/email-warning.png","hash":"53b915c1c7871ad52d3700d348dee7a82f11859d","modified":1712736242646},{"_id":"public/en/4g_wifi_dongle/good2_zoomIn.jpg","hash":"29924269dafc0249418eef3f9fc27681a96bdd6d","modified":1712736242646},{"_id":"public/en/4g_wifi_dongle/good2.jpg","hash":"29924269dafc0249418eef3f9fc27681a96bdd6d","modified":1712736242646},{"_id":"public/en/4g_wifi_dongle/miko.png","hash":"d73560cc2a828e693411090d2ac42d3ffa05afc5","modified":1712736242646},{"_id":"public/en/4g_wifi_dongle/modem.png","hash":"84a6ae4941ea0638fba6ca651c1a1e025b865ed5","modified":1712736242646},{"_id":"public/en/openwrt/openwrt_lan_mac.png","hash":"23471dce88f06598e512abe0eb101eb9c84bc9c2","modified":1712736242646},{"_id":"public/en/openwrt/pve_openwrt_pci_ethernets.png","hash":"1b01af607d050d67117f1d4fc5ff2bc9af77e576","modified":1712736242646},{"_id":"public/en/omv-crash/active.png","hash":"af24731ff1d6e60bd1af3db7d4dd7264bfd9c05c","modified":1712736242646},{"_id":"public/en/omv-crash/new-disk.png","hash":"1ce59d8040baf7c45bacb4387c31c8f5be8d932e","modified":1712736242646},{"_id":"public/en/omv-crash/review.png","hash":"27c257d9b076afbee530aa690a28ba28dfa67fdc","modified":1712736242646},{"_id":"public/en/4g_wifi_dongle/miko1.png","hash":"e6adc9e676545836dfe545b96a024edcba987f76","modified":1712736242646},{"_id":"public/en/omv-crash/pve-disks.png","hash":"1aedb202be15aaf300b0cc56321c424861d44db3","modified":1712736242646},{"_id":"public/en/omv-crash/raid-active.png","hash":"6bc8557081ab81ce65592eb9d98cd171137d5c8b","modified":1712736242646},{"_id":"public/en/omv-crash/omv-crash-again.png","hash":"ea94cfb5a3a549fcaddc82e0b81a60fec5095630","modified":1712736242646},{"_id":"public/en/omv-crash/gpt-summary.png","hash":"3f88c498bccaa0b633b5d0bc4923c8983d4c3e72","modified":1712736242646},{"_id":"public/en/omv-crash/rebuild-raid.png","hash":"6885564a232a1159a9190750377e33c4b914c43c","modified":1712736242646},{"_id":"public/en/4g_wifi_dongle/shellclash.png","hash":"9cc071b6b5d87e19809c86efb494418a7a705b0a","modified":1712736242646},{"_id":"public/en/openwrt/pve_ethernet_pci.png","hash":"6565a23a286238e32ce95ce0d50a7d403472f22d","modified":1712736242646},{"_id":"public/en/omv-crash/filesystem.png","hash":"ba5c74e5f538a58bb910fd392beb5bc74ece0b0c","modified":1712736242646},{"_id":"public/en/omv-crash/check-raid-status.png","hash":"14232599f0114d3bfe41d70defbd2d0525d56555","modified":1712736242646},{"_id":"public/en/omv-crash/smart-info.png","hash":"e53fea86a2da84772fbfa9f9b713d35aa6602968","modified":1712736242646},{"_id":"public/en/omv-crash/check-one-disk.png","hash":"605edc818680479ee40e46b90d4981ecf05b771f","modified":1712736242646},{"_id":"public/en/omv-crash/list-disks.png","hash":"8546366291efbaedd106a197ac84d667d125573c","modified":1712736242646},{"_id":"public/en/4g_wifi_dongle/disk.png","hash":"762e7e67ce6a9780810743791013799b90338338","modified":1712736242646},{"_id":"public/en/4g_wifi_dongle/cpu.png","hash":"869a166ceeb24fa0d0f2774353a79bfa9dbb5e7e","modified":1712736242646},{"_id":"public/en/4g_wifi_dongle/e2fsck.png","hash":"8d28361f70a05e49c3034e150e374e4598db2d6b","modified":1712736242646},{"_id":"public/en/4g_wifi_dongle/hardware.png","hash":"1fb1cb88a45f1c7ab8b543b3b9355103396c14d8","modified":1712736242646},{"_id":"source/js/inject.js","hash":"cc10e2abb0daf993facb874b46c7d0c12aa9e7c8","modified":1712738551745},{"_id":"public/js/inject.js","hash":"cc10e2abb0daf993facb874b46c7d0c12aa9e7c8","modified":1712738627303},{"_id":"source/css/zooming.css","hash":"56ecae259df6e71746b07e329d5786974f575055","modified":1712742575294},{"_id":"public/css/zooming.css","hash":"56ecae259df6e71746b07e329d5786974f575055","modified":1712742657296}],"Category":[{"name":"Hexo-Theme-LiveMyLife","_id":"cl1h685en0004xfdnf1vy76lk"},{"name":"network","_id":"cl1h77ns5000k73dn3t801jcc"}],"Data":[],"Page":[{"layout":"404","description":"I'm sorry there is nothing that you want , but you can enjoy the scenery here ...","header-img":"img/header_img/404_bg.jpg","_content":"","source":"404.md","raw":"---\nlayout: 404\ndescription: \"I'm sorry there is nothing that you want , but you can enjoy the scenery here ...\"\nheader-img: \"img/header_img/404_bg.jpg\"\n---\n","date":"2022-04-02T01:18:52.311Z","updated":"2022-04-02T01:18:52.311Z","path":"404.html","title":"","comments":1,"_id":"cl1h685ee0000xfdn5tetflc6","content":"","site":{"data":{}},"excerpt":"","more":""},{"layout":"about","title":"About","date":"2016-04-20T20:48:33.000Z","description":"那些年吹过的牛逼，还有很多没有实现 ......","header-img":"img/scenery/about_bg.jpg","_content":"\n","source":"about/index.md","raw":"---\nlayout: \"about\"\ntitle: \"About\"\ndate: 2016-04-21 04:48:33\ndescription: \"那些年吹过的牛逼，还有很多没有实现 ......\"\nheader-img: \"img/scenery/about_bg.jpg\"\n---\n\n","updated":"2016-04-20T20:48:33.000Z","path":"about/index.html","_id":"cl1h685ei0002xfdn1o2jd8um","comments":1,"content":"","site":{"data":{}},"excerpt":"","more":""},{"layout":"archive","title":"Archives","header-img":"img/header_img/archive_bg.jpg","date":"2017-03-20T12:49:56.000Z","description":"Don't rush and never settle...... If it's meant to be, it will be......","_content":"","source":"archive/index.md","raw":"---\nlayout: \"archive\"\ntitle: \"Archives\"\nheader-img: \"img/header_img/archive_bg.jpg\"\ndate: 2017-03-20 20:49:56\ndescription: \"Don't rush and never settle...... If it's meant to be, it will be......\"\n---\n","updated":"2017-03-20T12:49:56.000Z","path":"archive/index.html","comments":1,"_id":"cl1h685ep0006xfdncmrtg2ye","content":"","site":{"data":{}},"excerpt":"","more":""},{"layout":"tags","title":"Tags","description":"I don’t know where I am going, but I am on my way......","header-img":"img/header_img/tag_bg.jpg","_content":"","source":"tags/index.md","raw":"---\nlayout: \"tags\"\ntitle: \"Tags\"\ndescription: \"I don’t know where I am going, but I am on my way......\"\nheader-img: \"img/header_img/tag_bg.jpg\"\n---\n","date":"2022-04-02T01:18:57.117Z","updated":"2022-04-02T01:18:57.117Z","path":"tags/index.html","comments":1,"_id":"cl1h685es0008xfdnblhc0gqf","content":"","site":{"data":{}},"excerpt":"","more":""},{"layout":"categories","title":"Categories","description":"Hi , here is Categories ....","header-img":"img/header_img/categories_bg.jpg","_content":"","source":"categories/index.md","raw":"---\nlayout: \"categories\"\ntitle: \"Categories\"\ndescription: \"Hi , here is Categories ....\"\nheader-img: \"img/header_img/categories_bg.jpg\"\n---\n","date":"2022-04-02T01:18:52.315Z","updated":"2022-04-02T01:18:52.315Z","path":"categories/index.html","comments":1,"_id":"cl1h685eu000axfdnbb554fdc","content":"","site":{"data":{}},"excerpt":"","more":""},{"_content":"img {\n    width: 100%;\n    height: auto;\n}","source":"css/zooming.css","raw":"img {\n    width: 100%;\n    height: auto;\n}","date":"2024-04-10T09:49:35.294Z","updated":"2024-04-10T09:49:35.294Z","path":"css/zooming.css","layout":"false","_id":"clutl7km70000izdndbid5q6k","title":"","comments":1,"content":"img {\n    width: 100%;\n    height: auto;\n}","site":{"data":{}},"excerpt":"","more":"img {\n    width: 100%;\n    height: auto;\n}"}],"Post":[{"title":"amd4700ge搭建all in one","catalog":true,"date":"2022-03-31T13:25:00.000Z","subtitle":"all in boom","sticky":999,"header-img":"/img/header_img/newhome_bg.jpg","_content":"\n家用AIO考虑24*7运行的电费成本需要低功耗cpu，找了半天选择amd4700ge，这u没有零售只有OEM直接淘宝。\n\n配置清单：\nCPU：AMD 4700ge 8核16线程 TDP 35瓦\n风扇：玄冰风6铜管\n主板: 微星MAG B550M MORTAR WIFI\n内存：2 * 16G\n固态：英睿达P5 1T\n供电：850瓦全模组\nUPS：SVC BX1450L\n硬盘：4 * 西数紫盘8T(WD80PURX)\n\n硬盘裸装win10，8核16线程适合多任务:\n\n<img src=\"win10_cpu.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n内存：\n<img src=\"win10_memory.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\namd vega radeon集成显卡：\n<img src=\"win10_radeon.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\ncpuz:\n<img src=\"win10_cpuz.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\ncpuz集成显卡:\n<img src=\"win10_cpuz_vega_radeon.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\ncpu跑分：单线程533，多线程5300\n<img src=\"win10_cpuz_bench.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n待机功耗：\n<img src=\"win10_standby_power.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n英睿达P5健康度：\n<img src=\"CrystalDiskInfo.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n英睿达P5读写测速：\n<img src=\"CrystalDiskMark.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n内存8g，频率3000，鲁大师跑分：\n<img src=\"ludashi_bench.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n  \n<br/>\n\n---\n\n<br/>\n\n接下来进入bios开启amd虚拟化，u盘安装pve，开启硬件直通，在虚拟机里测性能\n\n<img src=\"pve_dashboard.png\" class=\"img-zoomable\" />\n\n在pve7以后可以直接在web界面关闭企业源，启用非生产环境源获得系统更新：\n\n<img src=\"pve_subscription.png\" class=\"img-zoomable\" />\n\n<br/>\n\n## 安装大礼包：\napt update\napt upgrade -y\n\napt install curl ufw lm-sensors apt-transport-https ca-certificates htop parted ncdu nethogs net-tools ethtool iperf3 vim git fail2ban smartmontools neofetch hollywood lshw cpufrequtils screen -y\n\nvim /etc/fail2ban/jail.conf, 把bantime改成60m\nfail2ban-client status sshd\n  \n<br/>\n\n## 查看cpu当前工作频率：\nwatch -n 2 \"cat /proc/cpuinfo | grep MHz\"\n\n<br/>\n\n## 查看cpu工作模式：\napt install cpufrequtils\ncpufreq-info\n\n设为节能模式：\nbash -c 'for ((i=0;i<$(nproc);i++)); do cpufreq-set -c $i -g powersave; done'\n\n设为按需模式：\nbash -c 'for ((i=0;i<$(nproc);i++)); do cpufreq-set -c $i -g ondemand; done'\n\n设为性能模式：\nbash -c 'for ((i=0;i<$(nproc);i++)); do cpufreq-set -c $i -g performance; done'\n\n<br/>\n\n## 查看温度：\napt install lm-sensors\nsensors\n\n<br/>\n\n## 安装pvetools扩展功能：\nhttps://github.com/ivanhao/pvetools\n\n<br/>\n\n## 安装ufw防火墙\napt install ufw\nufw status\nufw allow 22/tcp\nufw enable\nufw allow 8006/tcp\nufw allow 4000/tcp\niptables -L\n\n<br/>\n\n## 增大虚拟内存 —— swap交换分区\n\n根目录创建一个32g文件\ndd if=/dev/zero of=/swapfile bs=1M count=32768\n\n修改权限：\nchown root:root /swapfile\nchmod 0600 /swapfile\n\nmkswap /swapfile\nswapon /swapfile\n\n修改/etc/fstab，把/dev/pve/swap改成/swapfile\n\n<br/>\n\n## iperf3测速\npve宿主机作为server: iperf3 -s -p 4000\npve虚拟ubuntu作为client: iperf3 -p 4000 -c 192.168.2.150\n\n<img src=\"pve_ubuntu_iperf3.png\" class=\"img-zoomable\" />\n\n<br/>\n\n## pve待机功耗：\n<img src=\"pve_standby_power.jpg\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n跟裸装win10待机功耗一样，都是20瓦。\n\npve虚拟一台win10待机功耗：\n<img src=\"pve_win10_standby_power.jpg\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n多3瓦。\n\n\npve虚拟win10，cpu类型选host，分配所有线程跑分：\n<img src=\"pve_win10_cpuz_bench.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n分数很接近裸装win10，性能损失3%左右。\n\npve虚拟win10，磁盘为IDE测速：\n<img src=\"pve_IDE.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n<img src=\"pve_win10_ide_bench.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\npve虚拟win10，磁盘为SCSI测速：\n<img src=\"pve_scsi.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n<img src=\"pve_win10_scsi_bench.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n显而易见，应该选择SCSI作为虚拟机磁盘格式。\n\n但选择SCSI安装win10不能识别磁盘，需要加载驱动：\n<img src=\"pve_win10_no_disk.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n<img src=\"pve_win10_scsi_driver.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n<img src=\"pve_win10_scsi_disk.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n\n解决直通分组问题：\n[https://pve.proxmox.com/wiki/Pci_passthrough#AMD_CPU](https://pve.proxmox.com/wiki/Pci_passthrough#AMD_CPU)\n\n[https://mechanical-consciousness.com/2020/03/20/kvm-gpu-passthrough.html](https://mechanical-consciousness.com/2020/03/20/kvm-gpu-passthrough.html)\n\n[https://post.smzdm.com/p/alpwlzvp/\n](https://post.smzdm.com/p/alpwlzvp/\n)\n\npve8.1版本对应配置：\nGRUB_CMDLINE_LINUX_DEFAULT=\"quiet intel_pstate=disable amd_iommu=on iommu=pt textonly pcie_acs_override=downstream,multifunction initcall_blacklist=sysfb_init\"\n\n分组前，尝试给win10直通2张显卡：\n<img src=\"before_group.png\" class=\"img-zoomable\" />\n\n由上图可见，安装2张显卡后3070跟主板2.5G网卡的分组都是9，把3070直通给win10整个pve宿主机都断网失控，这时就要对PCI设备分组\n\n分组后3070变成17，2.5G网卡变成20：\n<img src=\"after_group.png\" class=\"img-zoomable\" />\n\n甚至板载AX200无线网卡也分了新的组19，之后就可以进行正常直通。\n\n测试显卡挖矿，直通后性能没有损失，跟裸装一样：\n\n<img src=\"pve_win10_mine_eth.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\npve虚拟openwrt，cpu类型选host，分配所有线程跑分：\n<img src=\"pve_openwrt.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n\npve虚拟debian作为server: iperf3 -s -p 4000\npve虚拟ubuntu作为client: iperf3 -p 4000 -c 192.168.2.103\n\n<img src=\"pve_debian_ubuntu_iperf3.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\npve虚拟2台win10，互拷文件：\n<img src=\"pve_win10_transfer_speed.jpg\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n## 意外断电\n把ups的usb直通给win10-miner：\n\n<img src=\"pve_win10_ups_usb.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n停电后立马关机减轻电源负担：\n\n<img src=\"ups.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n<br/>\n\nbash脚本自动关机，pve会先关掉所有vm再关宿主机，前提是每个vm都安装了qemu-guest-agent：\nmkdir -p /root/shutdown\ncd /root/shutdown\ntouch shutdown.sh\nchmod +x shutdown.sh\n\n```\n#!/bin/sh\n\n# apt install curl -y\n\nip=\"192.168.2.x\"  # ip which will detecting\ntime=30             # interval time of detecting (seconds)\ntriedCount=12        # try count\nfailCount=0         # failed count\n\nchat_id=\"\"\ntelegramToken=\"\"\n\npath=\"/root/shutdown/\"\n\nwhile true\ndo\n    date=`date +%Y-%m-%d`\n    logfile=$path$date'.log'\n\n    hostname=hostname\n    echo \"Detected hostname: `${hostname}`\" >> $logfile\n\n    notification=\"curl -X POST --header 'Content-Type: application/json' --data-raw '{\\\"chat_id\\\":\\\"$chat_id\\\",\\\"text\\\":\\\"`$hostname` is shutting down.\\\"}' -m 10 https://api.telegram.org/bot$telegramToken/sendMessage\"\n    # eval $notification\n\n    now=`date +%Y-%m-%d\\ %H:%M:%S`\n    # if ping $ip -4 -c 2 | grep 'time=' > $path'temp.log'\n    if ping $ip -4 -c 2 | grep 'time=' >> $logfile\n    then\n        echo $now 'ping success' $failCount >> $logfile\n        failCount=0\n    else\n        failCount=`expr $failCount + 1`\n        echo $now 'ping failed' $failCount >> $logfile\n        if test $failCount -ge $triedCount\n        then\n            echo $now 'execute shutdown' >> $logfile\n            eval $notification\n            shutdown -h now\n        fi\n    fi\n    sleep $time\ndone\n```\n\n原理：pve每隔30秒ping一次192.168.2.x，累积达到12次（6分钟）则触发关机动作，关机前给自己telegram机器人发消息并记录日志，当然弱电箱光猫、路由器、交换机也有ups续命。\n\nvim /etc/rc.loacl\n```\n#!/bin/bash\n\ncd /root/shutdown/ && nohup ./shutdown.sh > /dev/null 2>&1 &\n\n#exit 0\n```\n\nchmod +x /etc/rc.loacl\nreboot\n\n\n","source":"_posts/en/all_in_one.md","raw":"---\ntitle: amd4700ge搭建all in one\ncatalog: true\ndate: 2022-03-31 21:25:00\nsubtitle: all in boom\nsticky: 999\nheader-img: /img/header_img/newhome_bg.jpg\ntags:\n- amd4700ge\n- AIO\n- all in one\n- pve\n- proxmox\ncategories:\n- network\n---\n\n家用AIO考虑24*7运行的电费成本需要低功耗cpu，找了半天选择amd4700ge，这u没有零售只有OEM直接淘宝。\n\n配置清单：\nCPU：AMD 4700ge 8核16线程 TDP 35瓦\n风扇：玄冰风6铜管\n主板: 微星MAG B550M MORTAR WIFI\n内存：2 * 16G\n固态：英睿达P5 1T\n供电：850瓦全模组\nUPS：SVC BX1450L\n硬盘：4 * 西数紫盘8T(WD80PURX)\n\n硬盘裸装win10，8核16线程适合多任务:\n\n<img src=\"win10_cpu.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n内存：\n<img src=\"win10_memory.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\namd vega radeon集成显卡：\n<img src=\"win10_radeon.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\ncpuz:\n<img src=\"win10_cpuz.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\ncpuz集成显卡:\n<img src=\"win10_cpuz_vega_radeon.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\ncpu跑分：单线程533，多线程5300\n<img src=\"win10_cpuz_bench.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n待机功耗：\n<img src=\"win10_standby_power.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n英睿达P5健康度：\n<img src=\"CrystalDiskInfo.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n英睿达P5读写测速：\n<img src=\"CrystalDiskMark.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n内存8g，频率3000，鲁大师跑分：\n<img src=\"ludashi_bench.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n  \n<br/>\n\n---\n\n<br/>\n\n接下来进入bios开启amd虚拟化，u盘安装pve，开启硬件直通，在虚拟机里测性能\n\n<img src=\"pve_dashboard.png\" class=\"img-zoomable\" />\n\n在pve7以后可以直接在web界面关闭企业源，启用非生产环境源获得系统更新：\n\n<img src=\"pve_subscription.png\" class=\"img-zoomable\" />\n\n<br/>\n\n## 安装大礼包：\napt update\napt upgrade -y\n\napt install curl ufw lm-sensors apt-transport-https ca-certificates htop parted ncdu nethogs net-tools ethtool iperf3 vim git fail2ban smartmontools neofetch hollywood lshw cpufrequtils screen -y\n\nvim /etc/fail2ban/jail.conf, 把bantime改成60m\nfail2ban-client status sshd\n  \n<br/>\n\n## 查看cpu当前工作频率：\nwatch -n 2 \"cat /proc/cpuinfo | grep MHz\"\n\n<br/>\n\n## 查看cpu工作模式：\napt install cpufrequtils\ncpufreq-info\n\n设为节能模式：\nbash -c 'for ((i=0;i<$(nproc);i++)); do cpufreq-set -c $i -g powersave; done'\n\n设为按需模式：\nbash -c 'for ((i=0;i<$(nproc);i++)); do cpufreq-set -c $i -g ondemand; done'\n\n设为性能模式：\nbash -c 'for ((i=0;i<$(nproc);i++)); do cpufreq-set -c $i -g performance; done'\n\n<br/>\n\n## 查看温度：\napt install lm-sensors\nsensors\n\n<br/>\n\n## 安装pvetools扩展功能：\nhttps://github.com/ivanhao/pvetools\n\n<br/>\n\n## 安装ufw防火墙\napt install ufw\nufw status\nufw allow 22/tcp\nufw enable\nufw allow 8006/tcp\nufw allow 4000/tcp\niptables -L\n\n<br/>\n\n## 增大虚拟内存 —— swap交换分区\n\n根目录创建一个32g文件\ndd if=/dev/zero of=/swapfile bs=1M count=32768\n\n修改权限：\nchown root:root /swapfile\nchmod 0600 /swapfile\n\nmkswap /swapfile\nswapon /swapfile\n\n修改/etc/fstab，把/dev/pve/swap改成/swapfile\n\n<br/>\n\n## iperf3测速\npve宿主机作为server: iperf3 -s -p 4000\npve虚拟ubuntu作为client: iperf3 -p 4000 -c 192.168.2.150\n\n<img src=\"pve_ubuntu_iperf3.png\" class=\"img-zoomable\" />\n\n<br/>\n\n## pve待机功耗：\n<img src=\"pve_standby_power.jpg\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n跟裸装win10待机功耗一样，都是20瓦。\n\npve虚拟一台win10待机功耗：\n<img src=\"pve_win10_standby_power.jpg\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n多3瓦。\n\n\npve虚拟win10，cpu类型选host，分配所有线程跑分：\n<img src=\"pve_win10_cpuz_bench.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n分数很接近裸装win10，性能损失3%左右。\n\npve虚拟win10，磁盘为IDE测速：\n<img src=\"pve_IDE.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n<img src=\"pve_win10_ide_bench.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\npve虚拟win10，磁盘为SCSI测速：\n<img src=\"pve_scsi.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n<img src=\"pve_win10_scsi_bench.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n显而易见，应该选择SCSI作为虚拟机磁盘格式。\n\n但选择SCSI安装win10不能识别磁盘，需要加载驱动：\n<img src=\"pve_win10_no_disk.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n<img src=\"pve_win10_scsi_driver.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n<img src=\"pve_win10_scsi_disk.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n\n解决直通分组问题：\n[https://pve.proxmox.com/wiki/Pci_passthrough#AMD_CPU](https://pve.proxmox.com/wiki/Pci_passthrough#AMD_CPU)\n\n[https://mechanical-consciousness.com/2020/03/20/kvm-gpu-passthrough.html](https://mechanical-consciousness.com/2020/03/20/kvm-gpu-passthrough.html)\n\n[https://post.smzdm.com/p/alpwlzvp/\n](https://post.smzdm.com/p/alpwlzvp/\n)\n\npve8.1版本对应配置：\nGRUB_CMDLINE_LINUX_DEFAULT=\"quiet intel_pstate=disable amd_iommu=on iommu=pt textonly pcie_acs_override=downstream,multifunction initcall_blacklist=sysfb_init\"\n\n分组前，尝试给win10直通2张显卡：\n<img src=\"before_group.png\" class=\"img-zoomable\" />\n\n由上图可见，安装2张显卡后3070跟主板2.5G网卡的分组都是9，把3070直通给win10整个pve宿主机都断网失控，这时就要对PCI设备分组\n\n分组后3070变成17，2.5G网卡变成20：\n<img src=\"after_group.png\" class=\"img-zoomable\" />\n\n甚至板载AX200无线网卡也分了新的组19，之后就可以进行正常直通。\n\n测试显卡挖矿，直通后性能没有损失，跟裸装一样：\n\n<img src=\"pve_win10_mine_eth.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\npve虚拟openwrt，cpu类型选host，分配所有线程跑分：\n<img src=\"pve_openwrt.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n\npve虚拟debian作为server: iperf3 -s -p 4000\npve虚拟ubuntu作为client: iperf3 -p 4000 -c 192.168.2.103\n\n<img src=\"pve_debian_ubuntu_iperf3.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\npve虚拟2台win10，互拷文件：\n<img src=\"pve_win10_transfer_speed.jpg\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n## 意外断电\n把ups的usb直通给win10-miner：\n\n<img src=\"pve_win10_ups_usb.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n停电后立马关机减轻电源负担：\n\n<img src=\"ups.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n<br/>\n\nbash脚本自动关机，pve会先关掉所有vm再关宿主机，前提是每个vm都安装了qemu-guest-agent：\nmkdir -p /root/shutdown\ncd /root/shutdown\ntouch shutdown.sh\nchmod +x shutdown.sh\n\n```\n#!/bin/sh\n\n# apt install curl -y\n\nip=\"192.168.2.x\"  # ip which will detecting\ntime=30             # interval time of detecting (seconds)\ntriedCount=12        # try count\nfailCount=0         # failed count\n\nchat_id=\"\"\ntelegramToken=\"\"\n\npath=\"/root/shutdown/\"\n\nwhile true\ndo\n    date=`date +%Y-%m-%d`\n    logfile=$path$date'.log'\n\n    hostname=hostname\n    echo \"Detected hostname: `${hostname}`\" >> $logfile\n\n    notification=\"curl -X POST --header 'Content-Type: application/json' --data-raw '{\\\"chat_id\\\":\\\"$chat_id\\\",\\\"text\\\":\\\"`$hostname` is shutting down.\\\"}' -m 10 https://api.telegram.org/bot$telegramToken/sendMessage\"\n    # eval $notification\n\n    now=`date +%Y-%m-%d\\ %H:%M:%S`\n    # if ping $ip -4 -c 2 | grep 'time=' > $path'temp.log'\n    if ping $ip -4 -c 2 | grep 'time=' >> $logfile\n    then\n        echo $now 'ping success' $failCount >> $logfile\n        failCount=0\n    else\n        failCount=`expr $failCount + 1`\n        echo $now 'ping failed' $failCount >> $logfile\n        if test $failCount -ge $triedCount\n        then\n            echo $now 'execute shutdown' >> $logfile\n            eval $notification\n            shutdown -h now\n        fi\n    fi\n    sleep $time\ndone\n```\n\n原理：pve每隔30秒ping一次192.168.2.x，累积达到12次（6分钟）则触发关机动作，关机前给自己telegram机器人发消息并记录日志，当然弱电箱光猫、路由器、交换机也有ups续命。\n\nvim /etc/rc.loacl\n```\n#!/bin/bash\n\ncd /root/shutdown/ && nohup ./shutdown.sh > /dev/null 2>&1 &\n\n#exit 0\n```\n\nchmod +x /etc/rc.loacl\nreboot\n\n\n","slug":"all_in_one","published":1,"lang":"en","updated":"2022-03-31T13:25:00.000Z","_id":"cl1h685ej0003xfdn8u2sg3v2","comments":1,"layout":"post","photos":[],"link":"","content":"<p>家用AIO考虑24*7运行的电费成本需要低功耗cpu，找了半天选择amd4700ge，这u没有零售只有OEM直接淘宝。</p>\n<p>配置清单：<br>\nCPU：AMD 4700ge 8核16线程 TDP 35瓦<br>\n风扇：玄冰风6铜管<br>\n主板: 微星MAG B550M MORTAR WIFI<br>\n内存：2 * 16G<br>\n固态：英睿达P5 1T<br>\n供电：850瓦全模组<br>\nUPS：SVC BX1450L<br>\n硬盘：4 * 西数紫盘8T(WD80PURX)</p>\n<p>硬盘裸装win10，8核16线程适合多任务:</p>\n<img src=\"win10_cpu.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n<p>内存：<br>\n<img src=\"win10_memory.png\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<p>amd vega radeon集成显卡：<br>\n<img src=\"win10_radeon.png\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<p>cpuz:<br>\n<img src=\"win10_cpuz.png\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<p>cpuz集成显卡:<br>\n<img src=\"win10_cpuz_vega_radeon.png\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<p>cpu跑分：单线程533，多线程5300<br>\n<img src=\"win10_cpuz_bench.png\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<p>待机功耗：<br>\n<img src=\"win10_standby_power.png\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<p>英睿达P5健康度：<br>\n<img src=\"CrystalDiskInfo.png\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<p>英睿达P5读写测速：<br>\n<img src=\"CrystalDiskMark.png\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<p>内存8g，频率3000，鲁大师跑分：<br>\n<img src=\"ludashi_bench.png\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<br/>\n<hr>\n<br/>\n<p>接下来进入bios开启amd虚拟化，u盘安装pve，开启硬件直通，在虚拟机里测性能</p>\n<img src=\"pve_dashboard.png\" class=\"img-zoomable\" />\n<p>在pve7以后可以直接在web界面关闭企业源，启用非生产环境源获得系统更新：</p>\n<img src=\"pve_subscription.png\" class=\"img-zoomable\" />\n<br/>\n<h2 id=\"安装大礼包：\">安装大礼包：</h2>\n<p>apt update<br>\napt upgrade -y</p>\n<p>apt install curl ufw lm-sensors apt-transport-https ca-certificates htop parted ncdu nethogs net-tools ethtool iperf3 vim git fail2ban smartmontools neofetch hollywood lshw cpufrequtils screen -y</p>\n<p>vim /etc/fail2ban/jail.conf, 把bantime改成60m<br>\nfail2ban-client status sshd</p>\n<br/>\n<h2 id=\"查看cpu当前工作频率：\">查看cpu当前工作频率：</h2>\n<p>watch -n 2 “cat /proc/cpuinfo | grep MHz”</p>\n<br/>\n<h2 id=\"查看cpu工作模式：\">查看cpu工作模式：</h2>\n<p>apt install cpufrequtils<br>\ncpufreq-info</p>\n<p>设为节能模式：<br>\nbash -c ‘for ((i=0;i&lt;$(nproc);i++)); do cpufreq-set -c $i -g powersave; done’</p>\n<p>设为按需模式：<br>\nbash -c ‘for ((i=0;i&lt;$(nproc);i++)); do cpufreq-set -c $i -g ondemand; done’</p>\n<p>设为性能模式：<br>\nbash -c ‘for ((i=0;i&lt;$(nproc);i++)); do cpufreq-set -c $i -g performance; done’</p>\n<br/>\n<h2 id=\"查看温度：\">查看温度：</h2>\n<p>apt install lm-sensors<br>\nsensors</p>\n<br/>\n<h2 id=\"安装pvetools扩展功能：\">安装pvetools扩展功能：</h2>\n<p><a href=\"https://github.com/ivanhao/pvetools\">https://github.com/ivanhao/pvetools</a></p>\n<br/>\n<h2 id=\"安装ufw防火墙\">安装ufw防火墙</h2>\n<p>apt install ufw<br>\nufw status<br>\nufw allow 22/tcp<br>\nufw enable<br>\nufw allow 8006/tcp<br>\nufw allow 4000/tcp<br>\niptables -L</p>\n<br/>\n<h2 id=\"增大虚拟内存-——-swap交换分区\">增大虚拟内存 —— swap交换分区</h2>\n<p>根目录创建一个32g文件<br>\ndd if=/dev/zero of=/swapfile bs=1M count=32768</p>\n<p>修改权限：<br>\nchown root:root /swapfile<br>\nchmod 0600 /swapfile</p>\n<p>mkswap /swapfile<br>\nswapon /swapfile</p>\n<p>修改/etc/fstab，把/dev/pve/swap改成/swapfile</p>\n<br/>\n<h2 id=\"iperf3测速\">iperf3测速</h2>\n<p>pve宿主机作为server: iperf3 -s -p 4000<br>\npve虚拟ubuntu作为client: iperf3 -p 4000 -c 192.168.2.150</p>\n<img src=\"pve_ubuntu_iperf3.png\" class=\"img-zoomable\" />\n<br/>\n<h2 id=\"pve待机功耗：\">pve待机功耗：</h2>\n<img src=\"pve_standby_power.jpg\" style=\"width: 500px\" class=\"img-zoomable\" />\n<p>跟裸装win10待机功耗一样，都是20瓦。</p>\n<p>pve虚拟一台win10待机功耗：<br>\n<img src=\"pve_win10_standby_power.jpg\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<p>多3瓦。</p>\n<p>pve虚拟win10，cpu类型选host，分配所有线程跑分：<br>\n<img src=\"pve_win10_cpuz_bench.png\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<p>分数很接近裸装win10，性能损失3%左右。</p>\n<p>pve虚拟win10，磁盘为IDE测速：<br>\n<img src=\"pve_IDE.png\" style=\"width: 500px\" class=\"img-zoomable\" /><br>\n<img src=\"pve_win10_ide_bench.png\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<p>pve虚拟win10，磁盘为SCSI测速：<br>\n<img src=\"pve_scsi.png\" style=\"width: 500px\" class=\"img-zoomable\" /><br>\n<img src=\"pve_win10_scsi_bench.png\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<p>显而易见，应该选择SCSI作为虚拟机磁盘格式。</p>\n<p>但选择SCSI安装win10不能识别磁盘，需要加载驱动：<br>\n<img src=\"pve_win10_no_disk.png\" style=\"width: 500px\" class=\"img-zoomable\" /><br>\n<img src=\"pve_win10_scsi_driver.png\" style=\"width: 500px\" class=\"img-zoomable\" /><br>\n<img src=\"pve_win10_scsi_disk.png\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<p>解决直通分组问题：<br>\n<a href=\"https://pve.proxmox.com/wiki/Pci_passthrough#AMD_CPU\">https://pve.proxmox.com/wiki/Pci_passthrough#AMD_CPU</a></p>\n<p><a href=\"https://mechanical-consciousness.com/2020/03/20/kvm-gpu-passthrough.html\">https://mechanical-consciousness.com/2020/03/20/kvm-gpu-passthrough.html</a></p>\n<p><a href=\"https://post.smzdm.com/p/alpwlzvp/\">https://post.smzdm.com/p/alpwlzvp/<br>\n</a></p>\n<p>pve8.1版本对应配置：<br>\nGRUB_CMDLINE_LINUX_DEFAULT=“quiet intel_pstate=disable amd_iommu=on iommu=pt textonly pcie_acs_override=downstream,multifunction initcall_blacklist=sysfb_init”</p>\n<p>分组前，尝试给win10直通2张显卡：<br>\n<img src=\"before_group.png\" class=\"img-zoomable\" /></p>\n<p>由上图可见，安装2张显卡后3070跟主板2.5G网卡的分组都是9，把3070直通给win10整个pve宿主机都断网失控，这时就要对PCI设备分组</p>\n<p>分组后3070变成17，2.5G网卡变成20：<br>\n<img src=\"after_group.png\" class=\"img-zoomable\" /></p>\n<p>甚至板载AX200无线网卡也分了新的组19，之后就可以进行正常直通。</p>\n<p>测试显卡挖矿，直通后性能没有损失，跟裸装一样：</p>\n<img src=\"pve_win10_mine_eth.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n<p>pve虚拟openwrt，cpu类型选host，分配所有线程跑分：<br>\n<img src=\"pve_openwrt.png\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<p>pve虚拟debian作为server: iperf3 -s -p 4000<br>\npve虚拟ubuntu作为client: iperf3 -p 4000 -c 192.168.2.103</p>\n<img src=\"pve_debian_ubuntu_iperf3.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n<p>pve虚拟2台win10，互拷文件：<br>\n<img src=\"pve_win10_transfer_speed.jpg\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<h2 id=\"意外断电\">意外断电</h2>\n<p>把ups的usb直通给win10-miner：</p>\n<img src=\"pve_win10_ups_usb.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n<p>停电后立马关机减轻电源负担：</p>\n<img src=\"ups.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n<br/>\n<p>bash脚本自动关机，pve会先关掉所有vm再关宿主机，前提是每个vm都安装了qemu-guest-agent：<br>\nmkdir -p /root/shutdown<br>\ncd /root/shutdown<br>\ntouch <a href=\"http://shutdown.sh\">shutdown.sh</a><br>\nchmod +x <a href=\"http://shutdown.sh\">shutdown.sh</a></p>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/bin/sh</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># apt install curl -y</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attribute\">ip</span>=<span class=\"string\">&quot;192.168.2.x&quot;</span>  #<span class=\"built_in\"> ip </span>which will detecting</span><br><span class=\"line\"><span class=\"attribute\">time</span>=30             # interval time of detecting (seconds)</span><br><span class=\"line\"><span class=\"attribute\">triedCount</span>=12        # try count</span><br><span class=\"line\"><span class=\"attribute\">failCount</span>=0         # failed count</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attribute\">chat_id</span>=<span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\"><span class=\"attribute\">telegramToken</span>=<span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attribute\">path</span>=<span class=\"string\">&quot;/root/shutdown/&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">while</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">    <span class=\"attribute\">date</span>=`date +%Y-%m-%d`</span><br><span class=\"line\">    <span class=\"attribute\">logfile</span>=<span class=\"variable\">$path</span><span class=\"variable\">$date</span><span class=\"string\">&#x27;.log&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attribute\">hostname</span>=hostname</span><br><span class=\"line\">    echo <span class=\"string\">&quot;Detected hostname: `<span class=\"variable\">$&#123;hostname&#125;</span>`&quot;</span> &gt;&gt; <span class=\"variable\">$logfile</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attribute\">notification</span>=<span class=\"string\">&quot;curl -X POST --header &#x27;Content-Type: application/json&#x27; --data-raw &#x27;&#123;\\&quot;chat_id\\&quot;:\\&quot;<span class=\"variable\">$chat_id</span>\\&quot;,\\&quot;text\\&quot;:\\&quot;`<span class=\"variable\">$hostname</span>` is shutting down.\\&quot;&#125;&#x27; -m 10 https://api.telegram.org/bot<span class=\"variable\">$telegramToken</span>/sendMessage&quot;</span></span><br><span class=\"line\">    # eval <span class=\"variable\">$notification</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attribute\">now</span>=`date +%Y-%m-%d\\ %H:%M:%S`</span><br><span class=\"line\">    # <span class=\"keyword\">if</span><span class=\"built_in\"> ping </span><span class=\"variable\">$ip</span> -4 -c 2 | grep <span class=\"string\">&#x27;time=&#x27;</span> &gt; <span class=\"variable\">$path</span><span class=\"string\">&#x27;temp.log&#x27;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span><span class=\"built_in\"> ping </span><span class=\"variable\">$ip</span> -4 -c 2 | grep <span class=\"string\">&#x27;time=&#x27;</span> &gt;&gt; <span class=\"variable\">$logfile</span></span><br><span class=\"line\">    then</span><br><span class=\"line\">        echo <span class=\"variable\">$now</span> <span class=\"string\">&#x27;ping success&#x27;</span> <span class=\"variable\">$failCount</span> &gt;&gt; <span class=\"variable\">$logfile</span></span><br><span class=\"line\">        <span class=\"attribute\">failCount</span>=0</span><br><span class=\"line\">    <span class=\"keyword\">else</span></span><br><span class=\"line\">        <span class=\"attribute\">failCount</span>=`expr <span class=\"variable\">$failCount</span> + 1`</span><br><span class=\"line\">        echo <span class=\"variable\">$now</span> <span class=\"string\">&#x27;ping failed&#x27;</span> <span class=\"variable\">$failCount</span> &gt;&gt; <span class=\"variable\">$logfile</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> test <span class=\"variable\">$failCount</span> -ge <span class=\"variable\">$triedCount</span></span><br><span class=\"line\">        then</span><br><span class=\"line\">            echo <span class=\"variable\">$now</span> <span class=\"string\">&#x27;execute shutdown&#x27;</span> &gt;&gt; <span class=\"variable\">$logfile</span></span><br><span class=\"line\">            eval <span class=\"variable\">$notification</span></span><br><span class=\"line\">            shutdown -h now</span><br><span class=\"line\">        fi</span><br><span class=\"line\">    fi</span><br><span class=\"line\">    sleep <span class=\"variable\">$time</span></span><br><span class=\"line\">done</span><br></pre></td></tr></table></figure>\n<p>原理：pve每隔30秒ping一次192.168.2.x，累积达到12次（6分钟）则触发关机动作，关机前给自己telegram机器人发消息并记录日志，当然弱电箱光猫、路由器、交换机也有ups续命。</p>\n<p>vim /etc/rc.loacl</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cd</span> /root/shutdown/ &amp;&amp; <span class=\"built_in\">nohup</span> ./shutdown.sh &gt; /dev/null 2&gt;&amp;1 &amp;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#exit 0</span></span><br></pre></td></tr></table></figure>\n<p>chmod +x /etc/rc.loacl<br>\nreboot</p>\n","site":{"data":{}},"excerpt":"","more":"<p>家用AIO考虑24*7运行的电费成本需要低功耗cpu，找了半天选择amd4700ge，这u没有零售只有OEM直接淘宝。</p>\n<p>配置清单：<br>\nCPU：AMD 4700ge 8核16线程 TDP 35瓦<br>\n风扇：玄冰风6铜管<br>\n主板: 微星MAG B550M MORTAR WIFI<br>\n内存：2 * 16G<br>\n固态：英睿达P5 1T<br>\n供电：850瓦全模组<br>\nUPS：SVC BX1450L<br>\n硬盘：4 * 西数紫盘8T(WD80PURX)</p>\n<p>硬盘裸装win10，8核16线程适合多任务:</p>\n<img src=\"win10_cpu.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n<p>内存：<br>\n<img src=\"win10_memory.png\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<p>amd vega radeon集成显卡：<br>\n<img src=\"win10_radeon.png\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<p>cpuz:<br>\n<img src=\"win10_cpuz.png\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<p>cpuz集成显卡:<br>\n<img src=\"win10_cpuz_vega_radeon.png\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<p>cpu跑分：单线程533，多线程5300<br>\n<img src=\"win10_cpuz_bench.png\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<p>待机功耗：<br>\n<img src=\"win10_standby_power.png\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<p>英睿达P5健康度：<br>\n<img src=\"CrystalDiskInfo.png\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<p>英睿达P5读写测速：<br>\n<img src=\"CrystalDiskMark.png\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<p>内存8g，频率3000，鲁大师跑分：<br>\n<img src=\"ludashi_bench.png\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<br/>\n<hr>\n<br/>\n<p>接下来进入bios开启amd虚拟化，u盘安装pve，开启硬件直通，在虚拟机里测性能</p>\n<img src=\"pve_dashboard.png\" class=\"img-zoomable\" />\n<p>在pve7以后可以直接在web界面关闭企业源，启用非生产环境源获得系统更新：</p>\n<img src=\"pve_subscription.png\" class=\"img-zoomable\" />\n<br/>\n<h2 id=\"安装大礼包：\">安装大礼包：</h2>\n<p>apt update<br>\napt upgrade -y</p>\n<p>apt install curl ufw lm-sensors apt-transport-https ca-certificates htop parted ncdu nethogs net-tools ethtool iperf3 vim git fail2ban smartmontools neofetch hollywood lshw cpufrequtils screen -y</p>\n<p>vim /etc/fail2ban/jail.conf, 把bantime改成60m<br>\nfail2ban-client status sshd</p>\n<br/>\n<h2 id=\"查看cpu当前工作频率：\">查看cpu当前工作频率：</h2>\n<p>watch -n 2 “cat /proc/cpuinfo | grep MHz”</p>\n<br/>\n<h2 id=\"查看cpu工作模式：\">查看cpu工作模式：</h2>\n<p>apt install cpufrequtils<br>\ncpufreq-info</p>\n<p>设为节能模式：<br>\nbash -c ‘for ((i=0;i&lt;$(nproc);i++)); do cpufreq-set -c $i -g powersave; done’</p>\n<p>设为按需模式：<br>\nbash -c ‘for ((i=0;i&lt;$(nproc);i++)); do cpufreq-set -c $i -g ondemand; done’</p>\n<p>设为性能模式：<br>\nbash -c ‘for ((i=0;i&lt;$(nproc);i++)); do cpufreq-set -c $i -g performance; done’</p>\n<br/>\n<h2 id=\"查看温度：\">查看温度：</h2>\n<p>apt install lm-sensors<br>\nsensors</p>\n<br/>\n<h2 id=\"安装pvetools扩展功能：\">安装pvetools扩展功能：</h2>\n<p><a href=\"https://github.com/ivanhao/pvetools\">https://github.com/ivanhao/pvetools</a></p>\n<br/>\n<h2 id=\"安装ufw防火墙\">安装ufw防火墙</h2>\n<p>apt install ufw<br>\nufw status<br>\nufw allow 22/tcp<br>\nufw enable<br>\nufw allow 8006/tcp<br>\nufw allow 4000/tcp<br>\niptables -L</p>\n<br/>\n<h2 id=\"增大虚拟内存-——-swap交换分区\">增大虚拟内存 —— swap交换分区</h2>\n<p>根目录创建一个32g文件<br>\ndd if=/dev/zero of=/swapfile bs=1M count=32768</p>\n<p>修改权限：<br>\nchown root:root /swapfile<br>\nchmod 0600 /swapfile</p>\n<p>mkswap /swapfile<br>\nswapon /swapfile</p>\n<p>修改/etc/fstab，把/dev/pve/swap改成/swapfile</p>\n<br/>\n<h2 id=\"iperf3测速\">iperf3测速</h2>\n<p>pve宿主机作为server: iperf3 -s -p 4000<br>\npve虚拟ubuntu作为client: iperf3 -p 4000 -c 192.168.2.150</p>\n<img src=\"pve_ubuntu_iperf3.png\" class=\"img-zoomable\" />\n<br/>\n<h2 id=\"pve待机功耗：\">pve待机功耗：</h2>\n<img src=\"pve_standby_power.jpg\" style=\"width: 500px\" class=\"img-zoomable\" />\n<p>跟裸装win10待机功耗一样，都是20瓦。</p>\n<p>pve虚拟一台win10待机功耗：<br>\n<img src=\"pve_win10_standby_power.jpg\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<p>多3瓦。</p>\n<p>pve虚拟win10，cpu类型选host，分配所有线程跑分：<br>\n<img src=\"pve_win10_cpuz_bench.png\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<p>分数很接近裸装win10，性能损失3%左右。</p>\n<p>pve虚拟win10，磁盘为IDE测速：<br>\n<img src=\"pve_IDE.png\" style=\"width: 500px\" class=\"img-zoomable\" /><br>\n<img src=\"pve_win10_ide_bench.png\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<p>pve虚拟win10，磁盘为SCSI测速：<br>\n<img src=\"pve_scsi.png\" style=\"width: 500px\" class=\"img-zoomable\" /><br>\n<img src=\"pve_win10_scsi_bench.png\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<p>显而易见，应该选择SCSI作为虚拟机磁盘格式。</p>\n<p>但选择SCSI安装win10不能识别磁盘，需要加载驱动：<br>\n<img src=\"pve_win10_no_disk.png\" style=\"width: 500px\" class=\"img-zoomable\" /><br>\n<img src=\"pve_win10_scsi_driver.png\" style=\"width: 500px\" class=\"img-zoomable\" /><br>\n<img src=\"pve_win10_scsi_disk.png\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<p>解决直通分组问题：<br>\n<a href=\"https://pve.proxmox.com/wiki/Pci_passthrough#AMD_CPU\">https://pve.proxmox.com/wiki/Pci_passthrough#AMD_CPU</a></p>\n<p><a href=\"https://mechanical-consciousness.com/2020/03/20/kvm-gpu-passthrough.html\">https://mechanical-consciousness.com/2020/03/20/kvm-gpu-passthrough.html</a></p>\n<p><a href=\"https://post.smzdm.com/p/alpwlzvp/\">https://post.smzdm.com/p/alpwlzvp/<br>\n</a></p>\n<p>pve8.1版本对应配置：<br>\nGRUB_CMDLINE_LINUX_DEFAULT=“quiet intel_pstate=disable amd_iommu=on iommu=pt textonly pcie_acs_override=downstream,multifunction initcall_blacklist=sysfb_init”</p>\n<p>分组前，尝试给win10直通2张显卡：<br>\n<img src=\"before_group.png\" class=\"img-zoomable\" /></p>\n<p>由上图可见，安装2张显卡后3070跟主板2.5G网卡的分组都是9，把3070直通给win10整个pve宿主机都断网失控，这时就要对PCI设备分组</p>\n<p>分组后3070变成17，2.5G网卡变成20：<br>\n<img src=\"after_group.png\" class=\"img-zoomable\" /></p>\n<p>甚至板载AX200无线网卡也分了新的组19，之后就可以进行正常直通。</p>\n<p>测试显卡挖矿，直通后性能没有损失，跟裸装一样：</p>\n<img src=\"pve_win10_mine_eth.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n<p>pve虚拟openwrt，cpu类型选host，分配所有线程跑分：<br>\n<img src=\"pve_openwrt.png\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<p>pve虚拟debian作为server: iperf3 -s -p 4000<br>\npve虚拟ubuntu作为client: iperf3 -p 4000 -c 192.168.2.103</p>\n<img src=\"pve_debian_ubuntu_iperf3.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n<p>pve虚拟2台win10，互拷文件：<br>\n<img src=\"pve_win10_transfer_speed.jpg\" style=\"width: 500px\" class=\"img-zoomable\" /></p>\n<h2 id=\"意外断电\">意外断电</h2>\n<p>把ups的usb直通给win10-miner：</p>\n<img src=\"pve_win10_ups_usb.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n<p>停电后立马关机减轻电源负担：</p>\n<img src=\"ups.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n<br/>\n<p>bash脚本自动关机，pve会先关掉所有vm再关宿主机，前提是每个vm都安装了qemu-guest-agent：<br>\nmkdir -p /root/shutdown<br>\ncd /root/shutdown<br>\ntouch <a href=\"http://shutdown.sh\">shutdown.sh</a><br>\nchmod +x <a href=\"http://shutdown.sh\">shutdown.sh</a></p>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/bin/sh</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># apt install curl -y</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attribute\">ip</span>=<span class=\"string\">&quot;192.168.2.x&quot;</span>  #<span class=\"built_in\"> ip </span>which will detecting</span><br><span class=\"line\"><span class=\"attribute\">time</span>=30             # interval time of detecting (seconds)</span><br><span class=\"line\"><span class=\"attribute\">triedCount</span>=12        # try count</span><br><span class=\"line\"><span class=\"attribute\">failCount</span>=0         # failed count</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attribute\">chat_id</span>=<span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\"><span class=\"attribute\">telegramToken</span>=<span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attribute\">path</span>=<span class=\"string\">&quot;/root/shutdown/&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">while</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">    <span class=\"attribute\">date</span>=`date +%Y-%m-%d`</span><br><span class=\"line\">    <span class=\"attribute\">logfile</span>=<span class=\"variable\">$path</span><span class=\"variable\">$date</span><span class=\"string\">&#x27;.log&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attribute\">hostname</span>=hostname</span><br><span class=\"line\">    echo <span class=\"string\">&quot;Detected hostname: `<span class=\"variable\">$&#123;hostname&#125;</span>`&quot;</span> &gt;&gt; <span class=\"variable\">$logfile</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attribute\">notification</span>=<span class=\"string\">&quot;curl -X POST --header &#x27;Content-Type: application/json&#x27; --data-raw &#x27;&#123;\\&quot;chat_id\\&quot;:\\&quot;<span class=\"variable\">$chat_id</span>\\&quot;,\\&quot;text\\&quot;:\\&quot;`<span class=\"variable\">$hostname</span>` is shutting down.\\&quot;&#125;&#x27; -m 10 https://api.telegram.org/bot<span class=\"variable\">$telegramToken</span>/sendMessage&quot;</span></span><br><span class=\"line\">    # eval <span class=\"variable\">$notification</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attribute\">now</span>=`date +%Y-%m-%d\\ %H:%M:%S`</span><br><span class=\"line\">    # <span class=\"keyword\">if</span><span class=\"built_in\"> ping </span><span class=\"variable\">$ip</span> -4 -c 2 | grep <span class=\"string\">&#x27;time=&#x27;</span> &gt; <span class=\"variable\">$path</span><span class=\"string\">&#x27;temp.log&#x27;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span><span class=\"built_in\"> ping </span><span class=\"variable\">$ip</span> -4 -c 2 | grep <span class=\"string\">&#x27;time=&#x27;</span> &gt;&gt; <span class=\"variable\">$logfile</span></span><br><span class=\"line\">    then</span><br><span class=\"line\">        echo <span class=\"variable\">$now</span> <span class=\"string\">&#x27;ping success&#x27;</span> <span class=\"variable\">$failCount</span> &gt;&gt; <span class=\"variable\">$logfile</span></span><br><span class=\"line\">        <span class=\"attribute\">failCount</span>=0</span><br><span class=\"line\">    <span class=\"keyword\">else</span></span><br><span class=\"line\">        <span class=\"attribute\">failCount</span>=`expr <span class=\"variable\">$failCount</span> + 1`</span><br><span class=\"line\">        echo <span class=\"variable\">$now</span> <span class=\"string\">&#x27;ping failed&#x27;</span> <span class=\"variable\">$failCount</span> &gt;&gt; <span class=\"variable\">$logfile</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> test <span class=\"variable\">$failCount</span> -ge <span class=\"variable\">$triedCount</span></span><br><span class=\"line\">        then</span><br><span class=\"line\">            echo <span class=\"variable\">$now</span> <span class=\"string\">&#x27;execute shutdown&#x27;</span> &gt;&gt; <span class=\"variable\">$logfile</span></span><br><span class=\"line\">            eval <span class=\"variable\">$notification</span></span><br><span class=\"line\">            shutdown -h now</span><br><span class=\"line\">        fi</span><br><span class=\"line\">    fi</span><br><span class=\"line\">    sleep <span class=\"variable\">$time</span></span><br><span class=\"line\">done</span><br></pre></td></tr></table></figure>\n<p>原理：pve每隔30秒ping一次192.168.2.x，累积达到12次（6分钟）则触发关机动作，关机前给自己telegram机器人发消息并记录日志，当然弱电箱光猫、路由器、交换机也有ups续命。</p>\n<p>vim /etc/rc.loacl</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cd</span> /root/shutdown/ &amp;&amp; <span class=\"built_in\">nohup</span> ./shutdown.sh &gt; /dev/null 2&gt;&amp;1 &amp;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#exit 0</span></span><br></pre></td></tr></table></figure>\n<p>chmod +x /etc/rc.loacl<br>\nreboot</p>\n"},{"title":"免备案解析域名","catalog":true,"date":"2022-02-18T08:11:57.000Z","subtitle":"套娃曲线救国","sticky":999,"header-img":"/img/header_img/newhome_bg.jpg","_content":"\n2022年，大陆建站依然需要备案，隐私先不说，支持备案域名种数就不得不吐嘈，政策执行那么多年依然只有少得可怜的几种域名能通过备案，逼迫大家寻求邪门歪道曲线救国。\n\n大致思路：user browser < - > CF dns < - > CF worker < - > deno < - > vps in mainland\n\n首先想到用CF worker反代网站，但worker不支持直接解析ip:port，所以要再加一层代理，先用国外边缘计算服务反代一次获得第三方域名再用worker反代，2次套娃转发流量起到免备案效果，代价是访问略慢，好处是cdn隐藏你的vps ip避免攻击提升安全性。\n\n边缘计算服务以deno为例，免费，官网显示支持全球28个节点快速响应\n\n访问：[https://deno.com](https://deno.com)，注册帐号，创建项目，关联代码来自github，建议创建私有private仓库避免暴露vps ip，main分支只需创建一个文件proxy.ts：\n\n```\nimport { serve } from \"https://deno.land/std@0.114.0/http/server.ts\";\n\nasync function handler(req: Request): Promise<Response> {\n  // console.log(req.headers);\n  // console.log(req.method, req.url);\n  const url = req.url;\n  const path = url.substring(url.indexOf('.dev') + 4);\n  // 替换ip port\n  return await fetch(`http://vps_ip:port${path}`);\n}\n\nconsole.log(\"Listening on http://localhost:8000\");\nserve(handler);\n```\n\n项目部署好，获得一个deno提供的三方域名：xxx.deno.dev，此时可以用这个域名访问你的网站。\n\n接下来到cloudflare创建一个worker，内容：\n```\naddEventListener(\"fetch\", (event) => {\n  const request = event.request;\n  const { pathname } = new URL(request.url);\n  const url = new URL(`https://xxx.deno.dev${pathname}`);\n  return event.respondWith(fetch(url, request));\n});\n```\n\n设置dns，ip地址随意填192.0.2.1：\n\n<img src=\"dns.png\" class=\"img-zoomable\" />\n  \n  \n在worker中添加一个路由：\n\n<img src=\"route.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n\n这样，所有访问 https://blog.example.com 的流量都会经过worker处理，worker获取 https://xxx.deno.dev 的数据，deno获取vps ip数据，达到曲线救国的目的。\n","source":"_posts/en/non-censor.md","raw":"---\ntitle: 免备案解析域名\ncatalog: true\ndate: 2022-02-18 16:11:57\nsubtitle: 套娃曲线救国\nsticky: 999\nheader-img: /img/header_img/newhome_bg.jpg\ntags:\n- non-censor\ncategories:\n- network\n---\n\n2022年，大陆建站依然需要备案，隐私先不说，支持备案域名种数就不得不吐嘈，政策执行那么多年依然只有少得可怜的几种域名能通过备案，逼迫大家寻求邪门歪道曲线救国。\n\n大致思路：user browser < - > CF dns < - > CF worker < - > deno < - > vps in mainland\n\n首先想到用CF worker反代网站，但worker不支持直接解析ip:port，所以要再加一层代理，先用国外边缘计算服务反代一次获得第三方域名再用worker反代，2次套娃转发流量起到免备案效果，代价是访问略慢，好处是cdn隐藏你的vps ip避免攻击提升安全性。\n\n边缘计算服务以deno为例，免费，官网显示支持全球28个节点快速响应\n\n访问：[https://deno.com](https://deno.com)，注册帐号，创建项目，关联代码来自github，建议创建私有private仓库避免暴露vps ip，main分支只需创建一个文件proxy.ts：\n\n```\nimport { serve } from \"https://deno.land/std@0.114.0/http/server.ts\";\n\nasync function handler(req: Request): Promise<Response> {\n  // console.log(req.headers);\n  // console.log(req.method, req.url);\n  const url = req.url;\n  const path = url.substring(url.indexOf('.dev') + 4);\n  // 替换ip port\n  return await fetch(`http://vps_ip:port${path}`);\n}\n\nconsole.log(\"Listening on http://localhost:8000\");\nserve(handler);\n```\n\n项目部署好，获得一个deno提供的三方域名：xxx.deno.dev，此时可以用这个域名访问你的网站。\n\n接下来到cloudflare创建一个worker，内容：\n```\naddEventListener(\"fetch\", (event) => {\n  const request = event.request;\n  const { pathname } = new URL(request.url);\n  const url = new URL(`https://xxx.deno.dev${pathname}`);\n  return event.respondWith(fetch(url, request));\n});\n```\n\n设置dns，ip地址随意填192.0.2.1：\n\n<img src=\"dns.png\" class=\"img-zoomable\" />\n  \n  \n在worker中添加一个路由：\n\n<img src=\"route.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n\n这样，所有访问 https://blog.example.com 的流量都会经过worker处理，worker获取 https://xxx.deno.dev 的数据，deno获取vps ip数据，达到曲线救国的目的。\n","slug":"non-censor","published":1,"lang":"en","updated":"2022-02-18T08:11:57.000Z","_id":"cl1h685es0009xfdn0hjec3hm","comments":1,"layout":"post","photos":[],"link":"","content":"<p>2022年，大陆建站依然需要备案，隐私先不说，支持备案域名种数就不得不吐嘈，政策执行那么多年依然只有少得可怜的几种域名能通过备案，逼迫大家寻求邪门歪道曲线救国。</p>\n<p>大致思路：user browser &lt; - &gt; CF dns &lt; - &gt; CF worker &lt; - &gt; deno &lt; - &gt; vps in mainland</p>\n<p>首先想到用CF worker反代网站，但worker不支持直接解析ip:port，所以要再加一层代理，先用国外边缘计算服务反代一次获得第三方域名再用worker反代，2次套娃转发流量起到免备案效果，代价是访问略慢，好处是cdn隐藏你的vps ip避免攻击提升安全性。</p>\n<p>边缘计算服务以deno为例，免费，官网显示支持全球28个节点快速响应</p>\n<p>访问：<a href=\"https://deno.com\">https://deno.com</a>，注册帐号，创建项目，关联代码来自github，建议创建私有private仓库避免暴露vps ip，main分支只需创建一个文件proxy.ts：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; serve &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;https://deno.land/std@0.114.0/http/server.ts&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">handler</span>(<span class=\"params\">req: Request</span>): <span class=\"title class_\">Promise</span>&lt;<span class=\"title class_\">Response</span>&gt; &#123;</span><br><span class=\"line\">  <span class=\"comment\">// console.log(req.headers);</span></span><br><span class=\"line\">  <span class=\"comment\">// console.log(req.method, req.url);</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> url = req.<span class=\"property\">url</span>;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> path = url.<span class=\"title function_\">substring</span>(url.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&#x27;.dev&#x27;</span>) + <span class=\"number\">4</span>);</span><br><span class=\"line\">  <span class=\"comment\">// 替换ip port</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">await</span> <span class=\"title function_\">fetch</span>(<span class=\"string\">`http://vps_ip:port<span class=\"subst\">$&#123;path&#125;</span>`</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;Listening on http://localhost:8000&quot;</span>);</span><br><span class=\"line\"><span class=\"title function_\">serve</span>(handler);</span><br></pre></td></tr></table></figure>\n<p>项目部署好，获得一个deno提供的三方域名：xxx.deno.dev，此时可以用这个域名访问你的网站。</p>\n<p>接下来到cloudflare创建一个worker，内容：</p>\n<figure class=\"highlight reasonml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">add<span class=\"constructor\">EventListener(<span class=\"string\">&quot;fetch&quot;</span>, (<span class=\"params\">event</span>)</span> =&gt; &#123;</span><br><span class=\"line\">  const request = event.request;</span><br><span class=\"line\">  const &#123; pathname &#125; = <span class=\"keyword\">new</span> <span class=\"constructor\">URL(<span class=\"params\">request</span>.<span class=\"params\">url</span>)</span>;</span><br><span class=\"line\">  const url = <span class=\"keyword\">new</span> <span class=\"constructor\">URL(`<span class=\"params\">https</span>:<span class=\"operator\">/</span><span class=\"operator\">/</span><span class=\"params\">xxx</span>.<span class=\"params\">deno</span>.<span class=\"params\">dev$</span>&#123;<span class=\"params\">pathname</span>&#125;`)</span>;</span><br><span class=\"line\">  return event.respond<span class=\"constructor\">With(<span class=\"params\">fetch</span>(<span class=\"params\">url</span>, <span class=\"params\">request</span>)</span>);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>设置dns，ip地址随意填192.0.2.1：</p>\n<img src=\"dns.png\" class=\"img-zoomable\" />\n<p>在worker中添加一个路由：</p>\n<img src=\"route.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n<p>这样，所有访问 <a href=\"https://blog.example.com\">https://blog.example.com</a> 的流量都会经过worker处理，worker获取 <a href=\"https://xxx.deno.dev\">https://xxx.deno.dev</a> 的数据，deno获取vps ip数据，达到曲线救国的目的。</p>\n","site":{"data":{}},"excerpt":"","more":"<p>2022年，大陆建站依然需要备案，隐私先不说，支持备案域名种数就不得不吐嘈，政策执行那么多年依然只有少得可怜的几种域名能通过备案，逼迫大家寻求邪门歪道曲线救国。</p>\n<p>大致思路：user browser &lt; - &gt; CF dns &lt; - &gt; CF worker &lt; - &gt; deno &lt; - &gt; vps in mainland</p>\n<p>首先想到用CF worker反代网站，但worker不支持直接解析ip:port，所以要再加一层代理，先用国外边缘计算服务反代一次获得第三方域名再用worker反代，2次套娃转发流量起到免备案效果，代价是访问略慢，好处是cdn隐藏你的vps ip避免攻击提升安全性。</p>\n<p>边缘计算服务以deno为例，免费，官网显示支持全球28个节点快速响应</p>\n<p>访问：<a href=\"https://deno.com\">https://deno.com</a>，注册帐号，创建项目，关联代码来自github，建议创建私有private仓库避免暴露vps ip，main分支只需创建一个文件proxy.ts：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; serve &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;https://deno.land/std@0.114.0/http/server.ts&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">handler</span>(<span class=\"params\">req: Request</span>): <span class=\"title class_\">Promise</span>&lt;<span class=\"title class_\">Response</span>&gt; &#123;</span><br><span class=\"line\">  <span class=\"comment\">// console.log(req.headers);</span></span><br><span class=\"line\">  <span class=\"comment\">// console.log(req.method, req.url);</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> url = req.<span class=\"property\">url</span>;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> path = url.<span class=\"title function_\">substring</span>(url.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&#x27;.dev&#x27;</span>) + <span class=\"number\">4</span>);</span><br><span class=\"line\">  <span class=\"comment\">// 替换ip port</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">await</span> <span class=\"title function_\">fetch</span>(<span class=\"string\">`http://vps_ip:port<span class=\"subst\">$&#123;path&#125;</span>`</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;Listening on http://localhost:8000&quot;</span>);</span><br><span class=\"line\"><span class=\"title function_\">serve</span>(handler);</span><br></pre></td></tr></table></figure>\n<p>项目部署好，获得一个deno提供的三方域名：xxx.deno.dev，此时可以用这个域名访问你的网站。</p>\n<p>接下来到cloudflare创建一个worker，内容：</p>\n<figure class=\"highlight reasonml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">add<span class=\"constructor\">EventListener(<span class=\"string\">&quot;fetch&quot;</span>, (<span class=\"params\">event</span>)</span> =&gt; &#123;</span><br><span class=\"line\">  const request = event.request;</span><br><span class=\"line\">  const &#123; pathname &#125; = <span class=\"keyword\">new</span> <span class=\"constructor\">URL(<span class=\"params\">request</span>.<span class=\"params\">url</span>)</span>;</span><br><span class=\"line\">  const url = <span class=\"keyword\">new</span> <span class=\"constructor\">URL(`<span class=\"params\">https</span>:<span class=\"operator\">/</span><span class=\"operator\">/</span><span class=\"params\">xxx</span>.<span class=\"params\">deno</span>.<span class=\"params\">dev$</span>&#123;<span class=\"params\">pathname</span>&#125;`)</span>;</span><br><span class=\"line\">  return event.respond<span class=\"constructor\">With(<span class=\"params\">fetch</span>(<span class=\"params\">url</span>, <span class=\"params\">request</span>)</span>);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>设置dns，ip地址随意填192.0.2.1：</p>\n<img src=\"dns.png\" class=\"img-zoomable\" />\n<p>在worker中添加一个路由：</p>\n<img src=\"route.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n<p>这样，所有访问 <a href=\"https://blog.example.com\">https://blog.example.com</a> 的流量都会经过worker处理，worker获取 <a href=\"https://xxx.deno.dev\">https://xxx.deno.dev</a> 的数据，deno获取vps ip数据，达到曲线救国的目的。</p>\n"},{"title":"pve安装openwrt","catalog":true,"date":"2022-04-01T11:26:00.000Z","subtitle":"优雅使用openwrt","sticky":999,"header-img":"/img/header_img/newhome_bg.jpg","_content":"\n# 一、上传镜像\n\n如果是压缩包img.gz格式要先解压成img上传\n\n<img src=\"upload_img.png\" class=\"img-zoomable\" />\n\npve版本7上传完成会显示文件存放路径: /var/lib/vz/template/iso\n\n<img src=\"pve_img.png\" class=\"img-zoomable\" />\n\n\n<br/>\n\n# 二、创建vm\n\n一路下一步，过程省略。\n\n可以选择不使用ios镜像。\n\n完成后把默认磁盘删了。\n\n<br/>\n\n# 三、生成磁盘\n\nssh登录pve宿主机\nssh root@192.168.2.123\n\n进入镜像存放目录:\ncd /var/lib/vz/template/iso\n\n创建磁盘: \nqm importdisk 100 /var/lib/vz/template/iso/openwrt-2022-03-27-x86-64-generic-squashfs-combined.img local-lvm\n\n<br/>\n\n# 四、加载磁盘\n\n双击未使用磁盘，添加：\n\n<img src=\"pve_openwrt_disk.png\" class=\"img-zoomable\" />\n\n扩容5G：\n\n<img src=\"pve_openwrt_disk_increment.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n\n# 五.一、添加直通网卡\n\n添加网卡前先不要启动虚拟机，否则系统第一次启动不会初始化WAN口。\n\n如果cpu支持vt-d硬件直通，则在“硬件添加pci”网卡\n<img src=\"n3160_vs_n6000.png\" class=\"img-zoomable\" />\n\n<img src=\"pve_openwrt_pci_ethernets.png\" class=\"img-zoomable\" />\n\n从上图看，主板有4个 Intel I226-V 网卡，其中一个是宿主机正在使用的，避免直通这个网卡，否则失联\n\n如果担心直通出错可以先不要把openwrt设为开机自启，就算错了容易抢救直接断电重启，不至于把宿主机搞崩还得重装系统。\n\n为了万无一失，先找到宿主机正在使用的物理网卡名称:\n\n<img src=\"pve_host_ethernet.png\" class=\"img-zoomable\" />\n\n上图显示，pve桥接虚拟网卡名称为vmbr0，对应物理网卡名称为enp2s0\n\n查看这个网卡的pci编码：\napt install lshw -y\nlshw -class network\n\n<img src=\"pve_ethernet_pci.png\" class=\"img-zoomable\" />\n\nenp2s0 对应 pci 编码为 0000:02:00:0，且没有 DISABLED 标记，所以直通给vm要排除这个，选择其他网卡，如0000:03:00:0：\n\n<img src=\"pve_openwrt_pci_ethernets.png\" class=\"img-zoomable\" />\n\n因为按顺序使用，一般来讲直通的这个网口就是紧挨者宿主机使用的网口\n\n<img src=\"n6000.jpg\" class=\"img-zoomable\" />\n\n而且openwrt跟宿主机桥接共用的网卡默认为LAN口，直通的pci网卡为WAN口，开机启动后通过网口MAC地址判断，符合预期。\n\n<img src=\"lan_mac.png\" class=\"img-zoomable\" />\n\n<img src=\"openwrt_lan_mac.png\" class=\"img-zoomable\" />\n\n<br/>\n<br/>\n\n# 五.二、添加桥接网卡\n\n如果cpu不支持vt-d硬件直通，比如J1900、N3160这类早期芯片就只能使用桥接网卡，先到pve节点网络下创建桥接网卡，备注为WAN口：\n\n<img src=\"pve_bridge_eth.png\" class=\"img-zoomable\" />\n\n回到openwrt硬件，添加网络设备，选择WAN：\n\n<img src=\"pve_openwrt_bridge_eth.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n\n# 六、修改配置\n\n开机自启（start at boot）改为Yes\n\n启动顺序（boot order）改成附加的磁盘：\n\n<img src=\"pve_openwrt_bootOrder.png\" class=\"img-zoomable\" />\n\n<br/>\n\n启用qemu guest agent，让pve宿主机能够与vm通讯：\n\n<img src=\"pve_openwrt_qemu_guest_agent.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n\n# 七、启动openwrt\n\n在pve web界面进入控制台ssh，按回车看到输入光标\n\nvim /etc/config/network\n把lan口静态ip改成192.168.2.1\n\n重启生效: /etc/init.d/network restart\n\n浏览器登录openwrt\n\n<img src=\"pve_openwrt_overview.png\" class=\"img-zoomable\" />\n\n用磁盘管理（diskman）把扩容的5G分区格式化成ext4，挂载给/opt目录，docker会使用opt作为overlay空间，不会消耗根目录容量。\n\nssh登录查看磁盘用量，df -Th：\n\n<img src=\"pve_openwrt_disk_info.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n\n# 八、cpu跑分\n\nssh执行: cd /etc && ./coremark.sh\n\n有的固件是/sbin/cpumark，执行: cpumark\n\n有的固件是/sbin/coremark: coremark\n<br/>\n<br/>\n\n# 九、网卡测速\n\nopkg install iperf3\nserver: iperf3 -s -p 4000\nclient: iperf3 -p 4000 -c 192.168.2.1\n\n<img src=\"pve_openwrt_iperf3.png\" class=\"img-zoomable\" />\n\n因为不是直通，n3160性能偏弱跑不满千兆，7、800也够用。\n<br/>\n<br/>\n\n# 十、把ash改成bash\nash不能记住历史命令，用起来不方便。\n\nopkg update && opkg install bash\n编辑 /etc/passwd 文件\n修改第一行（第一行就是 root 用户）中的 /bin/ash，改成 /bin/bash\n保存重启路由器生效\n\n查看 /etc/shells 文件可以看到当前系统中有哪些可用的 shell 解释器\n/bin/ash\n/bin/bash\n/bin/rbash\n\n安装vim：opkg install vim\n\n利用bash快速找到历史命令，创建文件：vim ~/.inputrc，粘贴：\n\"\\e[A\": history-search-backward\n\"\\e[B\": history-search-forward\nset show-all-if-ambiguous on\nset completion-ignore-case on\n\n设置快捷键，创建文件：vim ~/.bashrc，粘贴内容：\nHISTSIZE=-1\nHISTFILESIZE=-1\n\nalias ll='ls -alhFtr'\nalias la='ls -A'\nalias l='ls -CF'\n\n执行命令生效：source ~/.bashrc\n<br/>\n<br/>\n\n# 十一、远程记录日志\n[https://www.betaflare.com/3730.html](https://www.betaflare.com/3730.html)\n<br/>\n<br/>\n\n# 十二、增大session过期时间\n\nvim /etc/config/luci\n\n改为7天\noption sessiontime '604800'\n<br/>\n<br/>\n\n# 十三、安装qemu guest agent\n\nopkg install qemu-ga\n\n<img src=\"pve_openwrt_qemu_ga.png\" class=\"img-zoomable\" />\n\npve显示openwrt ip：\n\n<img src=\"pve_openwrt_ip.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n\n# 十四、修改“半双工”\n\npve虚拟的openwrt网卡实际为全双工，显示为半双工且没有速度，可通过命令修改\n\n临时生效: ethtool -s eth0 speed 1000 duplex full\n\n永久生效: vim /etc/init.d/network\n\n<img src=\"pve_openwrt_eth_full_duplex.png\" class=\"img-zoomable\" />\n\n<img src=\"pve_openwrt_eths_full_duplex.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n\n# 十五、ddns公网访问\n\n家宽有公网ipv4，映射域名，配上证书，防火墙添加端口转发就可以公网访问。\n\n测试发现80、443端口不通，应该是运营商封了，退而求其次使用非标8443端口。\n\n首先配置域名，我用的cloudflare，在dns添加一条A记录，ip随意比如1.1.1.1：\n\n<img src=\"cloudflare_dns.png\" class=\"img-zoomable\" />\n\nopenwrt配置ddns：\n\n<img src=\"pve_openwrt_ddns.png\" style=\"width: 300px\" class=\"img-zoomable\" />\n\n添加ddns服务：\n<img src=\"pve_openwrt_ddns_cf.png\" class=\"img-zoomable\" />\n\n注意“查询主机名”跟“域名”格式不一样，前一个是“.”，后一个是“@”：\n\n<img src=\"pve_openwrt_ddns_cf_detail.png\" class=\"img-zoomable\" />\n\n回到ddns列表界面，点击“重新加载”会修改域名解析，刷新cf dns列表，已经把 1.1.1.1 改成真实公网ip，本机ping一下验证是否成功。\n<br/>\n<br/>\n\n# 十六、配置域名ssl证书\n\nweb服务通常有多个，最好找台linux当网关统一转发流量，以debian为例，安装docker、nginx、acme.sh颁发证书并自动续期。\n\n获取nginx基础配置：\ncd ~/projects/ && mkdir nginx && mkdir nginx/conf.d && mkdir nginx/conf.d/certs\ndocker run --rm -d --name nginx nginx\ndocker cp nginx:/etc/nginx/nginx.conf ~/projects/nginx/nginx.conf\ndocker stop nginx\n\n启动nginx: \ndocker run -d --restart=always --name nginx -v /home/www/projects/nginx/nginx.conf:/etc/nginx/nginx.conf:ro -v /home/www/projects/nginx/conf.d:/etc/nginx/conf.d:ro --network=host nginx\n\n安装acme<span>.sh</span>：\ncurl htt<span>ps://get.acme.sh | sh -s email=yourName</span>@gmail.com\n\nexit退出命令行重新登录使acme.sh命令生效\n\n导出环境变量，acme.sh执行时依赖这些变量：\nexport CF_Token=\"\"\nexport CF_Account_ID=\"\"\nexport CF_Zone_ID=\"\"\n\n每家dns服务商的参数不一样，参考：[https://github.com/acmesh-official/acme.sh/wiki/dnsapi](https://github.com/acmesh-official/acme.sh/wiki/dnsapi)\n\n颁发泛域名证书（Issue cert）:\n\n\tacme.sh --issue -d '*.example.com' --dns dns_cf --dnssleep 120 --debug 2 --server letsencrypt\n\n\n安装证书（Install cert）:\n\n\tacme.sh --install-cert -d '*.example.com' --key-file /home/www/projects/nginx/conf.d/certs/*.example.com.privkey.pem --fullchain-file /home/www/projects/nginx/conf.d/certs/*.example.com.fullchain.pem --reloadcmd \"docker exec -it nginx nginx -s reload\" --debug 2\n\n以上命令执行完acme会创建定时任务，以后ssl证书过期前会自动续期：\ncrontab -l\n16 0 * * * \"/home/www/.acme.sh\"/acme.sh --cron --home \"/home/www/.acme.sh\" > /home/www/acme.log\n\n为openwrt服务设置反向代理，vim /home/www/projects/nginx/conf.d/openwrt.conf\n```\nserver{\n\tlisten 80;\n\tserver_name openwrt.example.com;\n\n\tclient_max_body_size 200M;\n\t#access_log  /data/logs/nginx_json/access.log json;\n\n\treturn 301 https://$host$request_uri;\n}\n\nserver{\n\tlisten 443 ssl;\n\tserver_name openwrt.example.com;\n\n\tgzip on;\n\tgzip_min_length 1k;\n    gzip_buffers 16 64k;\n    gzip_http_version 1.1;\n    gzip_comp_level 3;\n    gzip_types text/plain application/x-javascript application/javascript text/javascript text/css application/xml application/x-httpd-php image/jpeg image/gif image/png;\n    gzip_vary on;\n\tclient_max_body_size 200M;\n\t#access_log  /data/logs/nginx_json/access.log json;\n\n\tssl_certificate  /etc/nginx/conf.d/certs/*.example.com.fullchain.pem;\n    ssl_certificate_key /etc/nginx/conf.d/certs/*.example.com.privkey.pem;\n    ssl_session_timeout 5m;\n    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\n    ssl_prefer_server_ciphers on;\n\n    # Prevent crawling\n    if ($http_user_agent ~* \"360Spider|JikeSpider|Spider|spider|bot|Bot|2345Explorer|curl|wget|webZIP|qihoobot|Baiduspider|Googlebot|Googlebot-Mobile|Googlebot-Image|Mediapartners-Google|Adsbot-Google|Feedfetcher-Google|Yahoo! Slurp|Yahoo! Slurp China|YoudaoBot|Sosospider|Sogou spider|Sogou web spider|MSNBot|ia_archiver|Tomato Bot|NSPlayer|bingbot\"){\n        return 403;\n    }\n\n    location / {\n\t\tproxy_read_timeout 60m;\n\t\tproxy_set_header Host $host;\n\t\tproxy_set_header X-Forwarded-Proto https;\n\t\tproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n\t\tproxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header Connection \"upgrade\";\n\t\tproxy_redirect off;\n\t\tproxy_pass http://192.168.2.1:80;\n\t}\n\n\terror_page 500 502 503 504 /50x.html;\n\t#location = /50x.html {\n\t#\troot /data/www/error/;\n\t#}\n\n}\n```\n\n查看nginx容器状态: docker ps -a\n\n查看nginx容器日志: docker logs -f --tail 500 nginx\n\n有错的话根据日志排查。\n<br/>\n<br/>\n\n# 十七、防火墙 > 端口转发\n\n假设内网debian网关ip为192.168.2.103，则将外网8443/tcp端口转发到debian的443/tcp：\n\n<img src=\"pve_openwrt_forward.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n\n之后可以通过 https://openwrt.example.com:8443 访问家里openwrt，其他服务同理：\n\n<img src=\"pve_openwrt_ddns_list.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n\n\n\n","source":"_posts/en/openwrt.md","raw":"---\ntitle: pve安装openwrt\ncatalog: true\ndate: 2022-04-01 19:26:00\nsubtitle: 优雅使用openwrt\nsticky: 999\nheader-img: /img/header_img/newhome_bg.jpg\ntags:\n- pve\n- proxmox\n- openwrt\n- ddns\n- acme\n- ssl\ncategories:\n- network\n---\n\n# 一、上传镜像\n\n如果是压缩包img.gz格式要先解压成img上传\n\n<img src=\"upload_img.png\" class=\"img-zoomable\" />\n\npve版本7上传完成会显示文件存放路径: /var/lib/vz/template/iso\n\n<img src=\"pve_img.png\" class=\"img-zoomable\" />\n\n\n<br/>\n\n# 二、创建vm\n\n一路下一步，过程省略。\n\n可以选择不使用ios镜像。\n\n完成后把默认磁盘删了。\n\n<br/>\n\n# 三、生成磁盘\n\nssh登录pve宿主机\nssh root@192.168.2.123\n\n进入镜像存放目录:\ncd /var/lib/vz/template/iso\n\n创建磁盘: \nqm importdisk 100 /var/lib/vz/template/iso/openwrt-2022-03-27-x86-64-generic-squashfs-combined.img local-lvm\n\n<br/>\n\n# 四、加载磁盘\n\n双击未使用磁盘，添加：\n\n<img src=\"pve_openwrt_disk.png\" class=\"img-zoomable\" />\n\n扩容5G：\n\n<img src=\"pve_openwrt_disk_increment.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n\n# 五.一、添加直通网卡\n\n添加网卡前先不要启动虚拟机，否则系统第一次启动不会初始化WAN口。\n\n如果cpu支持vt-d硬件直通，则在“硬件添加pci”网卡\n<img src=\"n3160_vs_n6000.png\" class=\"img-zoomable\" />\n\n<img src=\"pve_openwrt_pci_ethernets.png\" class=\"img-zoomable\" />\n\n从上图看，主板有4个 Intel I226-V 网卡，其中一个是宿主机正在使用的，避免直通这个网卡，否则失联\n\n如果担心直通出错可以先不要把openwrt设为开机自启，就算错了容易抢救直接断电重启，不至于把宿主机搞崩还得重装系统。\n\n为了万无一失，先找到宿主机正在使用的物理网卡名称:\n\n<img src=\"pve_host_ethernet.png\" class=\"img-zoomable\" />\n\n上图显示，pve桥接虚拟网卡名称为vmbr0，对应物理网卡名称为enp2s0\n\n查看这个网卡的pci编码：\napt install lshw -y\nlshw -class network\n\n<img src=\"pve_ethernet_pci.png\" class=\"img-zoomable\" />\n\nenp2s0 对应 pci 编码为 0000:02:00:0，且没有 DISABLED 标记，所以直通给vm要排除这个，选择其他网卡，如0000:03:00:0：\n\n<img src=\"pve_openwrt_pci_ethernets.png\" class=\"img-zoomable\" />\n\n因为按顺序使用，一般来讲直通的这个网口就是紧挨者宿主机使用的网口\n\n<img src=\"n6000.jpg\" class=\"img-zoomable\" />\n\n而且openwrt跟宿主机桥接共用的网卡默认为LAN口，直通的pci网卡为WAN口，开机启动后通过网口MAC地址判断，符合预期。\n\n<img src=\"lan_mac.png\" class=\"img-zoomable\" />\n\n<img src=\"openwrt_lan_mac.png\" class=\"img-zoomable\" />\n\n<br/>\n<br/>\n\n# 五.二、添加桥接网卡\n\n如果cpu不支持vt-d硬件直通，比如J1900、N3160这类早期芯片就只能使用桥接网卡，先到pve节点网络下创建桥接网卡，备注为WAN口：\n\n<img src=\"pve_bridge_eth.png\" class=\"img-zoomable\" />\n\n回到openwrt硬件，添加网络设备，选择WAN：\n\n<img src=\"pve_openwrt_bridge_eth.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n\n# 六、修改配置\n\n开机自启（start at boot）改为Yes\n\n启动顺序（boot order）改成附加的磁盘：\n\n<img src=\"pve_openwrt_bootOrder.png\" class=\"img-zoomable\" />\n\n<br/>\n\n启用qemu guest agent，让pve宿主机能够与vm通讯：\n\n<img src=\"pve_openwrt_qemu_guest_agent.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n\n# 七、启动openwrt\n\n在pve web界面进入控制台ssh，按回车看到输入光标\n\nvim /etc/config/network\n把lan口静态ip改成192.168.2.1\n\n重启生效: /etc/init.d/network restart\n\n浏览器登录openwrt\n\n<img src=\"pve_openwrt_overview.png\" class=\"img-zoomable\" />\n\n用磁盘管理（diskman）把扩容的5G分区格式化成ext4，挂载给/opt目录，docker会使用opt作为overlay空间，不会消耗根目录容量。\n\nssh登录查看磁盘用量，df -Th：\n\n<img src=\"pve_openwrt_disk_info.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n\n# 八、cpu跑分\n\nssh执行: cd /etc && ./coremark.sh\n\n有的固件是/sbin/cpumark，执行: cpumark\n\n有的固件是/sbin/coremark: coremark\n<br/>\n<br/>\n\n# 九、网卡测速\n\nopkg install iperf3\nserver: iperf3 -s -p 4000\nclient: iperf3 -p 4000 -c 192.168.2.1\n\n<img src=\"pve_openwrt_iperf3.png\" class=\"img-zoomable\" />\n\n因为不是直通，n3160性能偏弱跑不满千兆，7、800也够用。\n<br/>\n<br/>\n\n# 十、把ash改成bash\nash不能记住历史命令，用起来不方便。\n\nopkg update && opkg install bash\n编辑 /etc/passwd 文件\n修改第一行（第一行就是 root 用户）中的 /bin/ash，改成 /bin/bash\n保存重启路由器生效\n\n查看 /etc/shells 文件可以看到当前系统中有哪些可用的 shell 解释器\n/bin/ash\n/bin/bash\n/bin/rbash\n\n安装vim：opkg install vim\n\n利用bash快速找到历史命令，创建文件：vim ~/.inputrc，粘贴：\n\"\\e[A\": history-search-backward\n\"\\e[B\": history-search-forward\nset show-all-if-ambiguous on\nset completion-ignore-case on\n\n设置快捷键，创建文件：vim ~/.bashrc，粘贴内容：\nHISTSIZE=-1\nHISTFILESIZE=-1\n\nalias ll='ls -alhFtr'\nalias la='ls -A'\nalias l='ls -CF'\n\n执行命令生效：source ~/.bashrc\n<br/>\n<br/>\n\n# 十一、远程记录日志\n[https://www.betaflare.com/3730.html](https://www.betaflare.com/3730.html)\n<br/>\n<br/>\n\n# 十二、增大session过期时间\n\nvim /etc/config/luci\n\n改为7天\noption sessiontime '604800'\n<br/>\n<br/>\n\n# 十三、安装qemu guest agent\n\nopkg install qemu-ga\n\n<img src=\"pve_openwrt_qemu_ga.png\" class=\"img-zoomable\" />\n\npve显示openwrt ip：\n\n<img src=\"pve_openwrt_ip.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n\n# 十四、修改“半双工”\n\npve虚拟的openwrt网卡实际为全双工，显示为半双工且没有速度，可通过命令修改\n\n临时生效: ethtool -s eth0 speed 1000 duplex full\n\n永久生效: vim /etc/init.d/network\n\n<img src=\"pve_openwrt_eth_full_duplex.png\" class=\"img-zoomable\" />\n\n<img src=\"pve_openwrt_eths_full_duplex.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n\n# 十五、ddns公网访问\n\n家宽有公网ipv4，映射域名，配上证书，防火墙添加端口转发就可以公网访问。\n\n测试发现80、443端口不通，应该是运营商封了，退而求其次使用非标8443端口。\n\n首先配置域名，我用的cloudflare，在dns添加一条A记录，ip随意比如1.1.1.1：\n\n<img src=\"cloudflare_dns.png\" class=\"img-zoomable\" />\n\nopenwrt配置ddns：\n\n<img src=\"pve_openwrt_ddns.png\" style=\"width: 300px\" class=\"img-zoomable\" />\n\n添加ddns服务：\n<img src=\"pve_openwrt_ddns_cf.png\" class=\"img-zoomable\" />\n\n注意“查询主机名”跟“域名”格式不一样，前一个是“.”，后一个是“@”：\n\n<img src=\"pve_openwrt_ddns_cf_detail.png\" class=\"img-zoomable\" />\n\n回到ddns列表界面，点击“重新加载”会修改域名解析，刷新cf dns列表，已经把 1.1.1.1 改成真实公网ip，本机ping一下验证是否成功。\n<br/>\n<br/>\n\n# 十六、配置域名ssl证书\n\nweb服务通常有多个，最好找台linux当网关统一转发流量，以debian为例，安装docker、nginx、acme.sh颁发证书并自动续期。\n\n获取nginx基础配置：\ncd ~/projects/ && mkdir nginx && mkdir nginx/conf.d && mkdir nginx/conf.d/certs\ndocker run --rm -d --name nginx nginx\ndocker cp nginx:/etc/nginx/nginx.conf ~/projects/nginx/nginx.conf\ndocker stop nginx\n\n启动nginx: \ndocker run -d --restart=always --name nginx -v /home/www/projects/nginx/nginx.conf:/etc/nginx/nginx.conf:ro -v /home/www/projects/nginx/conf.d:/etc/nginx/conf.d:ro --network=host nginx\n\n安装acme<span>.sh</span>：\ncurl htt<span>ps://get.acme.sh | sh -s email=yourName</span>@gmail.com\n\nexit退出命令行重新登录使acme.sh命令生效\n\n导出环境变量，acme.sh执行时依赖这些变量：\nexport CF_Token=\"\"\nexport CF_Account_ID=\"\"\nexport CF_Zone_ID=\"\"\n\n每家dns服务商的参数不一样，参考：[https://github.com/acmesh-official/acme.sh/wiki/dnsapi](https://github.com/acmesh-official/acme.sh/wiki/dnsapi)\n\n颁发泛域名证书（Issue cert）:\n\n\tacme.sh --issue -d '*.example.com' --dns dns_cf --dnssleep 120 --debug 2 --server letsencrypt\n\n\n安装证书（Install cert）:\n\n\tacme.sh --install-cert -d '*.example.com' --key-file /home/www/projects/nginx/conf.d/certs/*.example.com.privkey.pem --fullchain-file /home/www/projects/nginx/conf.d/certs/*.example.com.fullchain.pem --reloadcmd \"docker exec -it nginx nginx -s reload\" --debug 2\n\n以上命令执行完acme会创建定时任务，以后ssl证书过期前会自动续期：\ncrontab -l\n16 0 * * * \"/home/www/.acme.sh\"/acme.sh --cron --home \"/home/www/.acme.sh\" > /home/www/acme.log\n\n为openwrt服务设置反向代理，vim /home/www/projects/nginx/conf.d/openwrt.conf\n```\nserver{\n\tlisten 80;\n\tserver_name openwrt.example.com;\n\n\tclient_max_body_size 200M;\n\t#access_log  /data/logs/nginx_json/access.log json;\n\n\treturn 301 https://$host$request_uri;\n}\n\nserver{\n\tlisten 443 ssl;\n\tserver_name openwrt.example.com;\n\n\tgzip on;\n\tgzip_min_length 1k;\n    gzip_buffers 16 64k;\n    gzip_http_version 1.1;\n    gzip_comp_level 3;\n    gzip_types text/plain application/x-javascript application/javascript text/javascript text/css application/xml application/x-httpd-php image/jpeg image/gif image/png;\n    gzip_vary on;\n\tclient_max_body_size 200M;\n\t#access_log  /data/logs/nginx_json/access.log json;\n\n\tssl_certificate  /etc/nginx/conf.d/certs/*.example.com.fullchain.pem;\n    ssl_certificate_key /etc/nginx/conf.d/certs/*.example.com.privkey.pem;\n    ssl_session_timeout 5m;\n    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\n    ssl_prefer_server_ciphers on;\n\n    # Prevent crawling\n    if ($http_user_agent ~* \"360Spider|JikeSpider|Spider|spider|bot|Bot|2345Explorer|curl|wget|webZIP|qihoobot|Baiduspider|Googlebot|Googlebot-Mobile|Googlebot-Image|Mediapartners-Google|Adsbot-Google|Feedfetcher-Google|Yahoo! Slurp|Yahoo! Slurp China|YoudaoBot|Sosospider|Sogou spider|Sogou web spider|MSNBot|ia_archiver|Tomato Bot|NSPlayer|bingbot\"){\n        return 403;\n    }\n\n    location / {\n\t\tproxy_read_timeout 60m;\n\t\tproxy_set_header Host $host;\n\t\tproxy_set_header X-Forwarded-Proto https;\n\t\tproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n\t\tproxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header Connection \"upgrade\";\n\t\tproxy_redirect off;\n\t\tproxy_pass http://192.168.2.1:80;\n\t}\n\n\terror_page 500 502 503 504 /50x.html;\n\t#location = /50x.html {\n\t#\troot /data/www/error/;\n\t#}\n\n}\n```\n\n查看nginx容器状态: docker ps -a\n\n查看nginx容器日志: docker logs -f --tail 500 nginx\n\n有错的话根据日志排查。\n<br/>\n<br/>\n\n# 十七、防火墙 > 端口转发\n\n假设内网debian网关ip为192.168.2.103，则将外网8443/tcp端口转发到debian的443/tcp：\n\n<img src=\"pve_openwrt_forward.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n\n之后可以通过 https://openwrt.example.com:8443 访问家里openwrt，其他服务同理：\n\n<img src=\"pve_openwrt_ddns_list.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n\n\n\n\n","slug":"openwrt","published":1,"lang":"en","updated":"2022-04-01T11:26:00.000Z","_id":"cl1h685ev000bxfdnh2sa8ixl","comments":1,"layout":"post","photos":[],"link":"","content":"<h1>一、上传镜像</h1>\n<p>如果是压缩包img.gz格式要先解压成img上传</p>\n<img src=\"upload_img.png\" class=\"img-zoomable\" />\n<p>pve版本7上传完成会显示文件存放路径: /var/lib/vz/template/iso</p>\n<img src=\"pve_img.png\" class=\"img-zoomable\" />\n<br/>\n<h1>二、创建vm</h1>\n<p>一路下一步，过程省略。</p>\n<p>可以选择不使用ios镜像。</p>\n<p>完成后把默认磁盘删了。</p>\n<br/>\n<h1>三、生成磁盘</h1>\n<p>ssh登录pve宿主机<br>\nssh <a href=\"mailto:root@192.168.2.123\">root@192.168.2.123</a></p>\n<p>进入镜像存放目录:<br>\ncd /var/lib/vz/template/iso</p>\n<p>创建磁盘:<br>\nqm importdisk 100 /var/lib/vz/template/iso/openwrt-2022-03-27-x86-64-generic-squashfs-combined.img local-lvm</p>\n<br/>\n<h1>四、加载磁盘</h1>\n<p>双击未使用磁盘，添加：</p>\n<img src=\"pve_openwrt_disk.png\" class=\"img-zoomable\" />\n<p>扩容5G：</p>\n<img src=\"pve_openwrt_disk_increment.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n<h1>五.一、添加直通网卡</h1>\n<p>添加网卡前先不要启动虚拟机，否则系统第一次启动不会初始化WAN口。</p>\n<p>如果cpu支持vt-d硬件直通，则在“硬件添加pci”网卡<br>\n<img src=\"n3160_vs_n6000.png\" class=\"img-zoomable\" /></p>\n<img src=\"pve_openwrt_pci_ethernets.png\" class=\"img-zoomable\" />\n<p>从上图看，主板有4个 Intel I226-V 网卡，其中一个是宿主机正在使用的，避免直通这个网卡，否则失联</p>\n<p>如果担心直通出错可以先不要把openwrt设为开机自启，就算错了容易抢救直接断电重启，不至于把宿主机搞崩还得重装系统。</p>\n<p>为了万无一失，先找到宿主机正在使用的物理网卡名称:</p>\n<img src=\"pve_host_ethernet.png\" class=\"img-zoomable\" />\n<p>上图显示，pve桥接虚拟网卡名称为vmbr0，对应物理网卡名称为enp2s0</p>\n<p>查看这个网卡的pci编码：<br>\napt install lshw -y<br>\nlshw -class network</p>\n<img src=\"pve_ethernet_pci.png\" class=\"img-zoomable\" />\n<p>enp2s0 对应 pci 编码为 0000:02:00:0，且没有 DISABLED 标记，所以直通给vm要排除这个，选择其他网卡，如0000:03:00:0：</p>\n<img src=\"pve_openwrt_pci_ethernets.png\" class=\"img-zoomable\" />\n<p>因为按顺序使用，一般来讲直通的这个网口就是紧挨者宿主机使用的网口</p>\n<img src=\"n6000.jpg\" class=\"img-zoomable\" />\n<p>而且openwrt跟宿主机桥接共用的网卡默认为LAN口，直通的pci网卡为WAN口，开机启动后通过网口MAC地址判断，符合预期。</p>\n<img src=\"lan_mac.png\" class=\"img-zoomable\" />\n<img src=\"openwrt_lan_mac.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n<h1>五.二、添加桥接网卡</h1>\n<p>如果cpu不支持vt-d硬件直通，比如J1900、N3160这类早期芯片就只能使用桥接网卡，先到pve节点网络下创建桥接网卡，备注为WAN口：</p>\n<img src=\"pve_bridge_eth.png\" class=\"img-zoomable\" />\n<p>回到openwrt硬件，添加网络设备，选择WAN：</p>\n<img src=\"pve_openwrt_bridge_eth.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n<h1>六、修改配置</h1>\n<p>开机自启（start at boot）改为Yes</p>\n<p>启动顺序（boot order）改成附加的磁盘：</p>\n<img src=\"pve_openwrt_bootOrder.png\" class=\"img-zoomable\" />\n<br/>\n<p>启用qemu guest agent，让pve宿主机能够与vm通讯：</p>\n<img src=\"pve_openwrt_qemu_guest_agent.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n<h1>七、启动openwrt</h1>\n<p>在pve web界面进入控制台ssh，按回车看到输入光标</p>\n<p>vim /etc/config/network<br>\n把lan口静态ip改成192.168.2.1</p>\n<p>重启生效: /etc/init.d/network restart</p>\n<p>浏览器登录openwrt</p>\n<img src=\"pve_openwrt_overview.png\" class=\"img-zoomable\" />\n<p>用磁盘管理（diskman）把扩容的5G分区格式化成ext4，挂载给/opt目录，docker会使用opt作为overlay空间，不会消耗根目录容量。</p>\n<p>ssh登录查看磁盘用量，df -Th：</p>\n<img src=\"pve_openwrt_disk_info.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n<h1>八、cpu跑分</h1>\n<p>ssh执行: cd /etc &amp;&amp; ./coremark.sh</p>\n<p>有的固件是/sbin/cpumark，执行: cpumark</p>\n<p>有的固件是/sbin/coremark: coremark<br>\n<br/><br>\n<br/></p>\n<h1>九、网卡测速</h1>\n<p>opkg install iperf3<br>\nserver: iperf3 -s -p 4000<br>\nclient: iperf3 -p 4000 -c 192.168.2.1</p>\n<img src=\"pve_openwrt_iperf3.png\" class=\"img-zoomable\" />\n<p>因为不是直通，n3160性能偏弱跑不满千兆，7、800也够用。<br>\n<br/><br>\n<br/></p>\n<h1>十、把ash改成bash</h1>\n<p>ash不能记住历史命令，用起来不方便。</p>\n<p>opkg update &amp;&amp; opkg install bash<br>\n编辑 /etc/passwd 文件<br>\n修改第一行（第一行就是 root 用户）中的 /bin/ash，改成 /bin/bash<br>\n保存重启路由器生效</p>\n<p>查看 /etc/shells 文件可以看到当前系统中有哪些可用的 shell 解释器<br>\n/bin/ash<br>\n/bin/bash<br>\n/bin/rbash</p>\n<p>安装vim：opkg install vim</p>\n<p>利用bash快速找到历史命令，创建文件：vim ~/.inputrc，粘贴：<br>\n“\\e[A”: history-search-backward<br>\n“\\e[B”: history-search-forward<br>\nset show-all-if-ambiguous on<br>\nset completion-ignore-case on</p>\n<p>设置快捷键，创建文件：vim ~/.bashrc，粘贴内容：<br>\nHISTSIZE=-1<br>\nHISTFILESIZE=-1</p>\n<p>alias ll=‘ls -alhFtr’<br>\nalias la=‘ls -A’<br>\nalias l=‘ls -CF’</p>\n<p>执行命令生效：source ~/.bashrc<br>\n<br/><br>\n<br/></p>\n<h1>十一、远程记录日志</h1>\n<p><a href=\"https://www.betaflare.com/3730.html\">https://www.betaflare.com/3730.html</a><br>\n<br/><br>\n<br/></p>\n<h1>十二、增大session过期时间</h1>\n<p>vim /etc/config/luci</p>\n<p>改为7天<br>\noption sessiontime ‘604800’<br>\n<br/><br>\n<br/></p>\n<h1>十三、安装qemu guest agent</h1>\n<p>opkg install qemu-ga</p>\n<img src=\"pve_openwrt_qemu_ga.png\" class=\"img-zoomable\" />\n<p>pve显示openwrt ip：</p>\n<img src=\"pve_openwrt_ip.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n<h1>十四、修改“半双工”</h1>\n<p>pve虚拟的openwrt网卡实际为全双工，显示为半双工且没有速度，可通过命令修改</p>\n<p>临时生效: ethtool -s eth0 speed 1000 duplex full</p>\n<p>永久生效: vim /etc/init.d/network</p>\n<img src=\"pve_openwrt_eth_full_duplex.png\" class=\"img-zoomable\" />\n<img src=\"pve_openwrt_eths_full_duplex.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n<h1>十五、ddns公网访问</h1>\n<p>家宽有公网ipv4，映射域名，配上证书，防火墙添加端口转发就可以公网访问。</p>\n<p>测试发现80、443端口不通，应该是运营商封了，退而求其次使用非标8443端口。</p>\n<p>首先配置域名，我用的cloudflare，在dns添加一条A记录，ip随意比如1.1.1.1：</p>\n<img src=\"cloudflare_dns.png\" class=\"img-zoomable\" />\n<p>openwrt配置ddns：</p>\n<img src=\"pve_openwrt_ddns.png\" style=\"width: 300px\" class=\"img-zoomable\" />\n<p>添加ddns服务：<br>\n<img src=\"pve_openwrt_ddns_cf.png\" class=\"img-zoomable\" /></p>\n<p>注意“查询主机名”跟“域名”格式不一样，前一个是“.”，后一个是“@”：</p>\n<img src=\"pve_openwrt_ddns_cf_detail.png\" class=\"img-zoomable\" />\n<p>回到ddns列表界面，点击“重新加载”会修改域名解析，刷新cf dns列表，已经把 1.1.1.1 改成真实公网ip，本机ping一下验证是否成功。<br>\n<br/><br>\n<br/></p>\n<h1>十六、配置域名ssl证书</h1>\n<p>web服务通常有多个，最好找台linux当网关统一转发流量，以debian为例，安装docker、nginx、acme.sh颁发证书并自动续期。</p>\n<p>获取nginx基础配置：<br>\ncd ~/projects/ &amp;&amp; mkdir nginx &amp;&amp; mkdir nginx/conf.d &amp;&amp; mkdir nginx/conf.d/certs<br>\ndocker run --rm -d --name nginx nginx<br>\ndocker cp nginx:/etc/nginx/nginx.conf ~/projects/nginx/nginx.conf<br>\ndocker stop nginx</p>\n<p>启动nginx:<br>\ndocker run -d --restart=always --name nginx -v /home/www/projects/nginx/nginx.conf:/etc/nginx/nginx.conf:ro -v /home/www/projects/nginx/conf.d:/etc/nginx/conf.d:ro --network=host nginx</p>\n<p>安装acme<span>.sh</span>：<br>\ncurl htt<span>ps://get.acme.sh | sh -s email=yourName</span>@gmail.com</p>\n<p>exit退出命令行重新登录使acme.sh命令生效</p>\n<p>导出环境变量，acme.sh执行时依赖这些变量：<br>\nexport CF_Token=“”<br>\nexport CF_Account_ID=“”<br>\nexport CF_Zone_ID=“”</p>\n<p>每家dns服务商的参数不一样，参考：<a href=\"https://github.com/acmesh-official/acme.sh/wiki/dnsapi\">https://github.com/acmesh-official/acme.sh/wiki/dnsapi</a></p>\n<p>颁发泛域名证书（Issue cert）:</p>\n<pre><code>acme.sh --issue -d '*.example.com' --dns dns_cf --dnssleep 120 --debug 2 --server letsencrypt\n</code></pre>\n<p>安装证书（Install cert）:</p>\n<pre><code>acme.sh --install-cert -d '*.example.com' --key-file /home/www/projects/nginx/conf.d/certs/*.example.com.privkey.pem --fullchain-file /home/www/projects/nginx/conf.d/certs/*.example.com.fullchain.pem --reloadcmd &quot;docker exec -it nginx nginx -s reload&quot; --debug 2\n</code></pre>\n<p>以上命令执行完acme会创建定时任务，以后ssl证书过期前会自动续期：<br>\ncrontab -l<br>\n16 0 * * * “/home/www/.acme.sh”/acme.sh --cron --home “/home/www/.acme.sh” &gt; /home/www/acme.log</p>\n<p>为openwrt服务设置反向代理，vim /home/www/projects/nginx/conf.d/openwrt.conf</p>\n<figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server&#123;</span><br><span class=\"line\">\tlisten <span class=\"number\">80</span>;</span><br><span class=\"line\">\tserver_name openwrt.example.com;</span><br><span class=\"line\"></span><br><span class=\"line\">\tclient_max_body_size <span class=\"number\">200</span>M;</span><br><span class=\"line\">\t<span class=\"comment\">#access_log  /data/logs/nginx_json/access.log json;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\treturn <span class=\"number\">301</span> https:<span class=\"regexp\">//</span><span class=\"variable\">$host</span><span class=\"variable\">$request_uri</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">server&#123;</span><br><span class=\"line\">\tlisten <span class=\"number\">443</span> ssl;</span><br><span class=\"line\">\tserver_name openwrt.example.com;</span><br><span class=\"line\"></span><br><span class=\"line\">\tgzip on;</span><br><span class=\"line\">\tgzip_min_length <span class=\"number\">1</span>k;</span><br><span class=\"line\">    gzip_buffers <span class=\"number\">16</span> <span class=\"number\">64</span>k;</span><br><span class=\"line\">    gzip_http_version <span class=\"number\">1.1</span>;</span><br><span class=\"line\">    gzip_comp_level <span class=\"number\">3</span>;</span><br><span class=\"line\">    gzip_types text<span class=\"regexp\">/plain application/</span>x-javascript application<span class=\"regexp\">/javascript text/</span>javascript text<span class=\"regexp\">/css application/</span>xml application<span class=\"regexp\">/x-httpd-php image/</span>jpeg image<span class=\"regexp\">/gif image/</span>png;</span><br><span class=\"line\">    gzip_vary on;</span><br><span class=\"line\">\tclient_max_body_size <span class=\"number\">200</span>M;</span><br><span class=\"line\">\t<span class=\"comment\">#access_log  /data/logs/nginx_json/access.log json;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\tssl_certificate  <span class=\"regexp\">/etc/</span>nginx<span class=\"regexp\">/conf.d/</span>certs/*.example.com.fullchain.pem;</span><br><span class=\"line\">    ssl_certificate_key <span class=\"regexp\">/etc/</span>nginx<span class=\"regexp\">/conf.d/</span>certs/*.example.com.privkey.pem;</span><br><span class=\"line\">    ssl_session_timeout <span class=\"number\">5</span>m;</span><br><span class=\"line\">    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;</span><br><span class=\"line\">    ssl_protocols TLSv1 TLSv1.<span class=\"number\">1</span> TLSv1.<span class=\"number\">2</span>;</span><br><span class=\"line\">    ssl_prefer_server_ciphers on;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># Prevent crawling</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"variable\">$http_user_agent</span> ~* <span class=\"string\">&quot;360Spider|JikeSpider|Spider|spider|bot|Bot|2345Explorer|curl|wget|webZIP|qihoobot|Baiduspider|Googlebot|Googlebot-Mobile|Googlebot-Image|Mediapartners-Google|Adsbot-Google|Feedfetcher-Google|Yahoo! Slurp|Yahoo! Slurp China|YoudaoBot|Sosospider|Sogou spider|Sogou web spider|MSNBot|ia_archiver|Tomato Bot|NSPlayer|bingbot&quot;</span>)&#123;</span><br><span class=\"line\">        return <span class=\"number\">403</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    location / &#123;</span><br><span class=\"line\">\t\tproxy_read_timeout <span class=\"number\">60</span>m;</span><br><span class=\"line\">\t\tproxy_set_header Host <span class=\"variable\">$host</span>;</span><br><span class=\"line\">\t\tproxy_set_header X-Forwarded-Proto https;</span><br><span class=\"line\">\t\tproxy_set_header X-Forwarded-For <span class=\"variable\">$proxy_add_x_forwarded_for</span>;</span><br><span class=\"line\">\t\tproxy_set_header X-Real-IP <span class=\"variable\">$remote_addr</span>;</span><br><span class=\"line\">        proxy_set_header Connection <span class=\"string\">&quot;upgrade&quot;</span>;</span><br><span class=\"line\">\t\tproxy_redirect off;</span><br><span class=\"line\">\t\tproxy_pass http:<span class=\"regexp\">//</span><span class=\"number\">192.168</span>.<span class=\"number\">2.1</span>:<span class=\"number\">80</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\terror_page <span class=\"number\">500</span> <span class=\"number\">502</span> <span class=\"number\">503</span> <span class=\"number\">504</span> /<span class=\"number\">50</span>x.html;</span><br><span class=\"line\">\t<span class=\"comment\">#location = /50x.html &#123;</span></span><br><span class=\"line\">\t<span class=\"comment\">#\troot /data/www/error/;</span></span><br><span class=\"line\">\t<span class=\"comment\">#&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>查看nginx容器状态: docker ps -a</p>\n<p>查看nginx容器日志: docker logs -f --tail 500 nginx</p>\n<p>有错的话根据日志排查。<br>\n<br/><br>\n<br/></p>\n<h1>十七、防火墙 &gt; 端口转发</h1>\n<p>假设内网debian网关ip为192.168.2.103，则将外网8443/tcp端口转发到debian的443/tcp：</p>\n<img src=\"pve_openwrt_forward.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n<p>之后可以通过 <a href=\"https://openwrt.example.com:8443\">https://openwrt.example.com:8443</a> 访问家里openwrt，其他服务同理：</p>\n<img src=\"pve_openwrt_ddns_list.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n","site":{"data":{}},"excerpt":"","more":"<h1>一、上传镜像</h1>\n<p>如果是压缩包img.gz格式要先解压成img上传</p>\n<img src=\"upload_img.png\" class=\"img-zoomable\" />\n<p>pve版本7上传完成会显示文件存放路径: /var/lib/vz/template/iso</p>\n<img src=\"pve_img.png\" class=\"img-zoomable\" />\n<br/>\n<h1>二、创建vm</h1>\n<p>一路下一步，过程省略。</p>\n<p>可以选择不使用ios镜像。</p>\n<p>完成后把默认磁盘删了。</p>\n<br/>\n<h1>三、生成磁盘</h1>\n<p>ssh登录pve宿主机<br>\nssh <a href=\"mailto:root@192.168.2.123\">root@192.168.2.123</a></p>\n<p>进入镜像存放目录:<br>\ncd /var/lib/vz/template/iso</p>\n<p>创建磁盘:<br>\nqm importdisk 100 /var/lib/vz/template/iso/openwrt-2022-03-27-x86-64-generic-squashfs-combined.img local-lvm</p>\n<br/>\n<h1>四、加载磁盘</h1>\n<p>双击未使用磁盘，添加：</p>\n<img src=\"pve_openwrt_disk.png\" class=\"img-zoomable\" />\n<p>扩容5G：</p>\n<img src=\"pve_openwrt_disk_increment.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n<h1>五.一、添加直通网卡</h1>\n<p>添加网卡前先不要启动虚拟机，否则系统第一次启动不会初始化WAN口。</p>\n<p>如果cpu支持vt-d硬件直通，则在“硬件添加pci”网卡<br>\n<img src=\"n3160_vs_n6000.png\" class=\"img-zoomable\" /></p>\n<img src=\"pve_openwrt_pci_ethernets.png\" class=\"img-zoomable\" />\n<p>从上图看，主板有4个 Intel I226-V 网卡，其中一个是宿主机正在使用的，避免直通这个网卡，否则失联</p>\n<p>如果担心直通出错可以先不要把openwrt设为开机自启，就算错了容易抢救直接断电重启，不至于把宿主机搞崩还得重装系统。</p>\n<p>为了万无一失，先找到宿主机正在使用的物理网卡名称:</p>\n<img src=\"pve_host_ethernet.png\" class=\"img-zoomable\" />\n<p>上图显示，pve桥接虚拟网卡名称为vmbr0，对应物理网卡名称为enp2s0</p>\n<p>查看这个网卡的pci编码：<br>\napt install lshw -y<br>\nlshw -class network</p>\n<img src=\"pve_ethernet_pci.png\" class=\"img-zoomable\" />\n<p>enp2s0 对应 pci 编码为 0000:02:00:0，且没有 DISABLED 标记，所以直通给vm要排除这个，选择其他网卡，如0000:03:00:0：</p>\n<img src=\"pve_openwrt_pci_ethernets.png\" class=\"img-zoomable\" />\n<p>因为按顺序使用，一般来讲直通的这个网口就是紧挨者宿主机使用的网口</p>\n<img src=\"n6000.jpg\" class=\"img-zoomable\" />\n<p>而且openwrt跟宿主机桥接共用的网卡默认为LAN口，直通的pci网卡为WAN口，开机启动后通过网口MAC地址判断，符合预期。</p>\n<img src=\"lan_mac.png\" class=\"img-zoomable\" />\n<img src=\"openwrt_lan_mac.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n<h1>五.二、添加桥接网卡</h1>\n<p>如果cpu不支持vt-d硬件直通，比如J1900、N3160这类早期芯片就只能使用桥接网卡，先到pve节点网络下创建桥接网卡，备注为WAN口：</p>\n<img src=\"pve_bridge_eth.png\" class=\"img-zoomable\" />\n<p>回到openwrt硬件，添加网络设备，选择WAN：</p>\n<img src=\"pve_openwrt_bridge_eth.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n<h1>六、修改配置</h1>\n<p>开机自启（start at boot）改为Yes</p>\n<p>启动顺序（boot order）改成附加的磁盘：</p>\n<img src=\"pve_openwrt_bootOrder.png\" class=\"img-zoomable\" />\n<br/>\n<p>启用qemu guest agent，让pve宿主机能够与vm通讯：</p>\n<img src=\"pve_openwrt_qemu_guest_agent.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n<h1>七、启动openwrt</h1>\n<p>在pve web界面进入控制台ssh，按回车看到输入光标</p>\n<p>vim /etc/config/network<br>\n把lan口静态ip改成192.168.2.1</p>\n<p>重启生效: /etc/init.d/network restart</p>\n<p>浏览器登录openwrt</p>\n<img src=\"pve_openwrt_overview.png\" class=\"img-zoomable\" />\n<p>用磁盘管理（diskman）把扩容的5G分区格式化成ext4，挂载给/opt目录，docker会使用opt作为overlay空间，不会消耗根目录容量。</p>\n<p>ssh登录查看磁盘用量，df -Th：</p>\n<img src=\"pve_openwrt_disk_info.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n<h1>八、cpu跑分</h1>\n<p>ssh执行: cd /etc &amp;&amp; ./coremark.sh</p>\n<p>有的固件是/sbin/cpumark，执行: cpumark</p>\n<p>有的固件是/sbin/coremark: coremark<br>\n<br/><br>\n<br/></p>\n<h1>九、网卡测速</h1>\n<p>opkg install iperf3<br>\nserver: iperf3 -s -p 4000<br>\nclient: iperf3 -p 4000 -c 192.168.2.1</p>\n<img src=\"pve_openwrt_iperf3.png\" class=\"img-zoomable\" />\n<p>因为不是直通，n3160性能偏弱跑不满千兆，7、800也够用。<br>\n<br/><br>\n<br/></p>\n<h1>十、把ash改成bash</h1>\n<p>ash不能记住历史命令，用起来不方便。</p>\n<p>opkg update &amp;&amp; opkg install bash<br>\n编辑 /etc/passwd 文件<br>\n修改第一行（第一行就是 root 用户）中的 /bin/ash，改成 /bin/bash<br>\n保存重启路由器生效</p>\n<p>查看 /etc/shells 文件可以看到当前系统中有哪些可用的 shell 解释器<br>\n/bin/ash<br>\n/bin/bash<br>\n/bin/rbash</p>\n<p>安装vim：opkg install vim</p>\n<p>利用bash快速找到历史命令，创建文件：vim ~/.inputrc，粘贴：<br>\n“\\e[A”: history-search-backward<br>\n“\\e[B”: history-search-forward<br>\nset show-all-if-ambiguous on<br>\nset completion-ignore-case on</p>\n<p>设置快捷键，创建文件：vim ~/.bashrc，粘贴内容：<br>\nHISTSIZE=-1<br>\nHISTFILESIZE=-1</p>\n<p>alias ll=‘ls -alhFtr’<br>\nalias la=‘ls -A’<br>\nalias l=‘ls -CF’</p>\n<p>执行命令生效：source ~/.bashrc<br>\n<br/><br>\n<br/></p>\n<h1>十一、远程记录日志</h1>\n<p><a href=\"https://www.betaflare.com/3730.html\">https://www.betaflare.com/3730.html</a><br>\n<br/><br>\n<br/></p>\n<h1>十二、增大session过期时间</h1>\n<p>vim /etc/config/luci</p>\n<p>改为7天<br>\noption sessiontime ‘604800’<br>\n<br/><br>\n<br/></p>\n<h1>十三、安装qemu guest agent</h1>\n<p>opkg install qemu-ga</p>\n<img src=\"pve_openwrt_qemu_ga.png\" class=\"img-zoomable\" />\n<p>pve显示openwrt ip：</p>\n<img src=\"pve_openwrt_ip.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n<h1>十四、修改“半双工”</h1>\n<p>pve虚拟的openwrt网卡实际为全双工，显示为半双工且没有速度，可通过命令修改</p>\n<p>临时生效: ethtool -s eth0 speed 1000 duplex full</p>\n<p>永久生效: vim /etc/init.d/network</p>\n<img src=\"pve_openwrt_eth_full_duplex.png\" class=\"img-zoomable\" />\n<img src=\"pve_openwrt_eths_full_duplex.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n<h1>十五、ddns公网访问</h1>\n<p>家宽有公网ipv4，映射域名，配上证书，防火墙添加端口转发就可以公网访问。</p>\n<p>测试发现80、443端口不通，应该是运营商封了，退而求其次使用非标8443端口。</p>\n<p>首先配置域名，我用的cloudflare，在dns添加一条A记录，ip随意比如1.1.1.1：</p>\n<img src=\"cloudflare_dns.png\" class=\"img-zoomable\" />\n<p>openwrt配置ddns：</p>\n<img src=\"pve_openwrt_ddns.png\" style=\"width: 300px\" class=\"img-zoomable\" />\n<p>添加ddns服务：<br>\n<img src=\"pve_openwrt_ddns_cf.png\" class=\"img-zoomable\" /></p>\n<p>注意“查询主机名”跟“域名”格式不一样，前一个是“.”，后一个是“@”：</p>\n<img src=\"pve_openwrt_ddns_cf_detail.png\" class=\"img-zoomable\" />\n<p>回到ddns列表界面，点击“重新加载”会修改域名解析，刷新cf dns列表，已经把 1.1.1.1 改成真实公网ip，本机ping一下验证是否成功。<br>\n<br/><br>\n<br/></p>\n<h1>十六、配置域名ssl证书</h1>\n<p>web服务通常有多个，最好找台linux当网关统一转发流量，以debian为例，安装docker、nginx、acme.sh颁发证书并自动续期。</p>\n<p>获取nginx基础配置：<br>\ncd ~/projects/ &amp;&amp; mkdir nginx &amp;&amp; mkdir nginx/conf.d &amp;&amp; mkdir nginx/conf.d/certs<br>\ndocker run --rm -d --name nginx nginx<br>\ndocker cp nginx:/etc/nginx/nginx.conf ~/projects/nginx/nginx.conf<br>\ndocker stop nginx</p>\n<p>启动nginx:<br>\ndocker run -d --restart=always --name nginx -v /home/www/projects/nginx/nginx.conf:/etc/nginx/nginx.conf:ro -v /home/www/projects/nginx/conf.d:/etc/nginx/conf.d:ro --network=host nginx</p>\n<p>安装acme<span>.sh</span>：<br>\ncurl htt<span>ps://get.acme.sh | sh -s email=yourName</span>@gmail.com</p>\n<p>exit退出命令行重新登录使acme.sh命令生效</p>\n<p>导出环境变量，acme.sh执行时依赖这些变量：<br>\nexport CF_Token=“”<br>\nexport CF_Account_ID=“”<br>\nexport CF_Zone_ID=“”</p>\n<p>每家dns服务商的参数不一样，参考：<a href=\"https://github.com/acmesh-official/acme.sh/wiki/dnsapi\">https://github.com/acmesh-official/acme.sh/wiki/dnsapi</a></p>\n<p>颁发泛域名证书（Issue cert）:</p>\n<pre><code>acme.sh --issue -d '*.example.com' --dns dns_cf --dnssleep 120 --debug 2 --server letsencrypt\n</code></pre>\n<p>安装证书（Install cert）:</p>\n<pre><code>acme.sh --install-cert -d '*.example.com' --key-file /home/www/projects/nginx/conf.d/certs/*.example.com.privkey.pem --fullchain-file /home/www/projects/nginx/conf.d/certs/*.example.com.fullchain.pem --reloadcmd &quot;docker exec -it nginx nginx -s reload&quot; --debug 2\n</code></pre>\n<p>以上命令执行完acme会创建定时任务，以后ssl证书过期前会自动续期：<br>\ncrontab -l<br>\n16 0 * * * “/home/www/.acme.sh”/acme.sh --cron --home “/home/www/.acme.sh” &gt; /home/www/acme.log</p>\n<p>为openwrt服务设置反向代理，vim /home/www/projects/nginx/conf.d/openwrt.conf</p>\n<figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server&#123;</span><br><span class=\"line\">\tlisten <span class=\"number\">80</span>;</span><br><span class=\"line\">\tserver_name openwrt.example.com;</span><br><span class=\"line\"></span><br><span class=\"line\">\tclient_max_body_size <span class=\"number\">200</span>M;</span><br><span class=\"line\">\t<span class=\"comment\">#access_log  /data/logs/nginx_json/access.log json;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\treturn <span class=\"number\">301</span> https:<span class=\"regexp\">//</span><span class=\"variable\">$host</span><span class=\"variable\">$request_uri</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">server&#123;</span><br><span class=\"line\">\tlisten <span class=\"number\">443</span> ssl;</span><br><span class=\"line\">\tserver_name openwrt.example.com;</span><br><span class=\"line\"></span><br><span class=\"line\">\tgzip on;</span><br><span class=\"line\">\tgzip_min_length <span class=\"number\">1</span>k;</span><br><span class=\"line\">    gzip_buffers <span class=\"number\">16</span> <span class=\"number\">64</span>k;</span><br><span class=\"line\">    gzip_http_version <span class=\"number\">1.1</span>;</span><br><span class=\"line\">    gzip_comp_level <span class=\"number\">3</span>;</span><br><span class=\"line\">    gzip_types text<span class=\"regexp\">/plain application/</span>x-javascript application<span class=\"regexp\">/javascript text/</span>javascript text<span class=\"regexp\">/css application/</span>xml application<span class=\"regexp\">/x-httpd-php image/</span>jpeg image<span class=\"regexp\">/gif image/</span>png;</span><br><span class=\"line\">    gzip_vary on;</span><br><span class=\"line\">\tclient_max_body_size <span class=\"number\">200</span>M;</span><br><span class=\"line\">\t<span class=\"comment\">#access_log  /data/logs/nginx_json/access.log json;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\tssl_certificate  <span class=\"regexp\">/etc/</span>nginx<span class=\"regexp\">/conf.d/</span>certs/*.example.com.fullchain.pem;</span><br><span class=\"line\">    ssl_certificate_key <span class=\"regexp\">/etc/</span>nginx<span class=\"regexp\">/conf.d/</span>certs/*.example.com.privkey.pem;</span><br><span class=\"line\">    ssl_session_timeout <span class=\"number\">5</span>m;</span><br><span class=\"line\">    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;</span><br><span class=\"line\">    ssl_protocols TLSv1 TLSv1.<span class=\"number\">1</span> TLSv1.<span class=\"number\">2</span>;</span><br><span class=\"line\">    ssl_prefer_server_ciphers on;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># Prevent crawling</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"variable\">$http_user_agent</span> ~* <span class=\"string\">&quot;360Spider|JikeSpider|Spider|spider|bot|Bot|2345Explorer|curl|wget|webZIP|qihoobot|Baiduspider|Googlebot|Googlebot-Mobile|Googlebot-Image|Mediapartners-Google|Adsbot-Google|Feedfetcher-Google|Yahoo! Slurp|Yahoo! Slurp China|YoudaoBot|Sosospider|Sogou spider|Sogou web spider|MSNBot|ia_archiver|Tomato Bot|NSPlayer|bingbot&quot;</span>)&#123;</span><br><span class=\"line\">        return <span class=\"number\">403</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    location / &#123;</span><br><span class=\"line\">\t\tproxy_read_timeout <span class=\"number\">60</span>m;</span><br><span class=\"line\">\t\tproxy_set_header Host <span class=\"variable\">$host</span>;</span><br><span class=\"line\">\t\tproxy_set_header X-Forwarded-Proto https;</span><br><span class=\"line\">\t\tproxy_set_header X-Forwarded-For <span class=\"variable\">$proxy_add_x_forwarded_for</span>;</span><br><span class=\"line\">\t\tproxy_set_header X-Real-IP <span class=\"variable\">$remote_addr</span>;</span><br><span class=\"line\">        proxy_set_header Connection <span class=\"string\">&quot;upgrade&quot;</span>;</span><br><span class=\"line\">\t\tproxy_redirect off;</span><br><span class=\"line\">\t\tproxy_pass http:<span class=\"regexp\">//</span><span class=\"number\">192.168</span>.<span class=\"number\">2.1</span>:<span class=\"number\">80</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\terror_page <span class=\"number\">500</span> <span class=\"number\">502</span> <span class=\"number\">503</span> <span class=\"number\">504</span> /<span class=\"number\">50</span>x.html;</span><br><span class=\"line\">\t<span class=\"comment\">#location = /50x.html &#123;</span></span><br><span class=\"line\">\t<span class=\"comment\">#\troot /data/www/error/;</span></span><br><span class=\"line\">\t<span class=\"comment\">#&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>查看nginx容器状态: docker ps -a</p>\n<p>查看nginx容器日志: docker logs -f --tail 500 nginx</p>\n<p>有错的话根据日志排查。<br>\n<br/><br>\n<br/></p>\n<h1>十七、防火墙 &gt; 端口转发</h1>\n<p>假设内网debian网关ip为192.168.2.103，则将外网8443/tcp端口转发到debian的443/tcp：</p>\n<img src=\"pve_openwrt_forward.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n<p>之后可以通过 <a href=\"https://openwrt.example.com:8443\">https://openwrt.example.com:8443</a> 访问家里openwrt，其他服务同理：</p>\n<img src=\"pve_openwrt_ddns_list.png\" style=\"width: 500px\" class=\"img-zoomable\" />\n"},{"title":"红米ac2100刷openwrt","catalog":true,"date":"2022-03-04T14:11:57.000Z","subtitle":"高性价比AP","sticky":999,"header-img":"/img/header_img/newhome_bg.jpg","_content":"\n来自小黄鱼￥119\n\n<img src=\"ac2100.png\" class=\"img-zoomable\" />\n  \n  \n红米原系统：\n\n<img src=\"origin_system.png\" class=\"img-zoomable\" />\n  \n  \n检查是否坏块：http://i.lckiss.com/?p=6761\n\n<img src=\"bad_blocks.png\" class=\"img-zoomable\" />\n\n中奖，没有坏块！\n  \n  \n刷写breed：https://www.lotlab.org/2021/06/13/install-openwrt-on-redmi-ac2100/\n\n<img src=\"breed.png\" class=\"img-zoomable\" />\n  \n  \n刷入openwrt，固件来源：https://www.right.com.cn/forum/thread-6529167-1-1.html\n\n<img src=\"op_overview.png\" class=\"img-zoomable\" />\n  \n  \n检查是否有坏块：\n\n<img src=\"logs.png\" class=\"img-zoomable\" />\n\n<img src=\"shell.png\" class=\"img-zoomable\" />\n  \n  \n  \n如果wifi无法开机自启，在启动项中添加命令：\n\nifconfig ra0 up  \nifconfig rai0 up\n\n<img src=\"startup.png\" class=\"img-zoomable\" />\n  \n  \n  \n意外的是，ac2100的cpu跟k2p相同，但跑分高不少，k2p只有4500：\n  \n<img src=\"k2p.png\" class=\"img-zoomable\" />\n\n","source":"_posts/en/redmi_ac2100.md","raw":"---\ntitle: 红米ac2100刷openwrt\ncatalog: true\ndate: 2022-03-04 22:11:57\nsubtitle: 高性价比AP\nsticky: 999\nheader-img: /img/header_img/newhome_bg.jpg\ntags:\n- redmi\n- ac2100\n- openwrt\ncategories:\n- network\n---\n\n来自小黄鱼￥119\n\n<img src=\"ac2100.png\" class=\"img-zoomable\" />\n  \n  \n红米原系统：\n\n<img src=\"origin_system.png\" class=\"img-zoomable\" />\n  \n  \n检查是否坏块：http://i.lckiss.com/?p=6761\n\n<img src=\"bad_blocks.png\" class=\"img-zoomable\" />\n\n中奖，没有坏块！\n  \n  \n刷写breed：https://www.lotlab.org/2021/06/13/install-openwrt-on-redmi-ac2100/\n\n<img src=\"breed.png\" class=\"img-zoomable\" />\n  \n  \n刷入openwrt，固件来源：https://www.right.com.cn/forum/thread-6529167-1-1.html\n\n<img src=\"op_overview.png\" class=\"img-zoomable\" />\n  \n  \n检查是否有坏块：\n\n<img src=\"logs.png\" class=\"img-zoomable\" />\n\n<img src=\"shell.png\" class=\"img-zoomable\" />\n  \n  \n  \n如果wifi无法开机自启，在启动项中添加命令：\n\nifconfig ra0 up  \nifconfig rai0 up\n\n<img src=\"startup.png\" class=\"img-zoomable\" />\n  \n  \n  \n意外的是，ac2100的cpu跟k2p相同，但跑分高不少，k2p只有4500：\n  \n<img src=\"k2p.png\" class=\"img-zoomable\" />\n\n","slug":"redmi_ac2100","published":1,"lang":"en","updated":"2022-03-04T14:11:57.000Z","_id":"cl1h685ew000exfdn7p6m9oen","comments":1,"layout":"post","photos":[],"link":"","content":"<p>来自小黄鱼￥119</p>\n<img src=\"ac2100.png\" class=\"img-zoomable\" />\n<p>红米原系统：</p>\n<img src=\"origin_system.png\" class=\"img-zoomable\" />\n<p>检查是否坏块：<a href=\"http://i.lckiss.com/?p=6761\">http://i.lckiss.com/?p=6761</a></p>\n<img src=\"bad_blocks.png\" class=\"img-zoomable\" />\n<p>中奖，没有坏块！</p>\n<p>刷写breed：<a href=\"https://www.lotlab.org/2021/06/13/install-openwrt-on-redmi-ac2100/\">https://www.lotlab.org/2021/06/13/install-openwrt-on-redmi-ac2100/</a></p>\n<img src=\"breed.png\" class=\"img-zoomable\" />\n<p>刷入openwrt，固件来源：<a href=\"https://www.right.com.cn/forum/thread-6529167-1-1.html\">https://www.right.com.cn/forum/thread-6529167-1-1.html</a></p>\n<img src=\"op_overview.png\" class=\"img-zoomable\" />\n<p>检查是否有坏块：</p>\n<img src=\"logs.png\" class=\"img-zoomable\" />\n<img src=\"shell.png\" class=\"img-zoomable\" />\n<p>如果wifi无法开机自启，在启动项中添加命令：</p>\n<p>ifconfig ra0 up<br>\nifconfig rai0 up</p>\n<img src=\"startup.png\" class=\"img-zoomable\" />\n<p>意外的是，ac2100的cpu跟k2p相同，但跑分高不少，k2p只有4500：</p>\n<img src=\"k2p.png\" class=\"img-zoomable\" />\n","site":{"data":{}},"excerpt":"","more":"<p>来自小黄鱼￥119</p>\n<img src=\"ac2100.png\" class=\"img-zoomable\" />\n<p>红米原系统：</p>\n<img src=\"origin_system.png\" class=\"img-zoomable\" />\n<p>检查是否坏块：<a href=\"http://i.lckiss.com/?p=6761\">http://i.lckiss.com/?p=6761</a></p>\n<img src=\"bad_blocks.png\" class=\"img-zoomable\" />\n<p>中奖，没有坏块！</p>\n<p>刷写breed：<a href=\"https://www.lotlab.org/2021/06/13/install-openwrt-on-redmi-ac2100/\">https://www.lotlab.org/2021/06/13/install-openwrt-on-redmi-ac2100/</a></p>\n<img src=\"breed.png\" class=\"img-zoomable\" />\n<p>刷入openwrt，固件来源：<a href=\"https://www.right.com.cn/forum/thread-6529167-1-1.html\">https://www.right.com.cn/forum/thread-6529167-1-1.html</a></p>\n<img src=\"op_overview.png\" class=\"img-zoomable\" />\n<p>检查是否有坏块：</p>\n<img src=\"logs.png\" class=\"img-zoomable\" />\n<img src=\"shell.png\" class=\"img-zoomable\" />\n<p>如果wifi无法开机自启，在启动项中添加命令：</p>\n<p>ifconfig ra0 up<br>\nifconfig rai0 up</p>\n<img src=\"startup.png\" class=\"img-zoomable\" />\n<p>意外的是，ac2100的cpu跟k2p相同，但跑分高不少，k2p只有4500：</p>\n<img src=\"k2p.png\" class=\"img-zoomable\" />\n"},{"title":"wireguard远程回家","catalog":true,"date":"2022-03-21T12:01:00.000Z","subtitle":"异地组网神器","sticky":999,"header-img":"/img/header_img/newhome_bg.jpg","_content":"\n远程桌面访问可以用向日葵、todesk等工具，ssh可利用frp内网穿透实现，但每个服务都要映射端口很繁琐，尤其是端口多挨个配置也费劲，比如这77个端口:\n\n<img src=\"frp.png\" style=\"width: 300px\" class=\"img-zoomable\" />\n\n<br/>\n\n换成vpn异地组网可以有效解决以上问题，在外远程访问家庭内网只需打开vpn开关，跟家里访问一模一样，无需额外端口映射。\n\n从安全方面来说，对外暴露的攻击面越大风险越高，相比frp暴露77个端口，vpn只需暴露一个，相对安全得多。\n\nvpn产品众多，对比发现wireguard效率高，速度快，下面介绍2种方案，分别有公网ip、无公网ip搭建wg。\n\n<br/>\n\n# 一、有公网ip\n\n## 映射域名\n\n如果家里宽带是固定公网ip直接A记录绑定域名就行，如果是动态公网ip则用ddns绑定，ddns可以跑在家内网任何一台机器，比如openwrt：\n\n<img src=\"ddns.png\" style=\"width: 200px\" class=\"img-zoomable\" />\n\n<br/>\n\n或者docker跑ddns，映射域名: home.example.com\n\ndocker run -d --name=cf-ddns --restart=always -e API_KEY=*** -e ZONE=example.com -e SUBDOMAIN=home oznu/cloudflare-ddns\n\n也可以使用另一个镜像：\n<ins>https://github.com/favonia/cloudflare-ddns</ins>\n  \n  \n\n## 运行wg\n\n经测试，在openwrt自身docker跑wg会导致客户端连不上，所以要在内网其他任何一台机器运行wg:\n\n```\nmkdir -p /opt/wg-easy\n\ndocker run -d \\\n    --name=wireguard \\\n    -e WG_HOST=home.example.com \\\n    -e WG_PORT=54321 \\\n    -e PASSWORD=yourPassword \\\n    -e WG_DEFAULT_DNS=192.168.2.1 \\\n    -e WG_DEFAULT_ADDRESS=10.13.1.x \\\n    -e WG_ALLOWED_IPS=192.168.2.0/24 \\\n    -e WG_PERSISTENT_KEEPALIVE=10 \\\n    -e TZ=Asia/Shanghai \\\n    -e UI_TRAFFIC_STATS=true \\\n    -v /opt/wg-easy:/etc/wireguard \\\n    -p 54321:51820/udp \\\n    -p 51821:51821/tcp \\\n    --cap-add=NET_ADMIN \\\n    --cap-add=SYS_MODULE \\\n    --sysctl=\"net.ipv4.conf.all.src_valid_mark=1\" \\\n    --sysctl=\"net.ipv4.ip_forward=1\" \\\n    --restart unless-stopped \\\n    ghcr.io/wg-easy/wg-easy\n```\n\n<br/>\n\n## 端口转发\n\n在openwrt主路由设置端口转发，旁路由无法设置wan口端口转发，在 网络 -> 防火墙 -> 端口转发 中设置，假设wg运行在debian，其ip为192.168.2.103，新增规则让外部54321/udp转发到debian的54321/udp端口：\n\n<img src=\"port.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n\n<br/>\n\n## 关闭SFE\n\n在Turbo ACC中关闭SFE，否则客户端可能连不上，“软件流量分载”可以打开：\n\n<img src=\"turboACC.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n\n<br/>\n\n## 添加peer客户端\n\n浏览器打开wg后台: [<ins>http://192.168.2.103:51821</ins>](http://192.168.2.103:51821)，添加一个客户端peer：\n<img src=\"wg.png\" class=\"img-zoomable\" />\n\n<br/>\n\n## 客户端连接\n\n手机扫码连接：\n<img src=\"wg_android.jpeg\" style=\"width: 300px\" class=\"img-zoomable\" />\n\n<br/>\n\n电脑wg客户端导入配置文件：\n<img src=\"wg_windows.jpg\" style=\"width: 400px\" class=\"img-zoomable\" />\n\n\niphone要到美区app store下载wg客户端。\n\n至此可以通过外部4g网络远程访问家里设备：\n\n<img src=\"openwrt.jpeg\" style=\"width: 300px\" class=\"img-zoomable\" />\n\n\n如果把wg客户端配置文件中Allowed IPs改成0.0.0.0/0，意味着所有流量会经过远端peer绕一次，家里挂了梯子，手机也自动拥有科学上网能力。\n\n  \n<br/>\n\n# 二、无公网ip\n\n家里没有公网ip则要使用vps中转，速度依赖vps带宽，没有直连快。\n\n原理是利用frp把内网54321/udp暴露到公网4001/udp，wg客户端使用公网4001/udp进行连接\n\n## frp内网穿透\n\nvim /opt/frpc.ini\n```\n[common]\nserver_addr = vps公网ip\nserver_port = 2000\nprotocol = tcp\ntoken = password\n\n[wireguard_web]\ntype = tcp\nlocal_ip = 127.0.0.1\nlocal_port = 51821\nremote_port = 4000\nuse_encryption = true\nuse_compression = true\n\n[wireguard_udp]\ntype = udp\nlocal_ip = 127.0.0.1\nlocal_port = 54321\nremote_port = 4001\nuse_encryption = true\nuse_compression = true\n\n```\n\n启动frp：\n\ndocker run -d --name frpc --restart=always -v /opt/frpc.ini:/etc/frp/frpc.ini --network=host snowdreamtech/frpc\n\n<br/>\n\n## 运行wg\n\n运行wireguard：\n\n```\nmkdir -p /opt/wg-easy\n\ndocker run -d \\\n    --name=wireguard \\\n    -e WG_HOST=vps公网ip \\\n    -e WG_PORT=4001 \\\n    -e PASSWORD=yourPassword \\\n    -e WG_DEFAULT_DNS=192.168.2.1 \\\n    -e WG_DEFAULT_ADDRESS=10.13.100.x \\\n    -e WG_ALLOWED_IPS=192.168.2.0/24 \\\n    -e WG_PERSISTENT_KEEPALIVE=10 \\\n    -e TZ=Asia/Shanghai \\\n    -e UI_TRAFFIC_STATS=true \\\n    -v /opt/wg-easy:/etc/wireguard \\\n    -p 54321:51820/udp \\\n    -p 51821:51821/tcp \\\n    --cap-add=NET_ADMIN \\\n    --cap-add=SYS_MODULE \\\n    --sysctl=\"net.ipv4.conf.all.src_valid_mark=1\" \\\n    --sysctl=\"net.ipv4.ip_forward=1\" \\\n    --restart unless-stopped \\\n    ghcr.io/wg-easy/wg-easy\n```\n通过vps中转就不需要主路由端口转发，浏览器直接登录wg后台添加客户端，手机扫码测试。\n\n","source":"_posts/en/wireguard.md","raw":"---\ntitle: wireguard远程回家\ncatalog: true\ndate: 2022-03-21 20:01:00\nsubtitle: 异地组网神器\nsticky: 999\nheader-img: /img/header_img/newhome_bg.jpg\ntags:\n- wireguard\n- openwrt\ncategories:\n- network\n---\n\n远程桌面访问可以用向日葵、todesk等工具，ssh可利用frp内网穿透实现，但每个服务都要映射端口很繁琐，尤其是端口多挨个配置也费劲，比如这77个端口:\n\n<img src=\"frp.png\" style=\"width: 300px\" class=\"img-zoomable\" />\n\n<br/>\n\n换成vpn异地组网可以有效解决以上问题，在外远程访问家庭内网只需打开vpn开关，跟家里访问一模一样，无需额外端口映射。\n\n从安全方面来说，对外暴露的攻击面越大风险越高，相比frp暴露77个端口，vpn只需暴露一个，相对安全得多。\n\nvpn产品众多，对比发现wireguard效率高，速度快，下面介绍2种方案，分别有公网ip、无公网ip搭建wg。\n\n<br/>\n\n# 一、有公网ip\n\n## 映射域名\n\n如果家里宽带是固定公网ip直接A记录绑定域名就行，如果是动态公网ip则用ddns绑定，ddns可以跑在家内网任何一台机器，比如openwrt：\n\n<img src=\"ddns.png\" style=\"width: 200px\" class=\"img-zoomable\" />\n\n<br/>\n\n或者docker跑ddns，映射域名: home.example.com\n\ndocker run -d --name=cf-ddns --restart=always -e API_KEY=*** -e ZONE=example.com -e SUBDOMAIN=home oznu/cloudflare-ddns\n\n也可以使用另一个镜像：\n<ins>https://github.com/favonia/cloudflare-ddns</ins>\n  \n  \n\n## 运行wg\n\n经测试，在openwrt自身docker跑wg会导致客户端连不上，所以要在内网其他任何一台机器运行wg:\n\n```\nmkdir -p /opt/wg-easy\n\ndocker run -d \\\n    --name=wireguard \\\n    -e WG_HOST=home.example.com \\\n    -e WG_PORT=54321 \\\n    -e PASSWORD=yourPassword \\\n    -e WG_DEFAULT_DNS=192.168.2.1 \\\n    -e WG_DEFAULT_ADDRESS=10.13.1.x \\\n    -e WG_ALLOWED_IPS=192.168.2.0/24 \\\n    -e WG_PERSISTENT_KEEPALIVE=10 \\\n    -e TZ=Asia/Shanghai \\\n    -e UI_TRAFFIC_STATS=true \\\n    -v /opt/wg-easy:/etc/wireguard \\\n    -p 54321:51820/udp \\\n    -p 51821:51821/tcp \\\n    --cap-add=NET_ADMIN \\\n    --cap-add=SYS_MODULE \\\n    --sysctl=\"net.ipv4.conf.all.src_valid_mark=1\" \\\n    --sysctl=\"net.ipv4.ip_forward=1\" \\\n    --restart unless-stopped \\\n    ghcr.io/wg-easy/wg-easy\n```\n\n<br/>\n\n## 端口转发\n\n在openwrt主路由设置端口转发，旁路由无法设置wan口端口转发，在 网络 -> 防火墙 -> 端口转发 中设置，假设wg运行在debian，其ip为192.168.2.103，新增规则让外部54321/udp转发到debian的54321/udp端口：\n\n<img src=\"port.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n\n<br/>\n\n## 关闭SFE\n\n在Turbo ACC中关闭SFE，否则客户端可能连不上，“软件流量分载”可以打开：\n\n<img src=\"turboACC.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n\n<br/>\n\n## 添加peer客户端\n\n浏览器打开wg后台: [<ins>http://192.168.2.103:51821</ins>](http://192.168.2.103:51821)，添加一个客户端peer：\n<img src=\"wg.png\" class=\"img-zoomable\" />\n\n<br/>\n\n## 客户端连接\n\n手机扫码连接：\n<img src=\"wg_android.jpeg\" style=\"width: 300px\" class=\"img-zoomable\" />\n\n<br/>\n\n电脑wg客户端导入配置文件：\n<img src=\"wg_windows.jpg\" style=\"width: 400px\" class=\"img-zoomable\" />\n\n\niphone要到美区app store下载wg客户端。\n\n至此可以通过外部4g网络远程访问家里设备：\n\n<img src=\"openwrt.jpeg\" style=\"width: 300px\" class=\"img-zoomable\" />\n\n\n如果把wg客户端配置文件中Allowed IPs改成0.0.0.0/0，意味着所有流量会经过远端peer绕一次，家里挂了梯子，手机也自动拥有科学上网能力。\n\n  \n<br/>\n\n# 二、无公网ip\n\n家里没有公网ip则要使用vps中转，速度依赖vps带宽，没有直连快。\n\n原理是利用frp把内网54321/udp暴露到公网4001/udp，wg客户端使用公网4001/udp进行连接\n\n## frp内网穿透\n\nvim /opt/frpc.ini\n```\n[common]\nserver_addr = vps公网ip\nserver_port = 2000\nprotocol = tcp\ntoken = password\n\n[wireguard_web]\ntype = tcp\nlocal_ip = 127.0.0.1\nlocal_port = 51821\nremote_port = 4000\nuse_encryption = true\nuse_compression = true\n\n[wireguard_udp]\ntype = udp\nlocal_ip = 127.0.0.1\nlocal_port = 54321\nremote_port = 4001\nuse_encryption = true\nuse_compression = true\n\n```\n\n启动frp：\n\ndocker run -d --name frpc --restart=always -v /opt/frpc.ini:/etc/frp/frpc.ini --network=host snowdreamtech/frpc\n\n<br/>\n\n## 运行wg\n\n运行wireguard：\n\n```\nmkdir -p /opt/wg-easy\n\ndocker run -d \\\n    --name=wireguard \\\n    -e WG_HOST=vps公网ip \\\n    -e WG_PORT=4001 \\\n    -e PASSWORD=yourPassword \\\n    -e WG_DEFAULT_DNS=192.168.2.1 \\\n    -e WG_DEFAULT_ADDRESS=10.13.100.x \\\n    -e WG_ALLOWED_IPS=192.168.2.0/24 \\\n    -e WG_PERSISTENT_KEEPALIVE=10 \\\n    -e TZ=Asia/Shanghai \\\n    -e UI_TRAFFIC_STATS=true \\\n    -v /opt/wg-easy:/etc/wireguard \\\n    -p 54321:51820/udp \\\n    -p 51821:51821/tcp \\\n    --cap-add=NET_ADMIN \\\n    --cap-add=SYS_MODULE \\\n    --sysctl=\"net.ipv4.conf.all.src_valid_mark=1\" \\\n    --sysctl=\"net.ipv4.ip_forward=1\" \\\n    --restart unless-stopped \\\n    ghcr.io/wg-easy/wg-easy\n```\n通过vps中转就不需要主路由端口转发，浏览器直接登录wg后台添加客户端，手机扫码测试。\n\n","slug":"wireguard","published":1,"lang":"en","updated":"2022-03-21T12:01:00.000Z","_id":"cl1h685f1000nxfdn594j7nyf","comments":1,"layout":"post","photos":[],"link":"","content":"<p>远程桌面访问可以用向日葵、todesk等工具，ssh可利用frp内网穿透实现，但每个服务都要映射端口很繁琐，尤其是端口多挨个配置也费劲，比如这77个端口:</p>\n<img src=\"frp.png\" style=\"width: 300px\" class=\"img-zoomable\" />\n<br/>\n<p>换成vpn异地组网可以有效解决以上问题，在外远程访问家庭内网只需打开vpn开关，跟家里访问一模一样，无需额外端口映射。</p>\n<p>从安全方面来说，对外暴露的攻击面越大风险越高，相比frp暴露77个端口，vpn只需暴露一个，相对安全得多。</p>\n<p>vpn产品众多，对比发现wireguard效率高，速度快，下面介绍2种方案，分别有公网ip、无公网ip搭建wg。</p>\n<br/>\n<h1>一、有公网ip</h1>\n<h2 id=\"映射域名\">映射域名</h2>\n<p>如果家里宽带是固定公网ip直接A记录绑定域名就行，如果是动态公网ip则用ddns绑定，ddns可以跑在家内网任何一台机器，比如openwrt：</p>\n<img src=\"ddns.png\" style=\"width: 200px\" class=\"img-zoomable\" />\n<br/>\n<p>或者docker跑ddns，映射域名: <a href=\"http://home.example.com\">home.example.com</a></p>\n<p>docker run -d --name=cf-ddns --restart=always -e API_KEY=*** -e <a href=\"http://ZONE=example.com\">ZONE=example.com</a> -e SUBDOMAIN=home oznu/cloudflare-ddns</p>\n<p>也可以使用另一个镜像：<br>\n<ins><a href=\"https://github.com/favonia/cloudflare-ddns\">https://github.com/favonia/cloudflare-ddns</a></ins></p>\n<h2 id=\"运行wg\">运行wg</h2>\n<p>经测试，在openwrt自身docker跑wg会导致客户端连不上，所以要在内网其他任何一台机器运行wg:</p>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir -p /opt/wg-easy</span><br><span class=\"line\"></span><br><span class=\"line\">docker <span class=\"built_in\">run</span> -d \\</span><br><span class=\"line\">    <span class=\"attribute\">--name</span>=wireguard \\</span><br><span class=\"line\">    -e <span class=\"attribute\">WG_HOST</span>=home.example.com \\</span><br><span class=\"line\">    -e <span class=\"attribute\">WG_PORT</span>=54321 \\</span><br><span class=\"line\">    -e <span class=\"attribute\">PASSWORD</span>=yourPassword \\</span><br><span class=\"line\">    -e <span class=\"attribute\">WG_DEFAULT_DNS</span>=192.168.2.1 \\</span><br><span class=\"line\">    -e <span class=\"attribute\">WG_DEFAULT_ADDRESS</span>=10.13.1.x \\</span><br><span class=\"line\">    -e <span class=\"attribute\">WG_ALLOWED_IPS</span>=192.168.2.0/24 \\</span><br><span class=\"line\">    -e <span class=\"attribute\">WG_PERSISTENT_KEEPALIVE</span>=10 \\</span><br><span class=\"line\">    -e <span class=\"attribute\">TZ</span>=Asia/Shanghai \\</span><br><span class=\"line\">    -e <span class=\"attribute\">UI_TRAFFIC_STATS</span>=<span class=\"literal\">true</span> \\</span><br><span class=\"line\">    -v /opt/wg-easy:/etc/wireguard \\</span><br><span class=\"line\">    -p 54321:51820/udp \\</span><br><span class=\"line\">    -p 51821:51821/tcp \\</span><br><span class=\"line\">    <span class=\"attribute\">--cap-add</span>=NET_ADMIN \\</span><br><span class=\"line\">    <span class=\"attribute\">--cap-add</span>=SYS_MODULE \\</span><br><span class=\"line\">    <span class=\"attribute\">--sysctl</span>=<span class=\"string\">&quot;net.ipv4.conf.all.src_valid_mark=1&quot;</span> \\</span><br><span class=\"line\">    <span class=\"attribute\">--sysctl</span>=<span class=\"string\">&quot;net.ipv4.ip_forward=1&quot;</span> \\</span><br><span class=\"line\">    --restart unless-stopped \\</span><br><span class=\"line\">    ghcr.io/wg-easy/wg-easy</span><br></pre></td></tr></table></figure>\n<br/>\n<h2 id=\"端口转发\">端口转发</h2>\n<p>在openwrt主路由设置端口转发，旁路由无法设置wan口端口转发，在 网络 -&gt; 防火墙 -&gt; 端口转发 中设置，假设wg运行在debian，其ip为192.168.2.103，新增规则让外部54321/udp转发到debian的54321/udp端口：</p>\n<img src=\"port.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n<br/>\n<h2 id=\"关闭SFE\">关闭SFE</h2>\n<p>在Turbo ACC中关闭SFE，否则客户端可能连不上，“软件流量分载”可以打开：</p>\n<img src=\"turboACC.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n<br/>\n<h2 id=\"添加peer客户端\">添加peer客户端</h2>\n<p>浏览器打开wg后台: <a href=\"http://192.168.2.103:51821\"><ins>http://192.168.2.103:51821</ins></a>，添加一个客户端peer：<br>\n<img src=\"wg.png\" class=\"img-zoomable\" /></p>\n<br/>\n<h2 id=\"客户端连接\">客户端连接</h2>\n<p>手机扫码连接：<br>\n<img src=\"wg_android.jpeg\" style=\"width: 300px\" class=\"img-zoomable\" /></p>\n<br/>\n<p>电脑wg客户端导入配置文件：<br>\n<img src=\"wg_windows.jpg\" style=\"width: 400px\" class=\"img-zoomable\" /></p>\n<p>iphone要到美区app store下载wg客户端。</p>\n<p>至此可以通过外部4g网络远程访问家里设备：</p>\n<img src=\"openwrt.jpeg\" style=\"width: 300px\" class=\"img-zoomable\" />\n<p>如果把wg客户端配置文件中Allowed IPs改成0.0.0.0/0，意味着所有流量会经过远端peer绕一次，家里挂了梯子，手机也自动拥有科学上网能力。</p>\n<br/>\n<h1>二、无公网ip</h1>\n<p>家里没有公网ip则要使用vps中转，速度依赖vps带宽，没有直连快。</p>\n<p>原理是利用frp把内网54321/udp暴露到公网4001/udp，wg客户端使用公网4001/udp进行连接</p>\n<h2 id=\"frp内网穿透\">frp内网穿透</h2>\n<p>vim /opt/frpc.ini</p>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">[common]</span></span><br><span class=\"line\"><span class=\"attr\">server_addr</span> = vps公网ip</span><br><span class=\"line\"><span class=\"attr\">server_port</span> = <span class=\"number\">2000</span></span><br><span class=\"line\"><span class=\"attr\">protocol</span> = tcp</span><br><span class=\"line\"><span class=\"attr\">token</span> = password</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">[wireguard_web]</span></span><br><span class=\"line\"><span class=\"attr\">type</span> = tcp</span><br><span class=\"line\"><span class=\"attr\">local_ip</span> = <span class=\"number\">127.0</span>.<span class=\"number\">0.1</span></span><br><span class=\"line\"><span class=\"attr\">local_port</span> = <span class=\"number\">51821</span></span><br><span class=\"line\"><span class=\"attr\">remote_port</span> = <span class=\"number\">4000</span></span><br><span class=\"line\"><span class=\"attr\">use_encryption</span> = <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">use_compression</span> = <span class=\"literal\">true</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">[wireguard_udp]</span></span><br><span class=\"line\"><span class=\"attr\">type</span> = udp</span><br><span class=\"line\"><span class=\"attr\">local_ip</span> = <span class=\"number\">127.0</span>.<span class=\"number\">0.1</span></span><br><span class=\"line\"><span class=\"attr\">local_port</span> = <span class=\"number\">54321</span></span><br><span class=\"line\"><span class=\"attr\">remote_port</span> = <span class=\"number\">4001</span></span><br><span class=\"line\"><span class=\"attr\">use_encryption</span> = <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">use_compression</span> = <span class=\"literal\">true</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>启动frp：</p>\n<p>docker run -d --name frpc --restart=always -v /opt/frpc.ini:/etc/frp/frpc.ini --network=host snowdreamtech/frpc</p>\n<br/>\n<h2 id=\"运行wg-2\">运行wg</h2>\n<p>运行wireguard：</p>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir -p /opt/wg-easy</span><br><span class=\"line\"></span><br><span class=\"line\">docker <span class=\"built_in\">run</span> -d \\</span><br><span class=\"line\">    <span class=\"attribute\">--name</span>=wireguard \\</span><br><span class=\"line\">    -e <span class=\"attribute\">WG_HOST</span>=vps公网ip \\</span><br><span class=\"line\">    -e <span class=\"attribute\">WG_PORT</span>=4001 \\</span><br><span class=\"line\">    -e <span class=\"attribute\">PASSWORD</span>=yourPassword \\</span><br><span class=\"line\">    -e <span class=\"attribute\">WG_DEFAULT_DNS</span>=192.168.2.1 \\</span><br><span class=\"line\">    -e <span class=\"attribute\">WG_DEFAULT_ADDRESS</span>=10.13.100.x \\</span><br><span class=\"line\">    -e <span class=\"attribute\">WG_ALLOWED_IPS</span>=192.168.2.0/24 \\</span><br><span class=\"line\">    -e <span class=\"attribute\">WG_PERSISTENT_KEEPALIVE</span>=10 \\</span><br><span class=\"line\">    -e <span class=\"attribute\">TZ</span>=Asia/Shanghai \\</span><br><span class=\"line\">    -e <span class=\"attribute\">UI_TRAFFIC_STATS</span>=<span class=\"literal\">true</span> \\</span><br><span class=\"line\">    -v /opt/wg-easy:/etc/wireguard \\</span><br><span class=\"line\">    -p 54321:51820/udp \\</span><br><span class=\"line\">    -p 51821:51821/tcp \\</span><br><span class=\"line\">    <span class=\"attribute\">--cap-add</span>=NET_ADMIN \\</span><br><span class=\"line\">    <span class=\"attribute\">--cap-add</span>=SYS_MODULE \\</span><br><span class=\"line\">    <span class=\"attribute\">--sysctl</span>=<span class=\"string\">&quot;net.ipv4.conf.all.src_valid_mark=1&quot;</span> \\</span><br><span class=\"line\">    <span class=\"attribute\">--sysctl</span>=<span class=\"string\">&quot;net.ipv4.ip_forward=1&quot;</span> \\</span><br><span class=\"line\">    --restart unless-stopped \\</span><br><span class=\"line\">    ghcr.io/wg-easy/wg-easy</span><br></pre></td></tr></table></figure>\n<p>通过vps中转就不需要主路由端口转发，浏览器直接登录wg后台添加客户端，手机扫码测试。</p>\n","site":{"data":{}},"excerpt":"","more":"<p>远程桌面访问可以用向日葵、todesk等工具，ssh可利用frp内网穿透实现，但每个服务都要映射端口很繁琐，尤其是端口多挨个配置也费劲，比如这77个端口:</p>\n<img src=\"frp.png\" style=\"width: 300px\" class=\"img-zoomable\" />\n<br/>\n<p>换成vpn异地组网可以有效解决以上问题，在外远程访问家庭内网只需打开vpn开关，跟家里访问一模一样，无需额外端口映射。</p>\n<p>从安全方面来说，对外暴露的攻击面越大风险越高，相比frp暴露77个端口，vpn只需暴露一个，相对安全得多。</p>\n<p>vpn产品众多，对比发现wireguard效率高，速度快，下面介绍2种方案，分别有公网ip、无公网ip搭建wg。</p>\n<br/>\n<h1>一、有公网ip</h1>\n<h2 id=\"映射域名\">映射域名</h2>\n<p>如果家里宽带是固定公网ip直接A记录绑定域名就行，如果是动态公网ip则用ddns绑定，ddns可以跑在家内网任何一台机器，比如openwrt：</p>\n<img src=\"ddns.png\" style=\"width: 200px\" class=\"img-zoomable\" />\n<br/>\n<p>或者docker跑ddns，映射域名: <a href=\"http://home.example.com\">home.example.com</a></p>\n<p>docker run -d --name=cf-ddns --restart=always -e API_KEY=*** -e <a href=\"http://ZONE=example.com\">ZONE=example.com</a> -e SUBDOMAIN=home oznu/cloudflare-ddns</p>\n<p>也可以使用另一个镜像：<br>\n<ins><a href=\"https://github.com/favonia/cloudflare-ddns\">https://github.com/favonia/cloudflare-ddns</a></ins></p>\n<h2 id=\"运行wg\">运行wg</h2>\n<p>经测试，在openwrt自身docker跑wg会导致客户端连不上，所以要在内网其他任何一台机器运行wg:</p>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir -p /opt/wg-easy</span><br><span class=\"line\"></span><br><span class=\"line\">docker <span class=\"built_in\">run</span> -d \\</span><br><span class=\"line\">    <span class=\"attribute\">--name</span>=wireguard \\</span><br><span class=\"line\">    -e <span class=\"attribute\">WG_HOST</span>=home.example.com \\</span><br><span class=\"line\">    -e <span class=\"attribute\">WG_PORT</span>=54321 \\</span><br><span class=\"line\">    -e <span class=\"attribute\">PASSWORD</span>=yourPassword \\</span><br><span class=\"line\">    -e <span class=\"attribute\">WG_DEFAULT_DNS</span>=192.168.2.1 \\</span><br><span class=\"line\">    -e <span class=\"attribute\">WG_DEFAULT_ADDRESS</span>=10.13.1.x \\</span><br><span class=\"line\">    -e <span class=\"attribute\">WG_ALLOWED_IPS</span>=192.168.2.0/24 \\</span><br><span class=\"line\">    -e <span class=\"attribute\">WG_PERSISTENT_KEEPALIVE</span>=10 \\</span><br><span class=\"line\">    -e <span class=\"attribute\">TZ</span>=Asia/Shanghai \\</span><br><span class=\"line\">    -e <span class=\"attribute\">UI_TRAFFIC_STATS</span>=<span class=\"literal\">true</span> \\</span><br><span class=\"line\">    -v /opt/wg-easy:/etc/wireguard \\</span><br><span class=\"line\">    -p 54321:51820/udp \\</span><br><span class=\"line\">    -p 51821:51821/tcp \\</span><br><span class=\"line\">    <span class=\"attribute\">--cap-add</span>=NET_ADMIN \\</span><br><span class=\"line\">    <span class=\"attribute\">--cap-add</span>=SYS_MODULE \\</span><br><span class=\"line\">    <span class=\"attribute\">--sysctl</span>=<span class=\"string\">&quot;net.ipv4.conf.all.src_valid_mark=1&quot;</span> \\</span><br><span class=\"line\">    <span class=\"attribute\">--sysctl</span>=<span class=\"string\">&quot;net.ipv4.ip_forward=1&quot;</span> \\</span><br><span class=\"line\">    --restart unless-stopped \\</span><br><span class=\"line\">    ghcr.io/wg-easy/wg-easy</span><br></pre></td></tr></table></figure>\n<br/>\n<h2 id=\"端口转发\">端口转发</h2>\n<p>在openwrt主路由设置端口转发，旁路由无法设置wan口端口转发，在 网络 -&gt; 防火墙 -&gt; 端口转发 中设置，假设wg运行在debian，其ip为192.168.2.103，新增规则让外部54321/udp转发到debian的54321/udp端口：</p>\n<img src=\"port.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n<br/>\n<h2 id=\"关闭SFE\">关闭SFE</h2>\n<p>在Turbo ACC中关闭SFE，否则客户端可能连不上，“软件流量分载”可以打开：</p>\n<img src=\"turboACC.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n<br/>\n<h2 id=\"添加peer客户端\">添加peer客户端</h2>\n<p>浏览器打开wg后台: <a href=\"http://192.168.2.103:51821\"><ins>http://192.168.2.103:51821</ins></a>，添加一个客户端peer：<br>\n<img src=\"wg.png\" class=\"img-zoomable\" /></p>\n<br/>\n<h2 id=\"客户端连接\">客户端连接</h2>\n<p>手机扫码连接：<br>\n<img src=\"wg_android.jpeg\" style=\"width: 300px\" class=\"img-zoomable\" /></p>\n<br/>\n<p>电脑wg客户端导入配置文件：<br>\n<img src=\"wg_windows.jpg\" style=\"width: 400px\" class=\"img-zoomable\" /></p>\n<p>iphone要到美区app store下载wg客户端。</p>\n<p>至此可以通过外部4g网络远程访问家里设备：</p>\n<img src=\"openwrt.jpeg\" style=\"width: 300px\" class=\"img-zoomable\" />\n<p>如果把wg客户端配置文件中Allowed IPs改成0.0.0.0/0，意味着所有流量会经过远端peer绕一次，家里挂了梯子，手机也自动拥有科学上网能力。</p>\n<br/>\n<h1>二、无公网ip</h1>\n<p>家里没有公网ip则要使用vps中转，速度依赖vps带宽，没有直连快。</p>\n<p>原理是利用frp把内网54321/udp暴露到公网4001/udp，wg客户端使用公网4001/udp进行连接</p>\n<h2 id=\"frp内网穿透\">frp内网穿透</h2>\n<p>vim /opt/frpc.ini</p>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">[common]</span></span><br><span class=\"line\"><span class=\"attr\">server_addr</span> = vps公网ip</span><br><span class=\"line\"><span class=\"attr\">server_port</span> = <span class=\"number\">2000</span></span><br><span class=\"line\"><span class=\"attr\">protocol</span> = tcp</span><br><span class=\"line\"><span class=\"attr\">token</span> = password</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">[wireguard_web]</span></span><br><span class=\"line\"><span class=\"attr\">type</span> = tcp</span><br><span class=\"line\"><span class=\"attr\">local_ip</span> = <span class=\"number\">127.0</span>.<span class=\"number\">0.1</span></span><br><span class=\"line\"><span class=\"attr\">local_port</span> = <span class=\"number\">51821</span></span><br><span class=\"line\"><span class=\"attr\">remote_port</span> = <span class=\"number\">4000</span></span><br><span class=\"line\"><span class=\"attr\">use_encryption</span> = <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">use_compression</span> = <span class=\"literal\">true</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">[wireguard_udp]</span></span><br><span class=\"line\"><span class=\"attr\">type</span> = udp</span><br><span class=\"line\"><span class=\"attr\">local_ip</span> = <span class=\"number\">127.0</span>.<span class=\"number\">0.1</span></span><br><span class=\"line\"><span class=\"attr\">local_port</span> = <span class=\"number\">54321</span></span><br><span class=\"line\"><span class=\"attr\">remote_port</span> = <span class=\"number\">4001</span></span><br><span class=\"line\"><span class=\"attr\">use_encryption</span> = <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">use_compression</span> = <span class=\"literal\">true</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>启动frp：</p>\n<p>docker run -d --name frpc --restart=always -v /opt/frpc.ini:/etc/frp/frpc.ini --network=host snowdreamtech/frpc</p>\n<br/>\n<h2 id=\"运行wg-2\">运行wg</h2>\n<p>运行wireguard：</p>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir -p /opt/wg-easy</span><br><span class=\"line\"></span><br><span class=\"line\">docker <span class=\"built_in\">run</span> -d \\</span><br><span class=\"line\">    <span class=\"attribute\">--name</span>=wireguard \\</span><br><span class=\"line\">    -e <span class=\"attribute\">WG_HOST</span>=vps公网ip \\</span><br><span class=\"line\">    -e <span class=\"attribute\">WG_PORT</span>=4001 \\</span><br><span class=\"line\">    -e <span class=\"attribute\">PASSWORD</span>=yourPassword \\</span><br><span class=\"line\">    -e <span class=\"attribute\">WG_DEFAULT_DNS</span>=192.168.2.1 \\</span><br><span class=\"line\">    -e <span class=\"attribute\">WG_DEFAULT_ADDRESS</span>=10.13.100.x \\</span><br><span class=\"line\">    -e <span class=\"attribute\">WG_ALLOWED_IPS</span>=192.168.2.0/24 \\</span><br><span class=\"line\">    -e <span class=\"attribute\">WG_PERSISTENT_KEEPALIVE</span>=10 \\</span><br><span class=\"line\">    -e <span class=\"attribute\">TZ</span>=Asia/Shanghai \\</span><br><span class=\"line\">    -e <span class=\"attribute\">UI_TRAFFIC_STATS</span>=<span class=\"literal\">true</span> \\</span><br><span class=\"line\">    -v /opt/wg-easy:/etc/wireguard \\</span><br><span class=\"line\">    -p 54321:51820/udp \\</span><br><span class=\"line\">    -p 51821:51821/tcp \\</span><br><span class=\"line\">    <span class=\"attribute\">--cap-add</span>=NET_ADMIN \\</span><br><span class=\"line\">    <span class=\"attribute\">--cap-add</span>=SYS_MODULE \\</span><br><span class=\"line\">    <span class=\"attribute\">--sysctl</span>=<span class=\"string\">&quot;net.ipv4.conf.all.src_valid_mark=1&quot;</span> \\</span><br><span class=\"line\">    <span class=\"attribute\">--sysctl</span>=<span class=\"string\">&quot;net.ipv4.ip_forward=1&quot;</span> \\</span><br><span class=\"line\">    --restart unless-stopped \\</span><br><span class=\"line\">    ghcr.io/wg-easy/wg-easy</span><br></pre></td></tr></table></figure>\n<p>通过vps中转就不需要主路由端口转发，浏览器直接登录wg后台添加客户端，手机扫码测试。</p>\n"},{"title":"4g随身wifi刷入openwrt","catalog":true,"date":"2022-06-07T13:25:00.000Z","subtitle":"4g wifi dongle with openwrt","sticky":999,"header-img":"/img/header_img/newhome_bg.jpg","_content":"\n刷 google now 推了一篇文章：\n  \n4g 随身 Wi-Fi 刷 openwrt 变成软路由: <ins>[https://qust.me/post/msm8916](https://qust.me/post/msm8916)</ins>\n\n\n\n点进去一看，有点意思，随身wifi居然跑的是android系统，可以刷成debian或openwrt，果断买了博主推荐型号，天天特卖工厂店￥28那款\n\n<img src=\"order.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n\n\n4天后到货：\n\n<img src=\"good.jpg\" style=\"width: 400px\" class=\"img-zoomable\" />\n\n<img src=\"good1.jpg\" style=\"width: 400px\" class=\"img-zoomable\" />\n\n拆下3颗螺丝取下外壳：\n\n<img src=\"good2.jpg\" style=\"width: 400px\" class=\"img-zoomable\" />\n\n丝印为：UFI001C_MB_V01\n\n<img src=\"version.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n\n通电开机，原版android系统信息：\n\n<img src=\"esim.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n\n换自己联通4G卡，测试正常可用，系统默认使用esim（sim卡2），需要切换成自己卡（sim卡1），切换密码：UFIadmin1234：\n\n<img src=\"sim.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n\n原装android系统测速：\n\n<img src=\"android_speed.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n\n\n接下来下载工具开始备份、刷机\n\n下载安装好9008驱动\n\n机身有个按钮，按住通电，连接电脑，在设备管理器可以看到COM口正常识别：\n\n<img src=\"COM.png\" class=\"img-zoomable\" />\n\n安装miko工具备份原版android系统，用于救砖恢复：\n\n<img src=\"miko.png\" class=\"img-zoomable\" />\n\n<img src=\"miko1.png\" class=\"img-zoomable\" />\n\n生成一个3.56G的bin镜像文件\n\n下载搞机工具箱，解压运行不用安装，点击“线刷专区”：\n\n<img src=\"gaoji.png\" class=\"img-zoomable\" />\n\n点击“Fastboot”:\n<img src=\"fastboot.png\" class=\"img-zoomable\" />\n\n\n下载openwrt固件：<ins>[https://www.kancloud.cn/a813630449/ufi_car/2792820](https://www.kancloud.cn/a813630449/ufi_car/2792820)<ins>\n\n作者已经做好了一键刷入脚本，windows点击flash.bat开始刷入固件，期间可能要按几次回车：\n\n<img src=\"flash_openwrt.png\" class=\"img-zoomable\" />\n\n出现all done! 表示刷写完成，手机能搜到wifi：HandSomeMod_7382表示openwrt启动成功，连接wifi，浏览器输入http://192.168.1.1，帐号root，无密码\n\n<img src=\"openwrt.png\" class=\"img-zoomable\" />\n\nssh登录，查看硬件配置：\n\n<img src=\"hardware.png\" class=\"img-zoomable\" />\n\n<img src=\"cpu.png\" class=\"img-zoomable\" />\n\ncpu是4核64位arm架构，指令集偏少\n\n内存385M\n\n磁盘3.2G\n\n硬件配置比市面上大多数硬路由都高 [doge]。\n\n能运行docker\n\n网络通畅，wan口用的4g调制解调器：\n\n<img src=\"modem.png\" class=\"img-zoomable\" />\n\n安装 <ins>[ShellClash](https://github.com/juewuy/ShellClash)</ins> 就能作为简易科学上网软路由：\n\n<img src=\"shellclash.png\" class=\"img-zoomable\" />\n\n速度嘛，跟android原版一样，openwrt测速依然感人，不知道被谁封印了：\n\n<img src=\"openwrt_speed.png\" class=\"img-zoomable\" />\n\n\n使用过程中有次遇到一个问题，web界面无法保存任何配置，ssh登录发现磁盘只读不能写，猜测可能是多次插拔导致：\n\n<img src=\"read-only.jpg\" class=\"img-zoomable\" />\n\n网上查找修复办法，先找出根目录磁盘路径：\n\n<img src=\"disk.png\" class=\"img-zoomable\" />\n\n使用命令修复：e2fsck -y /dev/mmcblk0p14\n\n<img src=\"e2fsck.png\" class=\"img-zoomable\" />\n\n执行完，reboot重启恢复。\n","source":"_posts/en/4g_wifi_dongle.md","raw":"---\ntitle: 4g随身wifi刷入openwrt\ncatalog: true\ndate: 2022-06-07 21:25:00\nsubtitle: 4g wifi dongle with openwrt\nsticky: 999\nheader-img: /img/header_img/newhome_bg.jpg\ntags:\n- 4g\n- wifi\n- dongle\n- openwrt\ncategories:\n- network\n---\n\n刷 google now 推了一篇文章：\n  \n4g 随身 Wi-Fi 刷 openwrt 变成软路由: <ins>[https://qust.me/post/msm8916](https://qust.me/post/msm8916)</ins>\n\n\n\n点进去一看，有点意思，随身wifi居然跑的是android系统，可以刷成debian或openwrt，果断买了博主推荐型号，天天特卖工厂店￥28那款\n\n<img src=\"order.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n\n\n4天后到货：\n\n<img src=\"good.jpg\" style=\"width: 400px\" class=\"img-zoomable\" />\n\n<img src=\"good1.jpg\" style=\"width: 400px\" class=\"img-zoomable\" />\n\n拆下3颗螺丝取下外壳：\n\n<img src=\"good2.jpg\" style=\"width: 400px\" class=\"img-zoomable\" />\n\n丝印为：UFI001C_MB_V01\n\n<img src=\"version.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n\n通电开机，原版android系统信息：\n\n<img src=\"esim.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n\n换自己联通4G卡，测试正常可用，系统默认使用esim（sim卡2），需要切换成自己卡（sim卡1），切换密码：UFIadmin1234：\n\n<img src=\"sim.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n\n原装android系统测速：\n\n<img src=\"android_speed.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n\n\n接下来下载工具开始备份、刷机\n\n下载安装好9008驱动\n\n机身有个按钮，按住通电，连接电脑，在设备管理器可以看到COM口正常识别：\n\n<img src=\"COM.png\" class=\"img-zoomable\" />\n\n安装miko工具备份原版android系统，用于救砖恢复：\n\n<img src=\"miko.png\" class=\"img-zoomable\" />\n\n<img src=\"miko1.png\" class=\"img-zoomable\" />\n\n生成一个3.56G的bin镜像文件\n\n下载搞机工具箱，解压运行不用安装，点击“线刷专区”：\n\n<img src=\"gaoji.png\" class=\"img-zoomable\" />\n\n点击“Fastboot”:\n<img src=\"fastboot.png\" class=\"img-zoomable\" />\n\n\n下载openwrt固件：<ins>[https://www.kancloud.cn/a813630449/ufi_car/2792820](https://www.kancloud.cn/a813630449/ufi_car/2792820)<ins>\n\n作者已经做好了一键刷入脚本，windows点击flash.bat开始刷入固件，期间可能要按几次回车：\n\n<img src=\"flash_openwrt.png\" class=\"img-zoomable\" />\n\n出现all done! 表示刷写完成，手机能搜到wifi：HandSomeMod_7382表示openwrt启动成功，连接wifi，浏览器输入http://192.168.1.1，帐号root，无密码\n\n<img src=\"openwrt.png\" class=\"img-zoomable\" />\n\nssh登录，查看硬件配置：\n\n<img src=\"hardware.png\" class=\"img-zoomable\" />\n\n<img src=\"cpu.png\" class=\"img-zoomable\" />\n\ncpu是4核64位arm架构，指令集偏少\n\n内存385M\n\n磁盘3.2G\n\n硬件配置比市面上大多数硬路由都高 [doge]。\n\n能运行docker\n\n网络通畅，wan口用的4g调制解调器：\n\n<img src=\"modem.png\" class=\"img-zoomable\" />\n\n安装 <ins>[ShellClash](https://github.com/juewuy/ShellClash)</ins> 就能作为简易科学上网软路由：\n\n<img src=\"shellclash.png\" class=\"img-zoomable\" />\n\n速度嘛，跟android原版一样，openwrt测速依然感人，不知道被谁封印了：\n\n<img src=\"openwrt_speed.png\" class=\"img-zoomable\" />\n\n\n使用过程中有次遇到一个问题，web界面无法保存任何配置，ssh登录发现磁盘只读不能写，猜测可能是多次插拔导致：\n\n<img src=\"read-only.jpg\" class=\"img-zoomable\" />\n\n网上查找修复办法，先找出根目录磁盘路径：\n\n<img src=\"disk.png\" class=\"img-zoomable\" />\n\n使用命令修复：e2fsck -y /dev/mmcblk0p14\n\n<img src=\"e2fsck.png\" class=\"img-zoomable\" />\n\n执行完，reboot重启恢复。\n","slug":"4g_wifi_dongle","published":1,"lang":"en","updated":"2022-06-07T13:25:00.000Z","_id":"cl43ya1lc0000gndn8pa72sw0","comments":1,"layout":"post","photos":[],"link":"","content":"<p>刷 google now 推了一篇文章：</p>\n<p>4g 随身 Wi-Fi 刷 openwrt 变成软路由: <ins><a href=\"https://qust.me/post/msm8916\">https://qust.me/post/msm8916</a></ins></p>\n<p>点进去一看，有点意思，随身wifi居然跑的是android系统，可以刷成debian或openwrt，果断买了博主推荐型号，天天特卖工厂店￥28那款</p>\n<img src=\"order.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n<p>4天后到货：</p>\n<img src=\"good.jpg\" style=\"width: 400px\" class=\"img-zoomable\" />\n<img src=\"good1.jpg\" style=\"width: 400px\" class=\"img-zoomable\" />\n<p>拆下3颗螺丝取下外壳：</p>\n<img src=\"good2.jpg\" style=\"width: 400px\" class=\"img-zoomable\" />\n<p>丝印为：UFI001C_MB_V01</p>\n<img src=\"version.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n<p>通电开机，原版android系统信息：</p>\n<img src=\"esim.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n<p>换自己联通4G卡，测试正常可用，系统默认使用esim（sim卡2），需要切换成自己卡（sim卡1），切换密码：UFIadmin1234：</p>\n<img src=\"sim.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n<p>原装android系统测速：</p>\n<img src=\"android_speed.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n<p>接下来下载工具开始备份、刷机</p>\n<p>下载安装好9008驱动</p>\n<p>机身有个按钮，按住通电，连接电脑，在设备管理器可以看到COM口正常识别：</p>\n<img src=\"COM.png\" class=\"img-zoomable\" />\n<p>安装miko工具备份原版android系统，用于救砖恢复：</p>\n<img src=\"miko.png\" class=\"img-zoomable\" />\n<img src=\"miko1.png\" class=\"img-zoomable\" />\n<p>生成一个3.56G的bin镜像文件</p>\n<p>下载搞机工具箱，解压运行不用安装，点击“线刷专区”：</p>\n<img src=\"gaoji.png\" class=\"img-zoomable\" />\n<p>点击“Fastboot”:<br>\n<img src=\"fastboot.png\" class=\"img-zoomable\" /></p>\n<p>下载openwrt固件：<ins><a href=\"https://www.kancloud.cn/a813630449/ufi_car/2792820\">https://www.kancloud.cn/a813630449/ufi_car/2792820</a><ins></p>\n<p>作者已经做好了一键刷入脚本，windows点击flash.bat开始刷入固件，期间可能要按几次回车：</p>\n<img src=\"flash_openwrt.png\" class=\"img-zoomable\" />\n<p>出现all done! 表示刷写完成，手机能搜到wifi：HandSomeMod_7382表示openwrt启动成功，连接wifi，浏览器输入http://192.168.1.1，帐号root，无密码</p>\n<img src=\"openwrt.png\" class=\"img-zoomable\" />\n<p>ssh登录，查看硬件配置：</p>\n<img src=\"hardware.png\" class=\"img-zoomable\" />\n<img src=\"cpu.png\" class=\"img-zoomable\" />\n<p>cpu是4核64位arm架构，指令集偏少</p>\n<p>内存385M</p>\n<p>磁盘3.2G</p>\n<p>硬件配置比市面上大多数硬路由都高 [doge]。</p>\n<p>能运行docker</p>\n<p>网络通畅，wan口用的4g调制解调器：</p>\n<img src=\"modem.png\" class=\"img-zoomable\" />\n<p>安装 <ins><a href=\"https://github.com/juewuy/ShellClash\">ShellClash</a></ins> 就能作为简易科学上网软路由：</p>\n<img src=\"shellclash.png\" class=\"img-zoomable\" />\n<p>速度嘛，跟android原版一样，openwrt测速依然感人，不知道被谁封印了：</p>\n<img src=\"openwrt_speed.png\" class=\"img-zoomable\" />\n<p>使用过程中有次遇到一个问题，web界面无法保存任何配置，ssh登录发现磁盘只读不能写，猜测可能是多次插拔导致：</p>\n<img src=\"read-only.jpg\" class=\"img-zoomable\" />\n<p>网上查找修复办法，先找出根目录磁盘路径：</p>\n<img src=\"disk.png\" class=\"img-zoomable\" />\n<p>使用命令修复：e2fsck -y /dev/mmcblk0p14</p>\n<img src=\"e2fsck.png\" class=\"img-zoomable\" />\n<p>执行完，reboot重启恢复。</p>\n","site":{"data":{}},"excerpt":"","more":"<p>刷 google now 推了一篇文章：</p>\n<p>4g 随身 Wi-Fi 刷 openwrt 变成软路由: <ins><a href=\"https://qust.me/post/msm8916\">https://qust.me/post/msm8916</a></ins></p>\n<p>点进去一看，有点意思，随身wifi居然跑的是android系统，可以刷成debian或openwrt，果断买了博主推荐型号，天天特卖工厂店￥28那款</p>\n<img src=\"order.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n<p>4天后到货：</p>\n<img src=\"good.jpg\" style=\"width: 400px\" class=\"img-zoomable\" />\n<img src=\"good1.jpg\" style=\"width: 400px\" class=\"img-zoomable\" />\n<p>拆下3颗螺丝取下外壳：</p>\n<img src=\"good2.jpg\" style=\"width: 400px\" class=\"img-zoomable\" />\n<p>丝印为：UFI001C_MB_V01</p>\n<img src=\"version.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n<p>通电开机，原版android系统信息：</p>\n<img src=\"esim.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n<p>换自己联通4G卡，测试正常可用，系统默认使用esim（sim卡2），需要切换成自己卡（sim卡1），切换密码：UFIadmin1234：</p>\n<img src=\"sim.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n<p>原装android系统测速：</p>\n<img src=\"android_speed.png\" style=\"width: 400px\" class=\"img-zoomable\" />\n<p>接下来下载工具开始备份、刷机</p>\n<p>下载安装好9008驱动</p>\n<p>机身有个按钮，按住通电，连接电脑，在设备管理器可以看到COM口正常识别：</p>\n<img src=\"COM.png\" class=\"img-zoomable\" />\n<p>安装miko工具备份原版android系统，用于救砖恢复：</p>\n<img src=\"miko.png\" class=\"img-zoomable\" />\n<img src=\"miko1.png\" class=\"img-zoomable\" />\n<p>生成一个3.56G的bin镜像文件</p>\n<p>下载搞机工具箱，解压运行不用安装，点击“线刷专区”：</p>\n<img src=\"gaoji.png\" class=\"img-zoomable\" />\n<p>点击“Fastboot”:<br>\n<img src=\"fastboot.png\" class=\"img-zoomable\" /></p>\n<p>下载openwrt固件：<ins><a href=\"https://www.kancloud.cn/a813630449/ufi_car/2792820\">https://www.kancloud.cn/a813630449/ufi_car/2792820</a><ins></p>\n<p>作者已经做好了一键刷入脚本，windows点击flash.bat开始刷入固件，期间可能要按几次回车：</p>\n<img src=\"flash_openwrt.png\" class=\"img-zoomable\" />\n<p>出现all done! 表示刷写完成，手机能搜到wifi：HandSomeMod_7382表示openwrt启动成功，连接wifi，浏览器输入http://192.168.1.1，帐号root，无密码</p>\n<img src=\"openwrt.png\" class=\"img-zoomable\" />\n<p>ssh登录，查看硬件配置：</p>\n<img src=\"hardware.png\" class=\"img-zoomable\" />\n<img src=\"cpu.png\" class=\"img-zoomable\" />\n<p>cpu是4核64位arm架构，指令集偏少</p>\n<p>内存385M</p>\n<p>磁盘3.2G</p>\n<p>硬件配置比市面上大多数硬路由都高 [doge]。</p>\n<p>能运行docker</p>\n<p>网络通畅，wan口用的4g调制解调器：</p>\n<img src=\"modem.png\" class=\"img-zoomable\" />\n<p>安装 <ins><a href=\"https://github.com/juewuy/ShellClash\">ShellClash</a></ins> 就能作为简易科学上网软路由：</p>\n<img src=\"shellclash.png\" class=\"img-zoomable\" />\n<p>速度嘛，跟android原版一样，openwrt测速依然感人，不知道被谁封印了：</p>\n<img src=\"openwrt_speed.png\" class=\"img-zoomable\" />\n<p>使用过程中有次遇到一个问题，web界面无法保存任何配置，ssh登录发现磁盘只读不能写，猜测可能是多次插拔导致：</p>\n<img src=\"read-only.jpg\" class=\"img-zoomable\" />\n<p>网上查找修复办法，先找出根目录磁盘路径：</p>\n<img src=\"disk.png\" class=\"img-zoomable\" />\n<p>使用命令修复：e2fsck -y /dev/mmcblk0p14</p>\n<img src=\"e2fsck.png\" class=\"img-zoomable\" />\n<p>执行完，reboot重启恢复。</p>\n"},{"title":"omv掉盘","catalog":true,"date":"2024-03-07T13:25:00.000Z","subtitle":"omv openmediavault crash","sticky":999,"header-img":"/img/header_img/newhome_bg.jpg","_content":"\n\n# 告警通知\n\n\n收到报警邮件，提示raid文件系统丢失：\n  \n<img src=\"email-warning.png\" class=\"img-zoomable\" />\n\n\n# 排查故障\n\nssh登录omv，列出磁盘：\n\n<img src=\"list-disks.png\" class=\"img-zoomable\" />\n\n\n对比发现少一块/dev/sdc，omv的磁盘列表还有，像是误显示\n\n<img src=\"web-disks.png\" class=\"img-zoomable\" />\n\n\n最初搭建omv时没有直通整个sata控制器，qm set方式直通的，所以pve宿主机还能看到磁盘，但列表异常，usage显示No，正常该是linux_raid_member：\n\n<img src=\"pve-disks.png\" class=\"img-zoomable\" />\n\n\nomv磁盘阵列没了：\n\n<img src=\"lost-raid.png\" class=\"img-zoomable\" />\n\n\n文件系统丢失：\n\n<img src=\"missing-filesystem.png\" class=\"img-zoomable\" />\n\n<br/>\n<br/>\n\n# 查找办法\n\n网友修复记录：\n<ins>[https://zhuanlan.zhihu.com/p/553047294](https://zhuanlan.zhihu.com/p/553047294)</ins>\n\n\n论坛资料：\n<ins>[https://forum.openmediavault.org/index.php?thread/40522-raid-array-missing](https://forum.openmediavault.org/index.php?thread/40522-raid-array-missing)</ins>\n\n\n命令行检查raid状态\ncat /proc/mdstat\n\n<img src=\"check-raid-status.png\" class=\"img-zoomable\" />\n\nraid状态是inactive，磁盘只有sda、sdb、sdd，同样缺少sdc\n\n检测单块硬盘，sdb：\n\n<img src=\"check-one-disk.png\" class=\"img-zoomable\" />\n\n<br/>\n<br/>\n\n# 处理故障（降级恢复）\n\n先停掉md0：\n\nmdadm --stop /dev/md0\n\n用剩下3块盘修复阵列：\n\n<img src=\"rebuild-raid.png\" class=\"img-zoomable\" />\n\n\n刷新web界面，raid阵列恢复中：\n\n<img src=\"web-rebuild-raid.png\" class=\"img-zoomable\" />\n\n状态是resyncing（pending），等待完成。\n\n\n等了10多个小时收到一封邮件：\n\n<img src=\"email-raid-degraded-event.png\" class=\"img-zoomable\" />\n\n\n不过阵列状态还是一样：\n\n<img src=\"rebuild-completed.png\" class=\"img-zoomable\" />\n\n\n文件系统没挂载：\n\n<img src=\"system-not-mounted.png\" class=\"img-zoomable\" />\n\n\n命令行重新检查raid状态，变为激活：\n\n<img src=\"raid-active.png\" class=\"img-zoomable\" />\n\n\n选中md阵列，点“Mount”即可挂载成功：\n\n<img src=\"mount-filesystem.png\" class=\"img-zoomable\" />\n\n<img src=\"mount-success.png\" class=\"img-zoomable\" />\n\n<img src=\"filesystem.png\" class=\"img-zoomable\" />\n\n\n此时阵列状态显示为降级：\n\n<img src=\"raid-degraded.png\" class=\"img-zoomable\" />\n\n<br/>\n<br/>\n\n# 采购新盘（替换旧盘）\n\n购买新盘，关机拆下旧盘替换新盘，点“Recover”加入阵列：\n\n<img src=\"add-disk.png\" class=\"img-zoomable\" />\n\n\n开始恢复同步：\n\n<img src=\"recover.png\" class=\"img-zoomable\" />\n\n\n睡前看了眼，重建恢复进度90%，心想醒来就ok\n\n第二天打不开：\n\n<img src=\"omv-not-working.png\" style=\"width: 200px\" class=\"img-zoomable\" />\n\nomv的ip也ping不通\n\npve宿主机显示报错：\n\n<img src=\"omv-crash-again.png\" class=\"img-zoomable\" />\n\n\n重启后能识别所有磁盘，包括掉的新盘：\n\n<img src=\"new-disk.png\" class=\"img-zoomable\" />\n\n\n此时raid状态还在重建99.8%，也就是说掉盘发生在99.8%的时候：\n\n<img src=\"percent99.8.png\" class=\"img-zoomable\" />\n\n\n等了大概2分钟重建完成，此时状态：\n\n<img src=\"clean.png\" class=\"img-zoomable\" />\n\n\nmd状态也是active正常：\n\n<img src=\"active.png\" class=\"img-zoomable\" />\n\n\n<br/>\n<br/>\n\n# 记录状态\n\n记录此时（2023-12-29T06:16:00）新盘信息：\n\n<img src=\"smart-info.png\" class=\"img-zoomable\" />\n\n\n截图发给gpt，让它分析这块磁盘状况：\n\n<img src=\"gpt-summary.png\" class=\"img-zoomable\" />\n\n\n此时pve宿主机显示有4块磁盘用于raid，其中VLKH43HZ是采购的新盘：\n\n<img src=\"review.png\" class=\"img-zoomable\" />\n\n\n目前为止3个月一切正常。\n\n\n\n","source":"_posts/en/omv-crash.md","raw":"---\ntitle: omv掉盘\ncatalog: true\ndate: 2024-03-07 21:25:00\nsubtitle: omv openmediavault crash\nsticky: 999\nheader-img: /img/header_img/newhome_bg.jpg\ntags:\n- omv\n- openmediavault\n- crash\ncategories:\n- network\n---\n\n\n# 告警通知\n\n\n收到报警邮件，提示raid文件系统丢失：\n  \n<img src=\"email-warning.png\" class=\"img-zoomable\" />\n\n\n# 排查故障\n\nssh登录omv，列出磁盘：\n\n<img src=\"list-disks.png\" class=\"img-zoomable\" />\n\n\n对比发现少一块/dev/sdc，omv的磁盘列表还有，像是误显示\n\n<img src=\"web-disks.png\" class=\"img-zoomable\" />\n\n\n最初搭建omv时没有直通整个sata控制器，qm set方式直通的，所以pve宿主机还能看到磁盘，但列表异常，usage显示No，正常该是linux_raid_member：\n\n<img src=\"pve-disks.png\" class=\"img-zoomable\" />\n\n\nomv磁盘阵列没了：\n\n<img src=\"lost-raid.png\" class=\"img-zoomable\" />\n\n\n文件系统丢失：\n\n<img src=\"missing-filesystem.png\" class=\"img-zoomable\" />\n\n<br/>\n<br/>\n\n# 查找办法\n\n网友修复记录：\n<ins>[https://zhuanlan.zhihu.com/p/553047294](https://zhuanlan.zhihu.com/p/553047294)</ins>\n\n\n论坛资料：\n<ins>[https://forum.openmediavault.org/index.php?thread/40522-raid-array-missing](https://forum.openmediavault.org/index.php?thread/40522-raid-array-missing)</ins>\n\n\n命令行检查raid状态\ncat /proc/mdstat\n\n<img src=\"check-raid-status.png\" class=\"img-zoomable\" />\n\nraid状态是inactive，磁盘只有sda、sdb、sdd，同样缺少sdc\n\n检测单块硬盘，sdb：\n\n<img src=\"check-one-disk.png\" class=\"img-zoomable\" />\n\n<br/>\n<br/>\n\n# 处理故障（降级恢复）\n\n先停掉md0：\n\nmdadm --stop /dev/md0\n\n用剩下3块盘修复阵列：\n\n<img src=\"rebuild-raid.png\" class=\"img-zoomable\" />\n\n\n刷新web界面，raid阵列恢复中：\n\n<img src=\"web-rebuild-raid.png\" class=\"img-zoomable\" />\n\n状态是resyncing（pending），等待完成。\n\n\n等了10多个小时收到一封邮件：\n\n<img src=\"email-raid-degraded-event.png\" class=\"img-zoomable\" />\n\n\n不过阵列状态还是一样：\n\n<img src=\"rebuild-completed.png\" class=\"img-zoomable\" />\n\n\n文件系统没挂载：\n\n<img src=\"system-not-mounted.png\" class=\"img-zoomable\" />\n\n\n命令行重新检查raid状态，变为激活：\n\n<img src=\"raid-active.png\" class=\"img-zoomable\" />\n\n\n选中md阵列，点“Mount”即可挂载成功：\n\n<img src=\"mount-filesystem.png\" class=\"img-zoomable\" />\n\n<img src=\"mount-success.png\" class=\"img-zoomable\" />\n\n<img src=\"filesystem.png\" class=\"img-zoomable\" />\n\n\n此时阵列状态显示为降级：\n\n<img src=\"raid-degraded.png\" class=\"img-zoomable\" />\n\n<br/>\n<br/>\n\n# 采购新盘（替换旧盘）\n\n购买新盘，关机拆下旧盘替换新盘，点“Recover”加入阵列：\n\n<img src=\"add-disk.png\" class=\"img-zoomable\" />\n\n\n开始恢复同步：\n\n<img src=\"recover.png\" class=\"img-zoomable\" />\n\n\n睡前看了眼，重建恢复进度90%，心想醒来就ok\n\n第二天打不开：\n\n<img src=\"omv-not-working.png\" style=\"width: 200px\" class=\"img-zoomable\" />\n\nomv的ip也ping不通\n\npve宿主机显示报错：\n\n<img src=\"omv-crash-again.png\" class=\"img-zoomable\" />\n\n\n重启后能识别所有磁盘，包括掉的新盘：\n\n<img src=\"new-disk.png\" class=\"img-zoomable\" />\n\n\n此时raid状态还在重建99.8%，也就是说掉盘发生在99.8%的时候：\n\n<img src=\"percent99.8.png\" class=\"img-zoomable\" />\n\n\n等了大概2分钟重建完成，此时状态：\n\n<img src=\"clean.png\" class=\"img-zoomable\" />\n\n\nmd状态也是active正常：\n\n<img src=\"active.png\" class=\"img-zoomable\" />\n\n\n<br/>\n<br/>\n\n# 记录状态\n\n记录此时（2023-12-29T06:16:00）新盘信息：\n\n<img src=\"smart-info.png\" class=\"img-zoomable\" />\n\n\n截图发给gpt，让它分析这块磁盘状况：\n\n<img src=\"gpt-summary.png\" class=\"img-zoomable\" />\n\n\n此时pve宿主机显示有4块磁盘用于raid，其中VLKH43HZ是采购的新盘：\n\n<img src=\"review.png\" class=\"img-zoomable\" />\n\n\n目前为止3个月一切正常。\n\n\n\n","slug":"omv-crash","published":1,"lang":"en","updated":"2024-03-07T13:25:00.000Z","_id":"clutixr7v0000gpdnhgjw9n5o","comments":1,"layout":"post","photos":[],"link":"","content":"<h1>告警通知</h1>\n<p>收到报警邮件，提示raid文件系统丢失：</p>\n<img src=\"email-warning.png\" class=\"img-zoomable\" />\n<h1>排查故障</h1>\n<p>ssh登录omv，列出磁盘：</p>\n<img src=\"list-disks.png\" class=\"img-zoomable\" />\n<p>对比发现少一块/dev/sdc，omv的磁盘列表还有，像是误显示</p>\n<img src=\"web-disks.png\" class=\"img-zoomable\" />\n<p>最初搭建omv时没有直通整个sata控制器，qm set方式直通的，所以pve宿主机还能看到磁盘，但列表异常，usage显示No，正常该是linux_raid_member：</p>\n<img src=\"pve-disks.png\" class=\"img-zoomable\" />\n<p>omv磁盘阵列没了：</p>\n<img src=\"lost-raid.png\" class=\"img-zoomable\" />\n<p>文件系统丢失：</p>\n<img src=\"missing-filesystem.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n<h1>查找办法</h1>\n<p>网友修复记录：<br>\n<ins><a href=\"https://zhuanlan.zhihu.com/p/553047294\">https://zhuanlan.zhihu.com/p/553047294</a></ins></p>\n<p>论坛资料：<br>\n<ins><a href=\"https://forum.openmediavault.org/index.php?thread/40522-raid-array-missing\">https://forum.openmediavault.org/index.php?thread/40522-raid-array-missing</a></ins></p>\n<p>命令行检查raid状态<br>\ncat /proc/mdstat</p>\n<img src=\"check-raid-status.png\" class=\"img-zoomable\" />\n<p>raid状态是inactive，磁盘只有sda、sdb、sdd，同样缺少sdc</p>\n<p>检测单块硬盘，sdb：</p>\n<img src=\"check-one-disk.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n<h1>处理故障（降级恢复）</h1>\n<p>先停掉md0：</p>\n<p>mdadm --stop /dev/md0</p>\n<p>用剩下3块盘修复阵列：</p>\n<img src=\"rebuild-raid.png\" class=\"img-zoomable\" />\n<p>刷新web界面，raid阵列恢复中：</p>\n<img src=\"web-rebuild-raid.png\" class=\"img-zoomable\" />\n<p>状态是resyncing（pending），等待完成。</p>\n<p>等了10多个小时收到一封邮件：</p>\n<img src=\"email-raid-degraded-event.png\" class=\"img-zoomable\" />\n<p>不过阵列状态还是一样：</p>\n<img src=\"rebuild-completed.png\" class=\"img-zoomable\" />\n<p>文件系统没挂载：</p>\n<img src=\"system-not-mounted.png\" class=\"img-zoomable\" />\n<p>命令行重新检查raid状态，变为激活：</p>\n<img src=\"raid-active.png\" class=\"img-zoomable\" />\n<p>选中md阵列，点“Mount”即可挂载成功：</p>\n<img src=\"mount-filesystem.png\" class=\"img-zoomable\" />\n<img src=\"mount-success.png\" class=\"img-zoomable\" />\n<img src=\"filesystem.png\" class=\"img-zoomable\" />\n<p>此时阵列状态显示为降级：</p>\n<img src=\"raid-degraded.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n<h1>采购新盘（替换旧盘）</h1>\n<p>购买新盘，关机拆下旧盘替换新盘，点“Recover”加入阵列：</p>\n<img src=\"add-disk.png\" class=\"img-zoomable\" />\n<p>开始恢复同步：</p>\n<img src=\"recover.png\" class=\"img-zoomable\" />\n<p>睡前看了眼，重建恢复进度90%，心想醒来就ok</p>\n<p>第二天打不开：</p>\n<img src=\"omv-not-working.png\" style=\"width: 200px\" class=\"img-zoomable\" />\n<p>omv的ip也ping不通</p>\n<p>pve宿主机显示报错：</p>\n<img src=\"omv-crash-again.png\" class=\"img-zoomable\" />\n<p>重启后能识别所有磁盘，包括掉的新盘：</p>\n<img src=\"new-disk.png\" class=\"img-zoomable\" />\n<p>此时raid状态还在重建99.8%，也就是说掉盘发生在99.8%的时候：</p>\n<img src=\"percent99.8.png\" class=\"img-zoomable\" />\n<p>等了大概2分钟重建完成，此时状态：</p>\n<img src=\"clean.png\" class=\"img-zoomable\" />\n<p>md状态也是active正常：</p>\n<img src=\"active.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n<h1>记录状态</h1>\n<p>记录此时（2023-12-29T06:16:00）新盘信息：</p>\n<img src=\"smart-info.png\" class=\"img-zoomable\" />\n<p>截图发给gpt，让它分析这块磁盘状况：</p>\n<img src=\"gpt-summary.png\" class=\"img-zoomable\" />\n<p>此时pve宿主机显示有4块磁盘用于raid，其中VLKH43HZ是采购的新盘：</p>\n<img src=\"review.png\" class=\"img-zoomable\" />\n<p>目前为止3个月一切正常。</p>\n","site":{"data":{}},"excerpt":"","more":"<h1>告警通知</h1>\n<p>收到报警邮件，提示raid文件系统丢失：</p>\n<img src=\"email-warning.png\" class=\"img-zoomable\" />\n<h1>排查故障</h1>\n<p>ssh登录omv，列出磁盘：</p>\n<img src=\"list-disks.png\" class=\"img-zoomable\" />\n<p>对比发现少一块/dev/sdc，omv的磁盘列表还有，像是误显示</p>\n<img src=\"web-disks.png\" class=\"img-zoomable\" />\n<p>最初搭建omv时没有直通整个sata控制器，qm set方式直通的，所以pve宿主机还能看到磁盘，但列表异常，usage显示No，正常该是linux_raid_member：</p>\n<img src=\"pve-disks.png\" class=\"img-zoomable\" />\n<p>omv磁盘阵列没了：</p>\n<img src=\"lost-raid.png\" class=\"img-zoomable\" />\n<p>文件系统丢失：</p>\n<img src=\"missing-filesystem.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n<h1>查找办法</h1>\n<p>网友修复记录：<br>\n<ins><a href=\"https://zhuanlan.zhihu.com/p/553047294\">https://zhuanlan.zhihu.com/p/553047294</a></ins></p>\n<p>论坛资料：<br>\n<ins><a href=\"https://forum.openmediavault.org/index.php?thread/40522-raid-array-missing\">https://forum.openmediavault.org/index.php?thread/40522-raid-array-missing</a></ins></p>\n<p>命令行检查raid状态<br>\ncat /proc/mdstat</p>\n<img src=\"check-raid-status.png\" class=\"img-zoomable\" />\n<p>raid状态是inactive，磁盘只有sda、sdb、sdd，同样缺少sdc</p>\n<p>检测单块硬盘，sdb：</p>\n<img src=\"check-one-disk.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n<h1>处理故障（降级恢复）</h1>\n<p>先停掉md0：</p>\n<p>mdadm --stop /dev/md0</p>\n<p>用剩下3块盘修复阵列：</p>\n<img src=\"rebuild-raid.png\" class=\"img-zoomable\" />\n<p>刷新web界面，raid阵列恢复中：</p>\n<img src=\"web-rebuild-raid.png\" class=\"img-zoomable\" />\n<p>状态是resyncing（pending），等待完成。</p>\n<p>等了10多个小时收到一封邮件：</p>\n<img src=\"email-raid-degraded-event.png\" class=\"img-zoomable\" />\n<p>不过阵列状态还是一样：</p>\n<img src=\"rebuild-completed.png\" class=\"img-zoomable\" />\n<p>文件系统没挂载：</p>\n<img src=\"system-not-mounted.png\" class=\"img-zoomable\" />\n<p>命令行重新检查raid状态，变为激活：</p>\n<img src=\"raid-active.png\" class=\"img-zoomable\" />\n<p>选中md阵列，点“Mount”即可挂载成功：</p>\n<img src=\"mount-filesystem.png\" class=\"img-zoomable\" />\n<img src=\"mount-success.png\" class=\"img-zoomable\" />\n<img src=\"filesystem.png\" class=\"img-zoomable\" />\n<p>此时阵列状态显示为降级：</p>\n<img src=\"raid-degraded.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n<h1>采购新盘（替换旧盘）</h1>\n<p>购买新盘，关机拆下旧盘替换新盘，点“Recover”加入阵列：</p>\n<img src=\"add-disk.png\" class=\"img-zoomable\" />\n<p>开始恢复同步：</p>\n<img src=\"recover.png\" class=\"img-zoomable\" />\n<p>睡前看了眼，重建恢复进度90%，心想醒来就ok</p>\n<p>第二天打不开：</p>\n<img src=\"omv-not-working.png\" style=\"width: 200px\" class=\"img-zoomable\" />\n<p>omv的ip也ping不通</p>\n<p>pve宿主机显示报错：</p>\n<img src=\"omv-crash-again.png\" class=\"img-zoomable\" />\n<p>重启后能识别所有磁盘，包括掉的新盘：</p>\n<img src=\"new-disk.png\" class=\"img-zoomable\" />\n<p>此时raid状态还在重建99.8%，也就是说掉盘发生在99.8%的时候：</p>\n<img src=\"percent99.8.png\" class=\"img-zoomable\" />\n<p>等了大概2分钟重建完成，此时状态：</p>\n<img src=\"clean.png\" class=\"img-zoomable\" />\n<p>md状态也是active正常：</p>\n<img src=\"active.png\" class=\"img-zoomable\" />\n<br/>\n<br/>\n<h1>记录状态</h1>\n<p>记录此时（2023-12-29T06:16:00）新盘信息：</p>\n<img src=\"smart-info.png\" class=\"img-zoomable\" />\n<p>截图发给gpt，让它分析这块磁盘状况：</p>\n<img src=\"gpt-summary.png\" class=\"img-zoomable\" />\n<p>此时pve宿主机显示有4块磁盘用于raid，其中VLKH43HZ是采购的新盘：</p>\n<img src=\"review.png\" class=\"img-zoomable\" />\n<p>目前为止3个月一切正常。</p>\n"}],"PostAsset":[{"_id":"source/_posts/en/openwrt/cloudflare_dns.png","slug":"cloudflare_dns.png","post":"cl1h685ev000bxfdnh2sa8ixl","modified":0,"renderable":0},{"_id":"source/_posts/en/openwrt/pve_bridge_eth.png","slug":"pve_bridge_eth.png","post":"cl1h685ev000bxfdnh2sa8ixl","modified":0,"renderable":0},{"_id":"source/_posts/en/openwrt/pve_img.png","slug":"pve_img.png","post":"cl1h685ev000bxfdnh2sa8ixl","modified":0,"renderable":0},{"_id":"source/_posts/en/openwrt/pve_openwrt_bootOrder.png","slug":"pve_openwrt_bootOrder.png","post":"cl1h685ev000bxfdnh2sa8ixl","modified":0,"renderable":0},{"_id":"source/_posts/en/openwrt/pve_openwrt_bridge_eth.png","slug":"pve_openwrt_bridge_eth.png","post":"cl1h685ev000bxfdnh2sa8ixl","modified":0,"renderable":0},{"_id":"source/_posts/en/openwrt/pve_openwrt_ddns.png","slug":"pve_openwrt_ddns.png","post":"cl1h685ev000bxfdnh2sa8ixl","modified":0,"renderable":0},{"_id":"source/_posts/en/openwrt/pve_openwrt_ddns_cf.png","slug":"pve_openwrt_ddns_cf.png","post":"cl1h685ev000bxfdnh2sa8ixl","modified":0,"renderable":0},{"_id":"source/_posts/en/openwrt/pve_openwrt_ddns_cf_detail.png","slug":"pve_openwrt_ddns_cf_detail.png","post":"cl1h685ev000bxfdnh2sa8ixl","modified":0,"renderable":0},{"_id":"source/_posts/en/openwrt/pve_openwrt_ddns_list.png","slug":"pve_openwrt_ddns_list.png","post":"cl1h685ev000bxfdnh2sa8ixl","modified":0,"renderable":0},{"_id":"source/_posts/en/openwrt/pve_openwrt_disk.png","slug":"pve_openwrt_disk.png","post":"cl1h685ev000bxfdnh2sa8ixl","modified":0,"renderable":0},{"_id":"source/_posts/en/openwrt/pve_openwrt_disk_increment.png","slug":"pve_openwrt_disk_increment.png","post":"cl1h685ev000bxfdnh2sa8ixl","modified":0,"renderable":0},{"_id":"source/_posts/en/openwrt/pve_openwrt_disk_info.png","slug":"pve_openwrt_disk_info.png","post":"cl1h685ev000bxfdnh2sa8ixl","modified":0,"renderable":0},{"_id":"source/_posts/en/openwrt/pve_openwrt_eth_full_duplex.png","slug":"pve_openwrt_eth_full_duplex.png","post":"cl1h685ev000bxfdnh2sa8ixl","modified":0,"renderable":0},{"_id":"source/_posts/en/openwrt/pve_openwrt_eths_full_duplex.png","slug":"pve_openwrt_eths_full_duplex.png","post":"cl1h685ev000bxfdnh2sa8ixl","modified":0,"renderable":0},{"_id":"source/_posts/en/openwrt/pve_openwrt_forward.png","slug":"pve_openwrt_forward.png","post":"cl1h685ev000bxfdnh2sa8ixl","modified":0,"renderable":0},{"_id":"source/_posts/en/openwrt/pve_openwrt_ip.png","slug":"pve_openwrt_ip.png","post":"cl1h685ev000bxfdnh2sa8ixl","modified":0,"renderable":0},{"_id":"source/_posts/en/openwrt/pve_openwrt_iperf3.png","slug":"pve_openwrt_iperf3.png","post":"cl1h685ev000bxfdnh2sa8ixl","modified":0,"renderable":0},{"_id":"source/_posts/en/openwrt/pve_openwrt_overview.png","slug":"pve_openwrt_overview.png","post":"cl1h685ev000bxfdnh2sa8ixl","modified":0,"renderable":0},{"_id":"source/_posts/en/openwrt/pve_openwrt_pci.png","slug":"pve_openwrt_pci.png","post":"cl1h685ev000bxfdnh2sa8ixl","modified":0,"renderable":0},{"_id":"source/_posts/en/openwrt/pve_openwrt_qemu_ga.png","slug":"pve_openwrt_qemu_ga.png","post":"cl1h685ev000bxfdnh2sa8ixl","modified":0,"renderable":0},{"_id":"source/_posts/en/openwrt/pve_openwrt_qemu_guest_agent.png","slug":"pve_openwrt_qemu_guest_agent.png","post":"cl1h685ev000bxfdnh2sa8ixl","modified":0,"renderable":0},{"_id":"source/_posts/en/openwrt/upload_img.png","slug":"upload_img.png","post":"cl1h685ev000bxfdnh2sa8ixl","modified":0,"renderable":0},{"_id":"source/_posts/en/non-censor/dns.png","slug":"dns.png","post":"cl1h685es0009xfdn0hjec3hm","modified":0,"renderable":0},{"_id":"source/_posts/en/non-censor/route.png","slug":"route.png","post":"cl1h685es0009xfdn0hjec3hm","modified":0,"renderable":0},{"_id":"source/_posts/en/wireguard/ddns.png","slug":"ddns.png","post":"cl1h685f1000nxfdn594j7nyf","modified":0,"renderable":0},{"_id":"source/_posts/en/wireguard/frp.png","slug":"frp.png","post":"cl1h685f1000nxfdn594j7nyf","modified":0,"renderable":0},{"_id":"source/_posts/en/wireguard/openwrt.jpeg","slug":"openwrt.jpeg","post":"cl1h685f1000nxfdn594j7nyf","modified":0,"renderable":0},{"_id":"source/_posts/en/wireguard/port.png","slug":"port.png","post":"cl1h685f1000nxfdn594j7nyf","modified":0,"renderable":0},{"_id":"source/_posts/en/wireguard/wg.png","slug":"wg.png","post":"cl1h685f1000nxfdn594j7nyf","modified":0,"renderable":0},{"_id":"source/_posts/en/wireguard/wg_android.jpeg","slug":"wg_android.jpeg","post":"cl1h685f1000nxfdn594j7nyf","modified":0,"renderable":0},{"_id":"source/_posts/en/wireguard/wg_windows.jpg","slug":"wg_windows.jpg","post":"cl1h685f1000nxfdn594j7nyf","modified":0,"renderable":0},{"_id":"source/_posts/en/redmi_ac2100/ac2100.png","slug":"ac2100.png","post":"cl1h685ew000exfdn7p6m9oen","modified":0,"renderable":0},{"_id":"source/_posts/en/redmi_ac2100/bad_blocks.png","slug":"bad_blocks.png","post":"cl1h685ew000exfdn7p6m9oen","modified":0,"renderable":0},{"_id":"source/_posts/en/redmi_ac2100/breed.png","slug":"breed.png","post":"cl1h685ew000exfdn7p6m9oen","modified":0,"renderable":0},{"_id":"source/_posts/en/redmi_ac2100/k2p.png","slug":"k2p.png","post":"cl1h685ew000exfdn7p6m9oen","modified":0,"renderable":0},{"_id":"source/_posts/en/redmi_ac2100/logs.png","slug":"logs.png","post":"cl1h685ew000exfdn7p6m9oen","modified":0,"renderable":0},{"_id":"source/_posts/en/redmi_ac2100/op_overview.png","slug":"op_overview.png","post":"cl1h685ew000exfdn7p6m9oen","modified":0,"renderable":0},{"_id":"source/_posts/en/redmi_ac2100/origin_system.png","slug":"origin_system.png","post":"cl1h685ew000exfdn7p6m9oen","modified":0,"renderable":0},{"_id":"source/_posts/en/redmi_ac2100/shell.png","slug":"shell.png","post":"cl1h685ew000exfdn7p6m9oen","modified":0,"renderable":0},{"_id":"source/_posts/en/redmi_ac2100/startup.png","slug":"startup.png","post":"cl1h685ew000exfdn7p6m9oen","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/CrystalDiskInfo.png","slug":"CrystalDiskInfo.png","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/CrystalDiskMark.png","slug":"CrystalDiskMark.png","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/after_group.png","slug":"after_group.png","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/before_group.png","slug":"before_group.png","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/ludashi_bench.png","slug":"ludashi_bench.png","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/pve_IDE.png","slug":"pve_IDE.png","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/pve_dashboard.png","slug":"pve_dashboard.png","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/pve_debian_ubuntu_iperf3.png","slug":"pve_debian_ubuntu_iperf3.png","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/pve_openwrt.png","slug":"pve_openwrt.png","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/pve_scsi.png","slug":"pve_scsi.png","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/pve_standby_power.jpg","slug":"pve_standby_power.jpg","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/pve_subscription.png","slug":"pve_subscription.png","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/pve_ubuntu_iperf3.png","slug":"pve_ubuntu_iperf3.png","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/pve_win10_cpuz_bench.png","slug":"pve_win10_cpuz_bench.png","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/pve_win10_ide_bench.png","slug":"pve_win10_ide_bench.png","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/pve_win10_mine_eth.png","slug":"pve_win10_mine_eth.png","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/pve_win10_no_disk.png","slug":"pve_win10_no_disk.png","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/pve_win10_scsi_bench.png","slug":"pve_win10_scsi_bench.png","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/pve_win10_scsi_disk.png","slug":"pve_win10_scsi_disk.png","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/pve_win10_scsi_driver.png","slug":"pve_win10_scsi_driver.png","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/pve_win10_standby_power.jpg","slug":"pve_win10_standby_power.jpg","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/pve_win10_transfer_speed.jpg","slug":"pve_win10_transfer_speed.jpg","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/pve_win10_ups_usb.png","slug":"pve_win10_ups_usb.png","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/ups.png","slug":"ups.png","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/win10_cpu.png","slug":"win10_cpu.png","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/win10_cpuz.png","slug":"win10_cpuz.png","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/win10_cpuz_bench.png","slug":"win10_cpuz_bench.png","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/win10_cpuz_vega_radeon.png","slug":"win10_cpuz_vega_radeon.png","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/win10_memory.png","slug":"win10_memory.png","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/win10_radeon.png","slug":"win10_radeon.png","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/all_in_one/win10_standby_power.png","slug":"win10_standby_power.png","post":"cl1h685ej0003xfdn8u2sg3v2","modified":0,"renderable":0},{"_id":"source/_posts/en/4g_wifi_dongle/COM.png","slug":"COM.png","post":"cl43ya1lc0000gndn8pa72sw0","modified":0,"renderable":0},{"_id":"source/_posts/en/4g_wifi_dongle/android_speed.png","slug":"android_speed.png","post":"cl43ya1lc0000gndn8pa72sw0","modified":0,"renderable":0},{"_id":"source/_posts/en/4g_wifi_dongle/cpu.png","slug":"cpu.png","post":"cl43ya1lc0000gndn8pa72sw0","modified":0,"renderable":0},{"_id":"source/_posts/en/4g_wifi_dongle/esim.png","slug":"esim.png","post":"cl43ya1lc0000gndn8pa72sw0","modified":0,"renderable":0},{"_id":"source/_posts/en/4g_wifi_dongle/fastboot.png","slug":"fastboot.png","post":"cl43ya1lc0000gndn8pa72sw0","modified":0,"renderable":0},{"_id":"source/_posts/en/4g_wifi_dongle/flash_openwrt.png","slug":"flash_openwrt.png","post":"cl43ya1lc0000gndn8pa72sw0","modified":0,"renderable":0},{"_id":"source/_posts/en/4g_wifi_dongle/gaoji.png","slug":"gaoji.png","post":"cl43ya1lc0000gndn8pa72sw0","modified":0,"renderable":0},{"_id":"source/_posts/en/4g_wifi_dongle/good.jpg","slug":"good.jpg","post":"cl43ya1lc0000gndn8pa72sw0","modified":0,"renderable":0},{"_id":"source/_posts/en/4g_wifi_dongle/good1.jpg","slug":"good1.jpg","post":"cl43ya1lc0000gndn8pa72sw0","modified":0,"renderable":0},{"_id":"source/_posts/en/4g_wifi_dongle/good2.jpg","slug":"good2.jpg","post":"cl43ya1lc0000gndn8pa72sw0","modified":0,"renderable":0},{"_id":"source/_posts/en/4g_wifi_dongle/good2_zoomIn.jpg","slug":"good2_zoomIn.jpg","post":"cl43ya1lc0000gndn8pa72sw0","modified":0,"renderable":0},{"_id":"source/_posts/en/4g_wifi_dongle/good3.jpg","slug":"good3.jpg","post":"cl43ya1lc0000gndn8pa72sw0","modified":0,"renderable":0},{"_id":"source/_posts/en/4g_wifi_dongle/good4.jpg","slug":"good4.jpg","post":"cl43ya1lc0000gndn8pa72sw0","modified":0,"renderable":0},{"_id":"source/_posts/en/4g_wifi_dongle/hardware.png","slug":"hardware.png","post":"cl43ya1lc0000gndn8pa72sw0","modified":0,"renderable":0},{"_id":"source/_posts/en/4g_wifi_dongle/miko.png","slug":"miko.png","post":"cl43ya1lc0000gndn8pa72sw0","modified":0,"renderable":0},{"_id":"source/_posts/en/4g_wifi_dongle/miko1.png","slug":"miko1.png","post":"cl43ya1lc0000gndn8pa72sw0","modified":0,"renderable":0},{"_id":"source/_posts/en/4g_wifi_dongle/modem.png","slug":"modem.png","post":"cl43ya1lc0000gndn8pa72sw0","modified":0,"renderable":0},{"_id":"source/_posts/en/4g_wifi_dongle/openwrt.png","slug":"openwrt.png","post":"cl43ya1lc0000gndn8pa72sw0","modified":0,"renderable":0},{"_id":"source/_posts/en/4g_wifi_dongle/openwrt_speed.png","slug":"openwrt_speed.png","post":"cl43ya1lc0000gndn8pa72sw0","modified":0,"renderable":0},{"_id":"source/_posts/en/4g_wifi_dongle/order.png","slug":"order.png","post":"cl43ya1lc0000gndn8pa72sw0","modified":0,"renderable":0},{"_id":"source/_posts/en/4g_wifi_dongle/read-only.jpg","slug":"read-only.jpg","post":"cl43ya1lc0000gndn8pa72sw0","modified":0,"renderable":0},{"_id":"source/_posts/en/4g_wifi_dongle/shellclash.png","slug":"shellclash.png","post":"cl43ya1lc0000gndn8pa72sw0","modified":0,"renderable":0},{"_id":"source/_posts/en/4g_wifi_dongle/sim.png","slug":"sim.png","post":"cl43ya1lc0000gndn8pa72sw0","modified":0,"renderable":0},{"_id":"source/_posts/en/4g_wifi_dongle/version.png","slug":"version.png","post":"cl43ya1lc0000gndn8pa72sw0","modified":0,"renderable":0},{"_id":"source/_posts/en/4g_wifi_dongle/disk.png","slug":"disk.png","post":"cl43ya1lc0000gndn8pa72sw0","modified":0,"renderable":0},{"_id":"source/_posts/en/4g_wifi_dongle/e2fsck.png","slug":"e2fsck.png","post":"cl43ya1lc0000gndn8pa72sw0","modified":0,"renderable":0},{"_id":"source/_posts/en/openwrt/lan_mac.png","slug":"lan_mac.png","post":"cl1h685ev000bxfdnh2sa8ixl","modified":0,"renderable":0},{"_id":"source/_posts/en/openwrt/n3160_vs_n6000.png","slug":"n3160_vs_n6000.png","post":"cl1h685ev000bxfdnh2sa8ixl","modified":0,"renderable":0},{"_id":"source/_posts/en/openwrt/n6000.jpg","slug":"n6000.jpg","post":"cl1h685ev000bxfdnh2sa8ixl","modified":0,"renderable":0},{"_id":"source/_posts/en/openwrt/openwrt_lan_mac.png","slug":"openwrt_lan_mac.png","post":"cl1h685ev000bxfdnh2sa8ixl","modified":0,"renderable":0},{"_id":"source/_posts/en/openwrt/pve_ethernet_pci.png","slug":"pve_ethernet_pci.png","post":"cl1h685ev000bxfdnh2sa8ixl","modified":0,"renderable":0},{"_id":"source/_posts/en/openwrt/pve_host_ethernet.png","slug":"pve_host_ethernet.png","post":"cl1h685ev000bxfdnh2sa8ixl","modified":0,"renderable":0},{"_id":"source/_posts/en/openwrt/pve_openwrt_pci_ethernets.png","slug":"pve_openwrt_pci_ethernets.png","post":"cl1h685ev000bxfdnh2sa8ixl","modified":0,"renderable":0},{"_id":"source/_posts/en/wireguard/turboACC.png","slug":"turboACC.png","post":"cl1h685f1000nxfdn594j7nyf","modified":0,"renderable":0},{"_id":"source/_posts/en/omv-crash/active.png","slug":"active.png","post":"clutixr7v0000gpdnhgjw9n5o","modified":0,"renderable":0},{"_id":"source/_posts/en/omv-crash/add-disk.png","slug":"add-disk.png","post":"clutixr7v0000gpdnhgjw9n5o","modified":0,"renderable":0},{"_id":"source/_posts/en/omv-crash/check-one-disk.png","slug":"check-one-disk.png","post":"clutixr7v0000gpdnhgjw9n5o","modified":0,"renderable":0},{"_id":"source/_posts/en/omv-crash/check-raid-status.png","slug":"check-raid-status.png","post":"clutixr7v0000gpdnhgjw9n5o","modified":0,"renderable":0},{"_id":"source/_posts/en/omv-crash/clean.png","slug":"clean.png","post":"clutixr7v0000gpdnhgjw9n5o","modified":0,"renderable":0},{"_id":"source/_posts/en/omv-crash/email-raid-degraded-event.png","slug":"email-raid-degraded-event.png","post":"clutixr7v0000gpdnhgjw9n5o","modified":0,"renderable":0},{"_id":"source/_posts/en/omv-crash/email-warning.png","slug":"email-warning.png","post":"clutixr7v0000gpdnhgjw9n5o","modified":0,"renderable":0},{"_id":"source/_posts/en/omv-crash/filesystem.png","slug":"filesystem.png","post":"clutixr7v0000gpdnhgjw9n5o","modified":0,"renderable":0},{"_id":"source/_posts/en/omv-crash/gpt-summary.png","slug":"gpt-summary.png","post":"clutixr7v0000gpdnhgjw9n5o","modified":0,"renderable":0},{"_id":"source/_posts/en/omv-crash/list-disks.png","slug":"list-disks.png","post":"clutixr7v0000gpdnhgjw9n5o","modified":0,"renderable":0},{"_id":"source/_posts/en/omv-crash/lost-raid.png","slug":"lost-raid.png","post":"clutixr7v0000gpdnhgjw9n5o","modified":0,"renderable":0},{"_id":"source/_posts/en/omv-crash/missing-filesystem.png","slug":"missing-filesystem.png","post":"clutixr7v0000gpdnhgjw9n5o","modified":0,"renderable":0},{"_id":"source/_posts/en/omv-crash/mount-filesystem.png","slug":"mount-filesystem.png","post":"clutixr7v0000gpdnhgjw9n5o","modified":0,"renderable":0},{"_id":"source/_posts/en/omv-crash/mount-success.png","slug":"mount-success.png","post":"clutixr7v0000gpdnhgjw9n5o","modified":0,"renderable":0},{"_id":"source/_posts/en/omv-crash/new-disk.png","slug":"new-disk.png","post":"clutixr7v0000gpdnhgjw9n5o","modified":0,"renderable":0},{"_id":"source/_posts/en/omv-crash/omv-crash-again.png","slug":"omv-crash-again.png","post":"clutixr7v0000gpdnhgjw9n5o","modified":0,"renderable":0},{"_id":"source/_posts/en/omv-crash/omv-not-working.png","slug":"omv-not-working.png","post":"clutixr7v0000gpdnhgjw9n5o","modified":0,"renderable":0},{"_id":"source/_posts/en/omv-crash/percent99.8.png","slug":"percent99.8.png","post":"clutixr7v0000gpdnhgjw9n5o","modified":0,"renderable":0},{"_id":"source/_posts/en/omv-crash/pve-disks.png","slug":"pve-disks.png","post":"clutixr7v0000gpdnhgjw9n5o","modified":0,"renderable":0},{"_id":"source/_posts/en/omv-crash/raid-active.png","slug":"raid-active.png","post":"clutixr7v0000gpdnhgjw9n5o","modified":0,"renderable":0},{"_id":"source/_posts/en/omv-crash/raid-degraded.png","slug":"raid-degraded.png","post":"clutixr7v0000gpdnhgjw9n5o","modified":0,"renderable":0},{"_id":"source/_posts/en/omv-crash/rebuild-completed.png","slug":"rebuild-completed.png","post":"clutixr7v0000gpdnhgjw9n5o","modified":0,"renderable":0},{"_id":"source/_posts/en/omv-crash/rebuild-raid.png","slug":"rebuild-raid.png","post":"clutixr7v0000gpdnhgjw9n5o","modified":0,"renderable":0},{"_id":"source/_posts/en/omv-crash/recover.png","slug":"recover.png","post":"clutixr7v0000gpdnhgjw9n5o","modified":0,"renderable":0},{"_id":"source/_posts/en/omv-crash/review.png","slug":"review.png","post":"clutixr7v0000gpdnhgjw9n5o","modified":0,"renderable":0},{"_id":"source/_posts/en/omv-crash/smart-info.png","slug":"smart-info.png","post":"clutixr7v0000gpdnhgjw9n5o","modified":0,"renderable":0},{"_id":"source/_posts/en/omv-crash/system-not-mounted.png","slug":"system-not-mounted.png","post":"clutixr7v0000gpdnhgjw9n5o","modified":0,"renderable":0},{"_id":"source/_posts/en/omv-crash/web-disks.png","slug":"web-disks.png","post":"clutixr7v0000gpdnhgjw9n5o","modified":0,"renderable":0},{"_id":"source/_posts/en/omv-crash/web-rebuild-raid.png","slug":"web-rebuild-raid.png","post":"clutixr7v0000gpdnhgjw9n5o","modified":0,"renderable":0}],"PostCategory":[{"post_id":"cl1h685es0009xfdn0hjec3hm","category_id":"cl1h77ns5000k73dn3t801jcc","_id":"cl1h77ns7000l73dn0ixkgwxu"},{"post_id":"cl1h685ej0003xfdn8u2sg3v2","category_id":"cl1h77ns5000k73dn3t801jcc","_id":"cl1h781sv000m73dndboqc061"},{"post_id":"cl1h685f1000nxfdn594j7nyf","category_id":"cl1h77ns5000k73dn3t801jcc","_id":"cl1h7860t000n73dn2txnfymx"},{"post_id":"cl1h685ew000exfdn7p6m9oen","category_id":"cl1h77ns5000k73dn3t801jcc","_id":"cl1h788yy000o73dn1c670ade"},{"post_id":"cl1h685ev000bxfdnh2sa8ixl","category_id":"cl1h77ns5000k73dn3t801jcc","_id":"cl1h78bu2000p73dneru07nou"},{"post_id":"cl43ya1lc0000gndn8pa72sw0","category_id":"cl1h77ns5000k73dn3t801jcc","_id":"cl43ya1lf0003gndnd44m9dt5"},{"post_id":"clutixr7v0000gpdnhgjw9n5o","category_id":"cl1h77ns5000k73dn3t801jcc","_id":"clutixr7z0002gpdn3xoagwfz"}],"PostTag":[{"post_id":"cl1h685es0009xfdn0hjec3hm","tag_id":"cl1h685ey000gxfdn80r43i33","_id":"cl1h685ez000jxfdn4gno0yup"},{"post_id":"cl1h685ev000bxfdnh2sa8ixl","tag_id":"cl1h6wg310000nadngfrugjq7","_id":"cl1h6wg350007nadne1v43shp"},{"post_id":"cl1h685ev000bxfdnh2sa8ixl","tag_id":"cl1h6wg330002nadn5ocb97su","_id":"cl1h6wg350008nadnbl155xut"},{"post_id":"cl1h685ev000bxfdnh2sa8ixl","tag_id":"cl1h6wg330003nadn6faw87pk","_id":"cl1h6wg350009nadn44ys8993"},{"post_id":"cl1h685ev000bxfdnh2sa8ixl","tag_id":"cl1h6wg340004nadn2aa742xn","_id":"cl1h6wg35000anadnb60ielwj"},{"post_id":"cl1h685ev000bxfdnh2sa8ixl","tag_id":"cl1h6wg340005nadn7i9d5ws8","_id":"cl1h6wg35000bnadngoxnatmv"},{"post_id":"cl1h685ev000bxfdnh2sa8ixl","tag_id":"cl1h6wg350006nadn1xkoeuly","_id":"cl1h6wg35000cnadnbjaaaec6"},{"post_id":"cl1h685ej0003xfdn8u2sg3v2","tag_id":"cl1h74hwp000073dn0ybl86mq","_id":"cl1h74hwt000473dndqh2fglv"},{"post_id":"cl1h685ej0003xfdn8u2sg3v2","tag_id":"cl1h74hwr000273dn9snn6pcf","_id":"cl1h74hwt000573dn16mj3zem"},{"post_id":"cl1h685ej0003xfdn8u2sg3v2","tag_id":"cl1h74hws000373dn2axre93o","_id":"cl1h74hwt000673dngmv545y1"},{"post_id":"cl1h685ej0003xfdn8u2sg3v2","tag_id":"cl1h6wg310000nadngfrugjq7","_id":"cl1h74hwt000773dn33sfesre"},{"post_id":"cl1h685ej0003xfdn8u2sg3v2","tag_id":"cl1h6wg330002nadn5ocb97su","_id":"cl1h74hwt000873dn3efna0i1"},{"post_id":"cl1h685ew000exfdn7p6m9oen","tag_id":"cl1h75wqg000973dnbdg84bo0","_id":"cl1h75wqh000c73dn183c7sgh"},{"post_id":"cl1h685ew000exfdn7p6m9oen","tag_id":"cl1h75wqh000b73dn6g050r3e","_id":"cl1h75wqh000d73dn08bhbh5w"},{"post_id":"cl1h685ew000exfdn7p6m9oen","tag_id":"cl1h6wg330003nadn6faw87pk","_id":"cl1h75wqh000e73dnecksbvlz"},{"post_id":"cl1h685f1000nxfdn594j7nyf","tag_id":"cl1h76hm4000f73dnfayva95g","_id":"cl1h76hm5000h73dn6ywbcg48"},{"post_id":"cl1h685f1000nxfdn594j7nyf","tag_id":"cl1h6wg330003nadn6faw87pk","_id":"cl1h76hm5000i73dnhmbn6qpz"},{"post_id":"cl43ya1lc0000gndn8pa72sw0","tag_id":"cl43xy15f0000zydne3h5fe3e","_id":"cl43ya1lf0001gndn7fo5fn1d"},{"post_id":"cl43ya1lc0000gndn8pa72sw0","tag_id":"cl43xy15h0001zydne53b09r3","_id":"cl43ya1lf0002gndne17d6xkn"},{"post_id":"cl43ya1lc0000gndn8pa72sw0","tag_id":"cl43xy15i0002zydn1qbjegvx","_id":"cl43ya1lf0004gndn7ed1gmuo"},{"post_id":"cl43ya1lc0000gndn8pa72sw0","tag_id":"cl1h6wg330003nadn6faw87pk","_id":"cl43ya1lf0005gndng8lfcqgl"},{"post_id":"clutixr7v0000gpdnhgjw9n5o","tag_id":"clutixr7w0001gpdndeq23157","_id":"clutixr800005gpdnfrr5avn6"},{"post_id":"clutixr7v0000gpdnhgjw9n5o","tag_id":"clutixr7z0003gpdna5pt7gqg","_id":"clutixr800006gpdn4m9r663e"},{"post_id":"clutixr7v0000gpdnhgjw9n5o","tag_id":"clutixr7z0004gpdnbnvwcubn","_id":"clutixr800007gpdn86tc7g4i"}],"Tag":[{"name":"Hexo-Theme-LiveMyLife","_id":"cl1h685ep0005xfdn80q4e6r4"},{"name":"amd4700ge,AIO,all in one,pve,proxmox","_id":"cl1h685ev000cxfdnhi4r0qyo"},{"name":"non-censor","_id":"cl1h685ey000gxfdn80r43i33"},{"name":"pve,proxmox,openwrt,ddns,acme,ssl","_id":"cl1h685ey000ixfdn45aed1l5"},{"name":"redmi, ac2100, openwrt","_id":"cl1h685ez000kxfdnds9860b1"},{"name":"wireguard, openwrt","_id":"cl1h685f3000pxfdnbjr63giy"},{"name":"pve","_id":"cl1h6wg310000nadngfrugjq7"},{"name":"proxmox","_id":"cl1h6wg330002nadn5ocb97su"},{"name":"openwrt","_id":"cl1h6wg330003nadn6faw87pk"},{"name":"ddns","_id":"cl1h6wg340004nadn2aa742xn"},{"name":"acme","_id":"cl1h6wg340005nadn7i9d5ws8"},{"name":"ssl","_id":"cl1h6wg350006nadn1xkoeuly"},{"name":"amd4700ge","_id":"cl1h74hwp000073dn0ybl86mq"},{"name":"AIO","_id":"cl1h74hwr000273dn9snn6pcf"},{"name":"all in one","_id":"cl1h74hws000373dn2axre93o"},{"name":"redmi","_id":"cl1h75wqg000973dnbdg84bo0"},{"name":"ac2100","_id":"cl1h75wqh000b73dn6g050r3e"},{"name":"wireguard","_id":"cl1h76hm4000f73dnfayva95g"},{"name":"4g随身wifi","_id":"cl43t836200014ednd46jg7lq"},{"name":"4g","_id":"cl43xy15f0000zydne3h5fe3e"},{"name":"wifi","_id":"cl43xy15h0001zydne53b09r3"},{"name":"dongle","_id":"cl43xy15i0002zydn1qbjegvx"},{"name":"omv","_id":"clutixr7w0001gpdndeq23157"},{"name":"openmediavault","_id":"clutixr7z0003gpdna5pt7gqg"},{"name":"crash","_id":"clutixr7z0004gpdnbnvwcubn"}]}}